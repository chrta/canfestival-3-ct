<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>CanFestival: /home/epimerde/documents/tc11/CanFestival-3/objdictgen/nodemanager.py Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<h1>/home/epimerde/documents/tc11/CanFestival-3/objdictgen/nodemanager.py</h1><a href="nodemanager_8py.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a><a class="code" href="namespacenodemanager.html">00001</a> <span class="comment">#!/usr/bin/env python</span>
<a name="l00002"></a>00002 <span class="comment"># -*- coding: utf-8 -*-</span>
<a name="l00003"></a>00003 
<a name="l00004"></a>00004 <span class="comment">#This file is part of CanFestival, a library implementing CanOpen Stack. </span>
<a name="l00005"></a>00005 <span class="comment">#</span>
<a name="l00006"></a>00006 <span class="comment">#Copyright (C): Edouard TISSERANT, Francis DUPIN and Laurent BESSARD</span>
<a name="l00007"></a>00007 <span class="comment">#</span>
<a name="l00008"></a>00008 <span class="comment">#See COPYING file for copyrights details.</span>
<a name="l00009"></a>00009 <span class="comment">#</span>
<a name="l00010"></a>00010 <span class="comment">#This library is free software; you can redistribute it and/or</span>
<a name="l00011"></a>00011 <span class="comment">#modify it under the terms of the GNU Lesser General Public</span>
<a name="l00012"></a>00012 <span class="comment">#License as published by the Free Software Foundation; either</span>
<a name="l00013"></a>00013 <span class="comment">#version 2.1 of the License, or (at your option) any later version.</span>
<a name="l00014"></a>00014 <span class="comment">#</span>
<a name="l00015"></a>00015 <span class="comment">#This library is distributed in the hope that it will be useful,</span>
<a name="l00016"></a>00016 <span class="comment">#but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00017"></a>00017 <span class="comment">#MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
<a name="l00018"></a>00018 <span class="comment">#Lesser General Public License for more details.</span>
<a name="l00019"></a>00019 <span class="comment">#</span>
<a name="l00020"></a>00020 <span class="comment">#You should have received a copy of the GNU Lesser General Public</span>
<a name="l00021"></a>00021 <span class="comment">#License along with this library; if not, write to the Free Software</span>
<a name="l00022"></a>00022 <span class="comment">#Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span>
<a name="l00023"></a>00023 
<a name="l00024"></a>00024 <span class="keyword">from</span> gnosis.xml.pickle <span class="keyword">import</span> *
<a name="l00025"></a>00025 <span class="keyword">from</span> gnosis.xml.pickle.util <span class="keyword">import</span> setParanoia
<a name="l00026"></a>00026 setParanoia(0)
<a name="l00027"></a>00027 
<a name="l00028"></a>00028 <span class="keyword">from</span> node <span class="keyword">import</span> *
<a name="l00029"></a>00029 <span class="keyword">import</span> eds_utils, gen_cfile
<a name="l00030"></a>00030 
<a name="l00031"></a>00031 <span class="keyword">from</span> types <span class="keyword">import</span> *
<a name="l00032"></a>00032 <span class="keyword">import</span> os, re
<a name="l00033"></a>00033 
<a name="l00034"></a>00034 UndoBufferLength = 20
<a name="l00035"></a>00035 
<a name="l00036"></a>00036 type_model = re.compile(<span class="stringliteral">'([\_A-Z]*)([0-9]*)'</span>)
<a name="l00037"></a>00037 range_model = re.compile(<span class="stringliteral">'([\_A-Z]*)([0-9]*)\[([\-0-9]*)-([\-0-9]*)\]'</span>)
<a name="l00038"></a>00038 
<a name="l00039"></a>00039 <span class="comment"># ID for the file viewed</span>
<a name="l00040"></a>00040 CurrentID = 0
<a name="l00041"></a>00041 
<a name="l00042"></a>00042 <span class="comment"># Returns a new id</span>
<a name="l00043"></a><a class="code" href="namespacenodemanager.html#ea588f8d36eff932dcf6faf78a9ddf1d">00043</a> <span class="keyword">def </span><a class="code" href="namespacenodemanager.html#ea588f8d36eff932dcf6faf78a9ddf1d">GetNewId</a>():
<a name="l00044"></a>00044     <span class="keyword">global</span> CurrentID
<a name="l00045"></a>00045     CurrentID += 1
<a name="l00046"></a>00046     <span class="keywordflow">return</span> CurrentID
<a name="l00047"></a>00047 
<a name="l00048"></a>00048 <span class="stringliteral">"""</span>
<a name="l00049"></a>00049 <span class="stringliteral">Class implementing a buffer of changes made on the current editing Object Dictionary</span>
<a name="l00050"></a>00050 <span class="stringliteral">"""</span>
<a name="l00051"></a>00051 
<a name="l00052"></a><a class="code" href="classnodemanager_1_1UndoBuffer.html">00052</a> <span class="keyword">class </span><a class="code" href="classnodemanager_1_1UndoBuffer.html">UndoBuffer</a>:
<a name="l00053"></a>00053 
<a name="l00054"></a>00054     <span class="stringliteral">"""</span>
<a name="l00055"></a><a class="code" href="classnodemanager_1_1UndoBuffer.html#f7faebec57947fa103b8ad9d2b726f04">00055</a> <span class="stringliteral">    Constructor initialising buffer</span>
<a name="l00056"></a><a class="code" href="classnodemanager_1_1UndoBuffer.html#7519445d4c5da6ace730aef461bb5ff4">00056</a> <span class="stringliteral">    """</span>
<a name="l00057"></a><a class="code" href="classnodemanager_1_1UndoBuffer.html#ac3ba6b2edb998e1d3c2c3ca5163b200">00057</a>     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1UndoBuffer.html#f7faebec57947fa103b8ad9d2b726f04">__init__</a>(self, currentstate, issaved = False):
<a name="l00058"></a><a class="code" href="classnodemanager_1_1UndoBuffer.html#efcb3fd67a5a77e1cffe5ee2d6fb612d">00058</a>         self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#7519445d4c5da6ace730aef461bb5ff4">Buffer</a>Buffer = []
<a name="l00059"></a><a class="code" href="classnodemanager_1_1UndoBuffer.html#51d3531c9b7ab75b2a4d6a5f49ebc15e">00059</a>         self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#ac3ba6b2edb998e1d3c2c3ca5163b200">CurrentIndex</a>CurrentIndex = -1
<a name="l00060"></a>00060         self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#efcb3fd67a5a77e1cffe5ee2d6fb612d">MinIndex</a>MinIndex = -1
<a name="l00061"></a>00061         self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#51d3531c9b7ab75b2a4d6a5f49ebc15e">MaxIndex</a>MaxIndex = -1
<a name="l00062"></a>00062         <span class="comment"># if current state is defined</span>
<a name="l00063"></a>00063         <span class="keywordflow">if</span> currentstate:
<a name="l00064"></a>00064             self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#ac3ba6b2edb998e1d3c2c3ca5163b200">CurrentIndex</a>CurrentIndex = 0
<a name="l00065"></a>00065             self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#efcb3fd67a5a77e1cffe5ee2d6fb612d">MinIndex</a>MinIndex = 0
<a name="l00066"></a>00066             self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#51d3531c9b7ab75b2a4d6a5f49ebc15e">MaxIndex</a>MaxIndex = 0
<a name="l00067"></a>00067         <span class="comment"># Initialising buffer with currentstate at the first place</span>
<a name="l00068"></a>00068         <span class="keywordflow">for</span> i <span class="keywordflow">in</span> xrange(UndoBufferLength):
<a name="l00069"></a>00069             <span class="keywordflow">if</span> i == 0:
<a name="l00070"></a>00070                 self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#7519445d4c5da6ace730aef461bb5ff4">Buffer</a>Buffer.append(currentstate)
<a name="l00071"></a>00071             <span class="keywordflow">else</span>:
<a name="l00072"></a>00072                 self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#7519445d4c5da6ace730aef461bb5ff4">Buffer</a>Buffer.append(<span class="keywordtype">None</span>)
<a name="l00073"></a><a class="code" href="classnodemanager_1_1UndoBuffer.html#abfc1f3adfc21d88b4382b410b9991d9">00073</a>         <span class="comment"># Initialising index of state saved</span>
<a name="l00074"></a>00074         <span class="keywordflow">if</span> issaved:
<a name="l00075"></a>00075             self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#abfc1f3adfc21d88b4382b410b9991d9">LastSave</a>LastSave = 0
<a name="l00076"></a>00076         <span class="keywordflow">else</span>:
<a name="l00077"></a>00077             self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#abfc1f3adfc21d88b4382b410b9991d9">LastSave</a>LastSave = -1
<a name="l00078"></a>00078     
<a name="l00079"></a>00079     <span class="stringliteral">"""</span>
<a name="l00080"></a><a class="code" href="classnodemanager_1_1UndoBuffer.html#22639d6b02995759c718dbb775bc8b7d">00080</a> <span class="stringliteral">    Add a new state in buffer</span>
<a name="l00081"></a>00081 <span class="stringliteral">    """</span>
<a name="l00082"></a>00082     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1UndoBuffer.html#22639d6b02995759c718dbb775bc8b7d">Buffering</a>(self, currentstate):
<a name="l00083"></a>00083         self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#ac3ba6b2edb998e1d3c2c3ca5163b200">CurrentIndex</a>CurrentIndex = (self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#ac3ba6b2edb998e1d3c2c3ca5163b200">CurrentIndex</a>CurrentIndex + 1) % UndoBufferLength
<a name="l00084"></a>00084         self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#7519445d4c5da6ace730aef461bb5ff4">Buffer</a>Buffer[self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#ac3ba6b2edb998e1d3c2c3ca5163b200">CurrentIndex</a>CurrentIndex] = currentstate
<a name="l00085"></a>00085         <span class="comment"># Actualising buffer limits</span>
<a name="l00086"></a>00086         self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#51d3531c9b7ab75b2a4d6a5f49ebc15e">MaxIndex</a>MaxIndex = self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#ac3ba6b2edb998e1d3c2c3ca5163b200">CurrentIndex</a>CurrentIndex
<a name="l00087"></a>00087         <span class="keywordflow">if</span> self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#efcb3fd67a5a77e1cffe5ee2d6fb612d">MinIndex</a>MinIndex == self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#ac3ba6b2edb998e1d3c2c3ca5163b200">CurrentIndex</a>CurrentIndex:
<a name="l00088"></a>00088             <span class="comment"># If the removed state was the state saved, there is no state saved in the buffer</span>
<a name="l00089"></a>00089             <span class="keywordflow">if</span> self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#abfc1f3adfc21d88b4382b410b9991d9">LastSave</a>LastSave == self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#efcb3fd67a5a77e1cffe5ee2d6fb612d">MinIndex</a>MinIndex:
<a name="l00090"></a>00090                 self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#abfc1f3adfc21d88b4382b410b9991d9">LastSave</a>LastSave = -1
<a name="l00091"></a>00091             self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#efcb3fd67a5a77e1cffe5ee2d6fb612d">MinIndex</a>MinIndex = (self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#efcb3fd67a5a77e1cffe5ee2d6fb612d">MinIndex</a>MinIndex + 1) % UndoBufferLength
<a name="l00092"></a>00092         self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#efcb3fd67a5a77e1cffe5ee2d6fb612d">MinIndex</a>MinIndex = max(self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#efcb3fd67a5a77e1cffe5ee2d6fb612d">MinIndex</a>MinIndex, 0)
<a name="l00093"></a>00093     
<a name="l00094"></a>00094     <span class="stringliteral">"""</span>
<a name="l00095"></a><a class="code" href="classnodemanager_1_1UndoBuffer.html#8f121c407be19f42f10ccc2518227dd3">00095</a> <span class="stringliteral">    Return current state of buffer</span>
<a name="l00096"></a>00096 <span class="stringliteral">    """</span>
<a name="l00097"></a>00097     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1UndoBuffer.html#8f121c407be19f42f10ccc2518227dd3">Current</a>(self):
<a name="l00098"></a>00098         <span class="keywordflow">return</span> self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#7519445d4c5da6ace730aef461bb5ff4">Buffer</a>Buffer[self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#ac3ba6b2edb998e1d3c2c3ca5163b200">CurrentIndex</a>CurrentIndex]
<a name="l00099"></a>00099     
<a name="l00100"></a>00100     <span class="stringliteral">"""</span>
<a name="l00101"></a><a class="code" href="classnodemanager_1_1UndoBuffer.html#8c689bee39a62cf857525787f6def0a4">00101</a> <span class="stringliteral">    Change current state to previous in buffer and return new current state</span>
<a name="l00102"></a>00102 <span class="stringliteral">    """</span>
<a name="l00103"></a>00103     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1UndoBuffer.html#8c689bee39a62cf857525787f6def0a4">Previous</a>(self):
<a name="l00104"></a>00104         <span class="keywordflow">if</span> self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#ac3ba6b2edb998e1d3c2c3ca5163b200">CurrentIndex</a>CurrentIndex != self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#efcb3fd67a5a77e1cffe5ee2d6fb612d">MinIndex</a>MinIndex:
<a name="l00105"></a>00105             self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#ac3ba6b2edb998e1d3c2c3ca5163b200">CurrentIndex</a>CurrentIndex = (self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#ac3ba6b2edb998e1d3c2c3ca5163b200">CurrentIndex</a>CurrentIndex - 1) % UndoBufferLength
<a name="l00106"></a>00106             <span class="keywordflow">return</span> self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#7519445d4c5da6ace730aef461bb5ff4">Buffer</a>Buffer[self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#ac3ba6b2edb998e1d3c2c3ca5163b200">CurrentIndex</a>CurrentIndex]
<a name="l00107"></a>00107         <span class="keywordflow">return</span> <span class="keywordtype">None</span>
<a name="l00108"></a>00108     
<a name="l00109"></a>00109     <span class="stringliteral">"""</span>
<a name="l00110"></a><a class="code" href="classnodemanager_1_1UndoBuffer.html#a29ba64843a2d852b28cc01b411ce06f">00110</a> <span class="stringliteral">    Change current state to next in buffer and return new current state</span>
<a name="l00111"></a>00111 <span class="stringliteral">    """</span>
<a name="l00112"></a>00112     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1UndoBuffer.html#a29ba64843a2d852b28cc01b411ce06f">Next</a>(self):
<a name="l00113"></a>00113         <span class="keywordflow">if</span> self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#ac3ba6b2edb998e1d3c2c3ca5163b200">CurrentIndex</a>CurrentIndex != self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#51d3531c9b7ab75b2a4d6a5f49ebc15e">MaxIndex</a>MaxIndex:
<a name="l00114"></a>00114             self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#ac3ba6b2edb998e1d3c2c3ca5163b200">CurrentIndex</a>CurrentIndex = (self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#ac3ba6b2edb998e1d3c2c3ca5163b200">CurrentIndex</a>CurrentIndex + 1) % UndoBufferLength
<a name="l00115"></a>00115             <span class="keywordflow">return</span> self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#7519445d4c5da6ace730aef461bb5ff4">Buffer</a>Buffer[self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#ac3ba6b2edb998e1d3c2c3ca5163b200">CurrentIndex</a>CurrentIndex]
<a name="l00116"></a>00116         <span class="keywordflow">return</span> <span class="keywordtype">None</span>
<a name="l00117"></a>00117     
<a name="l00118"></a>00118     <span class="stringliteral">"""</span>
<a name="l00119"></a><a class="code" href="classnodemanager_1_1UndoBuffer.html#2ff748b5b8445e36cac96fd5726dc80e">00119</a> <span class="stringliteral">    Return True if current state is the first in buffer</span>
<a name="l00120"></a>00120 <span class="stringliteral">    """</span>
<a name="l00121"></a>00121     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1UndoBuffer.html#2ff748b5b8445e36cac96fd5726dc80e">IsFirst</a>(self):
<a name="l00122"></a>00122         <span class="keywordflow">return</span> self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#ac3ba6b2edb998e1d3c2c3ca5163b200">CurrentIndex</a>CurrentIndex == self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#efcb3fd67a5a77e1cffe5ee2d6fb612d">MinIndex</a>MinIndex
<a name="l00123"></a>00123     
<a name="l00124"></a>00124     <span class="stringliteral">"""</span>
<a name="l00125"></a><a class="code" href="classnodemanager_1_1UndoBuffer.html#87ef542c80367efcb4f5d8c97dabc4de">00125</a> <span class="stringliteral">    Return True if current state is the last in buffer</span>
<a name="l00126"></a>00126 <span class="stringliteral">    """</span>
<a name="l00127"></a>00127     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1UndoBuffer.html#87ef542c80367efcb4f5d8c97dabc4de">IsLast</a>(self):
<a name="l00128"></a>00128         <span class="keywordflow">return</span> self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#ac3ba6b2edb998e1d3c2c3ca5163b200">CurrentIndex</a>CurrentIndex == self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#51d3531c9b7ab75b2a4d6a5f49ebc15e">MaxIndex</a>MaxIndex
<a name="l00129"></a>00129 
<a name="l00130"></a>00130     <span class="stringliteral">"""</span>
<a name="l00131"></a><a class="code" href="classnodemanager_1_1UndoBuffer.html#351f7c0312c72b4fd49b34e56e6449f1">00131</a> <span class="stringliteral">    Note that current state is saved</span>
<a name="l00132"></a>00132 <span class="stringliteral">    """</span>
<a name="l00133"></a>00133     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1UndoBuffer.html#351f7c0312c72b4fd49b34e56e6449f1">CurrentSaved</a>(self):
<a name="l00134"></a>00134         self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#abfc1f3adfc21d88b4382b410b9991d9">LastSave</a>LastSave = self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#ac3ba6b2edb998e1d3c2c3ca5163b200">CurrentIndex</a>CurrentIndex
<a name="l00135"></a>00135         
<a name="l00136"></a>00136     <span class="stringliteral">"""</span>
<a name="l00137"></a><a class="code" href="classnodemanager_1_1UndoBuffer.html#8d3fd5b2285366f941cc02489a16ea32">00137</a> <span class="stringliteral">    Return True if current state is saved</span>
<a name="l00138"></a>00138 <span class="stringliteral">    """</span>
<a name="l00139"></a>00139     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1UndoBuffer.html#8d3fd5b2285366f941cc02489a16ea32">IsCurrentSaved</a>(self):
<a name="l00140"></a>00140         <span class="keywordflow">return</span> self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#abfc1f3adfc21d88b4382b410b9991d9">LastSave</a>LastSave == self.<a class="code" href="classnodemanager_1_1UndoBuffer.html#ac3ba6b2edb998e1d3c2c3ca5163b200">CurrentIndex</a>CurrentIndex
<a name="l00141"></a>00141 
<a name="l00142"></a>00142 
<a name="l00143"></a>00143 
<a name="l00144"></a>00144 <span class="stringliteral">"""</span>
<a name="l00145"></a>00145 <span class="stringliteral">Class which control the operations made on the node and answer to view requests</span>
<a name="l00146"></a>00146 <span class="stringliteral">"""</span>
<a name="l00147"></a>00147 
<a name="l00148"></a><a class="code" href="classnodemanager_1_1NodeManager.html">00148</a> <span class="keyword">class </span><a class="code" href="classnodemanager_1_1NodeManager.html">NodeManager</a>:
<a name="l00149"></a>00149 
<a name="l00150"></a>00150     <span class="stringliteral">"""</span>
<a name="l00151"></a><a class="code" href="classnodemanager_1_1NodeManager.html#5358e4bbce92e7efa94e8a8af6539d51">00151</a> <span class="stringliteral">    Constructor</span>
<a name="l00152"></a><a class="code" href="classnodemanager_1_1NodeManager.html#6f4b2b8bfaad8695971d7b3fbde3d24c">00152</a> <span class="stringliteral">    """</span>
<a name="l00153"></a><a class="code" href="classnodemanager_1_1NodeManager.html#41b876781b15d80c22373f32b7efa3e4">00153</a>     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#5358e4bbce92e7efa94e8a8af6539d51">__init__</a>(self, cwd):
<a name="l00154"></a><a class="code" href="classnodemanager_1_1NodeManager.html#d5be2d321e10ab74d8d163580fae5007">00154</a>         self.<a class="code" href="classnodemanager_1_1NodeManager.html#6f4b2b8bfaad8695971d7b3fbde3d24c">LastNewIndex</a>LastNewIndex = 0
<a name="l00155"></a><a class="code" href="classnodemanager_1_1NodeManager.html#410b10ff94d011c0423028d7d57d0e4d">00155</a>         self.<a class="code" href="classnodemanager_1_1NodeManager.html#41b876781b15d80c22373f32b7efa3e4">FilePaths</a>FilePaths = {}
<a name="l00156"></a><a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">00156</a>         self.<a class="code" href="classnodemanager_1_1NodeManager.html#d5be2d321e10ab74d8d163580fae5007">FileNames</a>FileNames = {}
<a name="l00157"></a><a class="code" href="classnodemanager_1_1NodeManager.html#6c8bf71c030cd7647b28623e61c7df4a">00157</a>         self.<a class="code" href="classnodemanager_1_1NodeManager.html#410b10ff94d011c0423028d7d57d0e4d">NodeIndex</a>NodeIndex = <span class="keywordtype">None</span>
<a name="l00158"></a><a class="code" href="classnodemanager_1_1NodeManager.html#4e29c7a82ea6540edcbc55a1f98b77ae">00158</a>         self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode = <span class="keywordtype">None</span>
<a name="l00159"></a>00159         self.<a class="code" href="classnodemanager_1_1NodeManager.html#6c8bf71c030cd7647b28623e61c7df4a">ScriptDirectory</a>ScriptDirectory = cwd
<a name="l00160"></a>00160         self.<a class="code" href="classnodemanager_1_1NodeManager.html#4e29c7a82ea6540edcbc55a1f98b77ae">UndoBuffers</a>UndoBuffers = {}
<a name="l00161"></a>00161 
<a name="l00162"></a>00162 <span class="comment">#-------------------------------------------------------------------------------</span>
<a name="l00163"></a>00163 <span class="comment">#                         Type and Map Variable Lists</span>
<a name="l00164"></a>00164 <span class="comment">#-------------------------------------------------------------------------------</span>
<a name="l00165"></a>00165     
<a name="l00166"></a>00166     <span class="stringliteral">"""</span>
<a name="l00167"></a><a class="code" href="classnodemanager_1_1NodeManager.html#24575a8cc619f68041969be904d0f3b0">00167</a> <span class="stringliteral">    Return the list of types defined for the current node</span>
<a name="l00168"></a>00168 <span class="stringliteral">    """</span>
<a name="l00169"></a>00169     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#24575a8cc619f68041969be904d0f3b0">GetCurrentTypeList</a>(self):
<a name="l00170"></a>00170         <span class="keywordflow">if</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode:
<a name="l00171"></a>00171             <span class="keywordflow">return</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.GetTypeList()
<a name="l00172"></a>00172         <span class="keywordflow">else</span>:
<a name="l00173"></a>00173             <span class="keywordflow">return</span> <span class="stringliteral">""</span>
<a name="l00174"></a>00174 
<a name="l00175"></a>00175     <span class="stringliteral">"""</span>
<a name="l00176"></a><a class="code" href="classnodemanager_1_1NodeManager.html#a504ce44097274d42f0f3436d2576361">00176</a> <span class="stringliteral">    Return the list of variables that can be mapped for the current node</span>
<a name="l00177"></a>00177 <span class="stringliteral">    """</span>
<a name="l00178"></a>00178     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#a504ce44097274d42f0f3436d2576361">GetCurrentMapList</a>(self):
<a name="l00179"></a>00179         <span class="keywordflow">if</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode:
<a name="l00180"></a>00180             <span class="keywordflow">return</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.GetMapList()
<a name="l00181"></a>00181         <span class="keywordflow">else</span>:
<a name="l00182"></a>00182             <span class="keywordflow">return</span> <span class="stringliteral">""</span>
<a name="l00183"></a>00183 
<a name="l00184"></a>00184 <span class="comment">#-------------------------------------------------------------------------------</span>
<a name="l00185"></a>00185 <span class="comment">#                        Create Load and Save Functions</span>
<a name="l00186"></a>00186 <span class="comment">#-------------------------------------------------------------------------------</span>
<a name="l00187"></a>00187 
<a name="l00188"></a>00188     <span class="stringliteral">"""</span>
<a name="l00189"></a><a class="code" href="classnodemanager_1_1NodeManager.html#12653bdbfbf0d1a4749dd5f635a5c312">00189</a> <span class="stringliteral">    Create a new node and add a new buffer for storing it</span>
<a name="l00190"></a>00190 <span class="stringliteral">    """</span>
<a name="l00191"></a>00191     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#12653bdbfbf0d1a4749dd5f635a5c312">CreateNewNode</a>(self, name, id, type, description, profile, filepath, NMT, options):
<a name="l00192"></a>00192         <span class="comment"># Create a new node</span>
<a name="l00193"></a>00193         node = Node()
<a name="l00194"></a>00194         <span class="comment"># Try to load profile given</span>
<a name="l00195"></a>00195         result = self.<a class="code" href="classnodemanager_1_1NodeManager.html#091f8f1baf230f40550d0bc5f8982258">LoadProfile</a>LoadProfile(profile, filepath, node)
<a name="l00196"></a>00196         <span class="keywordflow">if</span> <span class="keywordflow">not</span> result:
<a name="l00197"></a>00197             <span class="comment"># if success, initialising node</span>
<a name="l00198"></a>00198             self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode = node
<a name="l00199"></a>00199             self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.SetNodeName(name)
<a name="l00200"></a>00200             self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.SetNodeID(id)
<a name="l00201"></a>00201             self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.SetNodeType(type)
<a name="l00202"></a>00202             self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.SetNodeDescription(description)
<a name="l00203"></a>00203             AddIndexList = self.<a class="code" href="classnodemanager_1_1NodeManager.html#fa0ae7296e271effdd28a3f2fbb94778">GetMandatoryIndexes</a>GetMandatoryIndexes()
<a name="l00204"></a>00204             <span class="keywordflow">if</span> NMT == <span class="stringliteral">"NodeGuarding"</span>:
<a name="l00205"></a>00205                 AddIndexList.extend([0x100C, 0x100D])
<a name="l00206"></a>00206             <span class="keywordflow">elif</span> NMT == <span class="stringliteral">"Heartbeat"</span>:
<a name="l00207"></a>00207                 AddIndexList.append(0x1017)
<a name="l00208"></a>00208             <span class="keywordflow">for</span> option <span class="keywordflow">in</span> options:
<a name="l00209"></a>00209                 <span class="keywordflow">if</span> option == <span class="stringliteral">"DS302"</span>:
<a name="l00210"></a>00210                     DS302Path = os.path.join(self.<a class="code" href="classnodemanager_1_1NodeManager.html#6c8bf71c030cd7647b28623e61c7df4a">ScriptDirectory</a>ScriptDirectory, <span class="stringliteral">"config/DS-302.prf"</span>)
<a name="l00211"></a>00211                     <span class="comment"># Charging DS-302 profile if choosen by user</span>
<a name="l00212"></a>00212                     <span class="keywordflow">if</span> os.path.isfile(DS302Path):
<a name="l00213"></a>00213                         <span class="keywordflow">try</span>:
<a name="l00214"></a>00214                             execfile(DS302Path)
<a name="l00215"></a>00215                             self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.SetDS302Profile(Mapping)
<a name="l00216"></a>00216                             self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.ExtendSpecificMenu(AddMenuEntries)
<a name="l00217"></a>00217                         <span class="keywordflow">except</span>:
<a name="l00218"></a>00218                             <span class="keywordflow">return</span> <span class="stringliteral">"Problem with DS-302! Syntax Error."</span>
<a name="l00219"></a>00219                     <span class="keywordflow">else</span>:
<a name="l00220"></a>00220                         <span class="keywordflow">return</span> <span class="stringliteral">"Couldn't find DS-302 in 'config' folder!"</span>
<a name="l00221"></a>00221                 <span class="keywordflow">elif</span> option == <span class="stringliteral">"GenSYNC"</span>:
<a name="l00222"></a>00222                     AddIndexList.extend([0x1005, 0x1006])
<a name="l00223"></a>00223                 <span class="keywordflow">elif</span> option == <span class="stringliteral">"Emergency"</span>:
<a name="l00224"></a>00224                     AddIndexList.append(0x1014)
<a name="l00225"></a>00225                 <span class="keywordflow">elif</span> option == <span class="stringliteral">"SaveConfig"</span>:
<a name="l00226"></a>00226                     AddIndexList.extend([0x1010, 0x1011, 0x1020])
<a name="l00227"></a>00227                 <span class="keywordflow">elif</span> option == <span class="stringliteral">"StoreEDS"</span>:
<a name="l00228"></a>00228                     AddIndexList.extend([0x1021, 0x1022])
<a name="l00229"></a>00229             <span class="comment"># Add a new buffer </span>
<a name="l00230"></a>00230             index = self.<a class="code" href="classnodemanager_1_1NodeManager.html#eac2e9ec8e243bb88df764e5fb8d3f27">AddNodeBuffer</a>AddNodeBuffer()
<a name="l00231"></a>00231             self.<a class="code" href="classnodemanager_1_1NodeManager.html#e959c5f835af208968908fe5eeb140a6">SetCurrentFilePath</a>SetCurrentFilePath(<span class="stringliteral">""</span>)
<a name="l00232"></a>00232             <span class="comment"># Add Mandatory indexes</span>
<a name="l00233"></a>00233             self.<a class="code" href="classnodemanager_1_1NodeManager.html#735fa1347836ef9be64a1ed34876f451">ManageEntriesOfCurrent</a>ManageEntriesOfCurrent(AddIndexList, [])
<a name="l00234"></a>00234             <span class="keywordflow">return</span> index
<a name="l00235"></a>00235         <span class="keywordflow">else</span>:
<a name="l00236"></a>00236             <span class="keywordflow">return</span> result
<a name="l00237"></a>00237     
<a name="l00238"></a>00238     <span class="stringliteral">"""</span>
<a name="l00239"></a><a class="code" href="classnodemanager_1_1NodeManager.html#091f8f1baf230f40550d0bc5f8982258">00239</a> <span class="stringliteral">    Load a profile in node</span>
<a name="l00240"></a>00240 <span class="stringliteral">    """</span>
<a name="l00241"></a>00241     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#091f8f1baf230f40550d0bc5f8982258">LoadProfile</a>(self, profile, filepath, node):
<a name="l00242"></a>00242         <span class="keywordflow">if</span> profile != <span class="stringliteral">"None"</span>:
<a name="l00243"></a>00243             <span class="comment"># Try to charge the profile given</span>
<a name="l00244"></a>00244             <span class="keywordflow">try</span>:
<a name="l00245"></a>00245                 execfile(filepath)
<a name="l00246"></a>00246                 node.SetProfileName(profile)
<a name="l00247"></a>00247                 node.SetProfile(Mapping)
<a name="l00248"></a>00248                 node.SetSpecificMenu(AddMenuEntries)
<a name="l00249"></a>00249                 <span class="keywordflow">return</span> <span class="keywordtype">None</span>
<a name="l00250"></a>00250             <span class="keywordflow">except</span>:
<a name="l00251"></a>00251                 <span class="keywordflow">return</span> <span class="stringliteral">"Syntax Error\nBad OD Profile file!."</span>
<a name="l00252"></a>00252         <span class="keywordflow">else</span>:
<a name="l00253"></a>00253             <span class="comment"># Default profile</span>
<a name="l00254"></a>00254             node.SetProfileName(<span class="stringliteral">"None"</span>)
<a name="l00255"></a>00255             node.SetProfile({})
<a name="l00256"></a>00256             node.SetSpecificMenu([])
<a name="l00257"></a>00257             <span class="keywordflow">return</span> <span class="keywordtype">None</span>
<a name="l00258"></a>00258 
<a name="l00259"></a>00259     <span class="stringliteral">"""</span>
<a name="l00260"></a><a class="code" href="classnodemanager_1_1NodeManager.html#274b68764a3878f456f3f8753bb6cf87">00260</a> <span class="stringliteral">    Open a file and store it in a new buffer</span>
<a name="l00261"></a>00261 <span class="stringliteral">    """</span>
<a name="l00262"></a>00262     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#274b68764a3878f456f3f8753bb6cf87">OpenFileInCurrent</a>(self, filepath):
<a name="l00263"></a>00263         <span class="comment"># Open and load file</span>
<a name="l00264"></a>00264         file = open(filepath, <span class="stringliteral">"</span><span class="stringliteral">r")</span>
<a name="l00265"></a>00265 <span class="stringliteral">        node = load(file)</span>
<a name="l00266"></a>00266 <span class="stringliteral">        file.close()</span>
<a name="l00267"></a>00267 <span class="stringliteral">        self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode = node</span>
<a name="l00268"></a>00268 <span class="stringliteral">        </span><span class="comment"># Add a new buffer and defining current state</span>
<a name="l00269"></a>00269         index = self.<a class="code" href="classnodemanager_1_1NodeManager.html#eac2e9ec8e243bb88df764e5fb8d3f27">AddNodeBuffer</a>AddNodeBuffer(self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.Copy(), <span class="keyword">True</span>)
<a name="l00270"></a>00270         self.<a class="code" href="classnodemanager_1_1NodeManager.html#e959c5f835af208968908fe5eeb140a6">SetCurrentFilePath</a>SetCurrentFilePath(filepath)
<a name="l00271"></a>00271         <span class="keywordflow">return</span> index
<a name="l00272"></a>00272 
<a name="l00273"></a>00273     <span class="stringliteral">"""</span>
<a name="l00274"></a><a class="code" href="classnodemanager_1_1NodeManager.html#42b9672fcec8be9ab909f5d94de0c06a">00274</a> <span class="stringliteral">    Save current node in  a file</span>
<a name="l00275"></a>00275 <span class="stringliteral">    """</span>
<a name="l00276"></a>00276     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#42b9672fcec8be9ab909f5d94de0c06a">SaveCurrentInFile</a>(self, filepath = None):
<a name="l00277"></a>00277         <span class="comment"># if no filepath given, verify if current node has a filepath defined</span>
<a name="l00278"></a>00278         <span class="keywordflow">if</span> <span class="keywordflow">not</span> filepath:
<a name="l00279"></a>00279             filepath = self.<a class="code" href="classnodemanager_1_1NodeManager.html#4426800be5bb5a6d88f3d52e5c9758e8">GetCurrentFilePath</a>GetCurrentFilePath()
<a name="l00280"></a>00280             <span class="keywordflow">if</span> filepath == <span class="stringliteral">""</span>:
<a name="l00281"></a>00281                 <span class="keywordflow">return</span> <span class="keyword">False</span>
<a name="l00282"></a>00282         <span class="comment"># Save node in file</span>
<a name="l00283"></a>00283         file = open(filepath, <span class="stringliteral">"w"</span>)
<a name="l00284"></a>00284         dump(self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode, file)
<a name="l00285"></a>00285         file.close()
<a name="l00286"></a>00286         self.<a class="code" href="classnodemanager_1_1NodeManager.html#e959c5f835af208968908fe5eeb140a6">SetCurrentFilePath</a>SetCurrentFilePath(filepath)
<a name="l00287"></a>00287         <span class="comment"># Update saved state in buffer</span>
<a name="l00288"></a>00288         self.<a class="code" href="classnodemanager_1_1NodeManager.html#4e29c7a82ea6540edcbc55a1f98b77ae">UndoBuffers</a>UndoBuffers[self.<a class="code" href="classnodemanager_1_1NodeManager.html#410b10ff94d011c0423028d7d57d0e4d">NodeIndex</a>NodeIndex].CurrentSaved()
<a name="l00289"></a>00289         <span class="keywordflow">return</span> <span class="keyword">True</span>
<a name="l00290"></a>00290 
<a name="l00291"></a>00291     <span class="stringliteral">"""</span>
<a name="l00292"></a><a class="code" href="classnodemanager_1_1NodeManager.html#152b970b624b095775bd072d3eb2a8f2">00292</a> <span class="stringliteral">    Close current state</span>
<a name="l00293"></a>00293 <span class="stringliteral">    """</span>
<a name="l00294"></a>00294     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#152b970b624b095775bd072d3eb2a8f2">CloseCurrent</a>(self, ignore = False):
<a name="l00295"></a>00295         <span class="comment"># Verify if it's not forced that the current node is saved before closing it</span>
<a name="l00296"></a>00296         <span class="keywordflow">if</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#4e29c7a82ea6540edcbc55a1f98b77ae">UndoBuffers</a>UndoBuffers[self.<a class="code" href="classnodemanager_1_1NodeManager.html#410b10ff94d011c0423028d7d57d0e4d">NodeIndex</a>NodeIndex].IsCurrentSaved() <span class="keywordflow">or</span> ignore:
<a name="l00297"></a>00297             self.<a class="code" href="classnodemanager_1_1NodeManager.html#3ccf1080dcb1e1efc94e5311fcfbf60b">RemoveNodeBuffer</a>RemoveNodeBuffer(self.<a class="code" href="classnodemanager_1_1NodeManager.html#410b10ff94d011c0423028d7d57d0e4d">NodeIndex</a>NodeIndex)
<a name="l00298"></a>00298             <span class="keywordflow">return</span> <span class="keyword">True</span>
<a name="l00299"></a>00299         <span class="keywordflow">return</span> <span class="keyword">False</span>
<a name="l00300"></a>00300 
<a name="l00301"></a>00301     <span class="stringliteral">"""</span>
<a name="l00302"></a><a class="code" href="classnodemanager_1_1NodeManager.html#b99cd2fc06950e3ffb19982a68205f4c">00302</a> <span class="stringliteral">    Import an eds file and store it in a new buffer if no node edited</span>
<a name="l00303"></a>00303 <span class="stringliteral">    """</span>
<a name="l00304"></a>00304     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#b99cd2fc06950e3ffb19982a68205f4c">ImportCurrentFromEDSFile</a>(self, filepath):
<a name="l00305"></a>00305         <span class="comment"># Generate node from definition in a xml file</span>
<a name="l00306"></a>00306         result = eds_utils.GenerateNode(filepath, self.<a class="code" href="classnodemanager_1_1NodeManager.html#6c8bf71c030cd7647b28623e61c7df4a">ScriptDirectory</a>ScriptDirectory)
<a name="l00307"></a>00307         <span class="keywordflow">if</span> isinstance(result, Node):
<a name="l00308"></a>00308             self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode = result
<a name="l00309"></a>00309             <span class="keywordflow">if</span> len(self.<a class="code" href="classnodemanager_1_1NodeManager.html#4e29c7a82ea6540edcbc55a1f98b77ae">UndoBuffers</a>UndoBuffers) == 0:
<a name="l00310"></a>00310                 index = self.<a class="code" href="classnodemanager_1_1NodeManager.html#eac2e9ec8e243bb88df764e5fb8d3f27">AddNodeBuffer</a>AddNodeBuffer()
<a name="l00311"></a>00311                 self.<a class="code" href="classnodemanager_1_1NodeManager.html#e959c5f835af208968908fe5eeb140a6">SetCurrentFilePath</a>SetCurrentFilePath(<span class="stringliteral">""</span>)
<a name="l00312"></a>00312             self.<a class="code" href="classnodemanager_1_1NodeManager.html#bb79b2acd54ebcac7e97fae36b234b18">BufferCurrentNode</a>BufferCurrentNode()
<a name="l00313"></a>00313             <span class="keywordflow">return</span> index
<a name="l00314"></a>00314         <span class="keywordflow">else</span>:
<a name="l00315"></a>00315             <span class="keywordflow">return</span> result
<a name="l00316"></a>00316     
<a name="l00317"></a>00317     <span class="stringliteral">"""</span>
<a name="l00318"></a><a class="code" href="classnodemanager_1_1NodeManager.html#fc83d8f38a6c084d331829f0670c29e1">00318</a> <span class="stringliteral">    Export to an eds file and store it in a new buffer if no node edited</span>
<a name="l00319"></a>00319 <span class="stringliteral">    """</span>
<a name="l00320"></a>00320     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#fc83d8f38a6c084d331829f0670c29e1">ExportCurrentToEDSFile</a>(self, filepath):
<a name="l00321"></a>00321         <span class="keywordflow">return</span> eds_utils.GenerateEDSFile(filepath, self)
<a name="l00322"></a>00322     
<a name="l00323"></a>00323     <span class="stringliteral">"""</span>
<a name="l00324"></a><a class="code" href="classnodemanager_1_1NodeManager.html#0951abe6610e7b5af6b5850fd4f8dcb5">00324</a> <span class="stringliteral">    Build the C definition of Object Dictionary for current node </span>
<a name="l00325"></a>00325 <span class="stringliteral">    """</span>
<a name="l00326"></a>00326     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#0951abe6610e7b5af6b5850fd4f8dcb5">ExportCurrentToCFile</a>(self, filepath):
<a name="l00327"></a>00327         <span class="keywordflow">return</span> gen_cfile.GenerateFile(filepath, self)
<a name="l00328"></a>00328 
<a name="l00329"></a>00329 <span class="comment">#-------------------------------------------------------------------------------</span>
<a name="l00330"></a>00330 <span class="comment">#                        Add Entries to Current Functions</span>
<a name="l00331"></a>00331 <span class="comment">#-------------------------------------------------------------------------------</span>
<a name="l00332"></a>00332 
<a name="l00333"></a>00333     <span class="stringliteral">"""</span>
<a name="l00334"></a>00334 <span class="stringliteral">    Add the specified number of subentry for the given entry. Verify that total</span>
<a name="l00335"></a><a class="code" href="classnodemanager_1_1NodeManager.html#0eaeb35962cff5c762d96ac4849b237f">00335</a> <span class="stringliteral">    number of subentry (except 0) doesn't exceed nbmax defined</span>
<a name="l00336"></a>00336 <span class="stringliteral">    """</span>
<a name="l00337"></a>00337     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#0eaeb35962cff5c762d96ac4849b237f">AddSubentriesToCurrent</a>(self, index, number):
<a name="l00338"></a>00338         <span class="comment"># Informations about entry</span>
<a name="l00339"></a>00339         length = self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.GetEntry(index, 0)
<a name="l00340"></a>00340         infos = self.<a class="code" href="classnodemanager_1_1NodeManager.html#eb864b0df23c119a93ec91836f7dc131">GetEntryInfos</a>GetEntryInfos(index)
<a name="l00341"></a>00341         subentry_infos = self.<a class="code" href="classnodemanager_1_1NodeManager.html#b305e31c72f62266cfc5e15b056a0e90">GetSubentryInfos</a>GetSubentryInfos(index, 1)
<a name="l00342"></a>00342         <span class="comment"># Get default value for subindex</span>
<a name="l00343"></a>00343         <span class="keywordflow">if</span> <span class="stringliteral">"default"</span> <span class="keywordflow">in</span> subentry_infos:
<a name="l00344"></a>00344             default = subentry_infos[<span class="stringliteral">"default"</span>]
<a name="l00345"></a>00345         <span class="keywordflow">else</span>:
<a name="l00346"></a>00346             default = self.<a class="code" href="classnodemanager_1_1NodeManager.html#b8edb6dc0298dc7d117a327c06a24ab9">GetTypeDefaultValue</a>GetTypeDefaultValue(subentry_infos[<span class="stringliteral">"type"</span>])   
<a name="l00347"></a>00347         <span class="comment"># First case entry is record</span>
<a name="l00348"></a>00348         <span class="keywordflow">if</span> infos[<span class="stringliteral">"struct"</span>] &amp; OD_IdenticalSubindexes:
<a name="l00349"></a>00349             <span class="keywordflow">for</span> i <span class="keywordflow">in</span> xrange(1, min(number,subentry_infos[<span class="stringliteral">"nbmax"</span>]-length) + 1):
<a name="l00350"></a>00350                 self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.AddEntry(index, length + i, default)
<a name="l00351"></a>00351             self.<a class="code" href="classnodemanager_1_1NodeManager.html#bb79b2acd54ebcac7e97fae36b234b18">BufferCurrentNode</a>BufferCurrentNode()
<a name="l00352"></a>00352         <span class="comment"># Second case entry is array, only possible for manufacturer specific</span>
<a name="l00353"></a>00353         <span class="keywordflow">elif</span> infos[<span class="stringliteral">"struct"</span>] &amp; OD_MultipleSubindexes <span class="keywordflow">and</span> 0x2000 &lt;= index &lt;= 0x5FFF:
<a name="l00354"></a>00354             values = {<span class="stringliteral">"name"</span> : <span class="stringliteral">"Undefined"</span>, <span class="stringliteral">"type"</span> : 5, <span class="stringliteral">"access"</span> : <span class="stringliteral">"rw"</span>, <span class="stringliteral">"pdo"</span> : <span class="keyword">True</span>}
<a name="l00355"></a>00355             <span class="keywordflow">for</span> i <span class="keywordflow">in</span> xrange(1, min(number,0xFE-length) + 1):
<a name="l00356"></a>00356                 self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.AddMappingEntry(index, length + i, values = values.copy())
<a name="l00357"></a>00357                 self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.AddEntry(index, length + i, 0)
<a name="l00358"></a>00358             self.<a class="code" href="classnodemanager_1_1NodeManager.html#bb79b2acd54ebcac7e97fae36b234b18">BufferCurrentNode</a>BufferCurrentNode()
<a name="l00359"></a>00359 
<a name="l00360"></a>00360     <span class="stringliteral">"""</span>
<a name="l00361"></a>00361 <span class="stringliteral">    Remove the specified number of subentry for the given entry. Verify that total</span>
<a name="l00362"></a><a class="code" href="classnodemanager_1_1NodeManager.html#3712711003c4e7e4c5bfe286acc23170">00362</a> <span class="stringliteral">    number of subentry (except 0) isn't less than 1</span>
<a name="l00363"></a>00363 <span class="stringliteral">    """</span>
<a name="l00364"></a>00364     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#3712711003c4e7e4c5bfe286acc23170">RemoveSubentriesFromCurrent</a>(self, index, number):
<a name="l00365"></a>00365         <span class="comment"># Informations about entry</span>
<a name="l00366"></a>00366         infos = self.<a class="code" href="classnodemanager_1_1NodeManager.html#eb864b0df23c119a93ec91836f7dc131">GetEntryInfos</a>GetEntryInfos(index)
<a name="l00367"></a>00367         length = self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.GetEntry(index, 0)
<a name="l00368"></a>00368         <span class="comment"># Entry is a record, or is an array of manufacturer specific</span>
<a name="l00369"></a>00369         <span class="keywordflow">if</span> infos[<span class="stringliteral">"struct"</span>] &amp; OD_IdenticalSubindexes <span class="keywordflow">or</span> 0x2000 &lt;= index &lt;= 0x5FFF <span class="keywordflow">and</span> infos[<span class="stringliteral">"struct"</span>] &amp; OD_IdenticalSubindexes:
<a name="l00370"></a>00370             <span class="keywordflow">for</span> i <span class="keywordflow">in</span> xrange(min(number, length - 1)):
<a name="l00371"></a>00371                 self.<a class="code" href="classnodemanager_1_1NodeManager.html#966a6a87de055ade4dc5f6aca08a307f">RemoveCurrentVariable</a>RemoveCurrentVariable(index, length - i)
<a name="l00372"></a>00372             self.<a class="code" href="classnodemanager_1_1NodeManager.html#bb79b2acd54ebcac7e97fae36b234b18">BufferCurrentNode</a>BufferCurrentNode()
<a name="l00373"></a>00373 
<a name="l00374"></a>00374     <span class="stringliteral">"""</span>
<a name="l00375"></a><a class="code" href="classnodemanager_1_1NodeManager.html#a9bbd8bc45f3a992d7fdde208bacb2ff">00375</a> <span class="stringliteral">    Add a SDO Server to current node</span>
<a name="l00376"></a>00376 <span class="stringliteral">    """</span>
<a name="l00377"></a>00377     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#a9bbd8bc45f3a992d7fdde208bacb2ff">AddSDOServerToCurrent</a>(self):
<a name="l00378"></a>00378         <span class="comment"># An SDO Server is already defined at index 0x1200</span>
<a name="l00379"></a>00379         <span class="keywordflow">if</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.IsEntry(0x1200):
<a name="l00380"></a>00380             indexlist = [self.<a class="code" href="classnodemanager_1_1NodeManager.html#f3f718df6b3db1b68aee3c357cc722bd">GetLineFromIndex</a>GetLineFromIndex(0x1201)]
<a name="l00381"></a>00381             <span class="keywordflow">if</span> <span class="keywordtype">None</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> indexlist:
<a name="l00382"></a>00382                 self.<a class="code" href="classnodemanager_1_1NodeManager.html#735fa1347836ef9be64a1ed34876f451">ManageEntriesOfCurrent</a>ManageEntriesOfCurrent(indexlist, [])
<a name="l00383"></a>00383         <span class="comment"># Add an SDO Server at index 0x1200</span>
<a name="l00384"></a>00384         <span class="keywordflow">else</span>:
<a name="l00385"></a>00385             self.<a class="code" href="classnodemanager_1_1NodeManager.html#735fa1347836ef9be64a1ed34876f451">ManageEntriesOfCurrent</a>ManageEntriesOfCurrent([0x1200], [])
<a name="l00386"></a>00386         
<a name="l00387"></a>00387     <span class="stringliteral">"""</span>
<a name="l00388"></a><a class="code" href="classnodemanager_1_1NodeManager.html#7910bb937cd4cf13906b0cd86505674c">00388</a> <span class="stringliteral">    Add a SDO Server to current node</span>
<a name="l00389"></a>00389 <span class="stringliteral">    """</span>
<a name="l00390"></a>00390     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#7910bb937cd4cf13906b0cd86505674c">AddSDOClientToCurrent</a>(self):
<a name="l00391"></a>00391         indexlist = [self.<a class="code" href="classnodemanager_1_1NodeManager.html#f3f718df6b3db1b68aee3c357cc722bd">GetLineFromIndex</a>GetLineFromIndex(0x1280)]
<a name="l00392"></a>00392         <span class="keywordflow">if</span> <span class="keywordtype">None</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> indexlist:
<a name="l00393"></a>00393             self.<a class="code" href="classnodemanager_1_1NodeManager.html#735fa1347836ef9be64a1ed34876f451">ManageEntriesOfCurrent</a>ManageEntriesOfCurrent(indexlist, [])
<a name="l00394"></a>00394 
<a name="l00395"></a>00395     <span class="stringliteral">"""</span>
<a name="l00396"></a><a class="code" href="classnodemanager_1_1NodeManager.html#359cb64658d554454b8bfa18723f6f86">00396</a> <span class="stringliteral">    Add a Transmit PDO to current node</span>
<a name="l00397"></a>00397 <span class="stringliteral">    """</span>
<a name="l00398"></a>00398     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#359cb64658d554454b8bfa18723f6f86">AddPDOTransmitToCurrent</a>(self):
<a name="l00399"></a>00399         indexlist = [self.<a class="code" href="classnodemanager_1_1NodeManager.html#f3f718df6b3db1b68aee3c357cc722bd">GetLineFromIndex</a>GetLineFromIndex(0x1800),self.<a class="code" href="classnodemanager_1_1NodeManager.html#f3f718df6b3db1b68aee3c357cc722bd">GetLineFromIndex</a>GetLineFromIndex(0x1A00)]
<a name="l00400"></a>00400         <span class="keywordflow">if</span> <span class="keywordtype">None</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> indexlist:
<a name="l00401"></a>00401             self.<a class="code" href="classnodemanager_1_1NodeManager.html#735fa1347836ef9be64a1ed34876f451">ManageEntriesOfCurrent</a>ManageEntriesOfCurrent(indexlist, [])
<a name="l00402"></a>00402         
<a name="l00403"></a>00403     <span class="stringliteral">"""</span>
<a name="l00404"></a><a class="code" href="classnodemanager_1_1NodeManager.html#dc455012736c8481f95ff1036deb8c0b">00404</a> <span class="stringliteral">    Add a Receive PDO to current node</span>
<a name="l00405"></a>00405 <span class="stringliteral">    """</span>
<a name="l00406"></a>00406     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#dc455012736c8481f95ff1036deb8c0b">AddPDOReceiveToCurrent</a>(self):
<a name="l00407"></a>00407         indexlist = [self.<a class="code" href="classnodemanager_1_1NodeManager.html#f3f718df6b3db1b68aee3c357cc722bd">GetLineFromIndex</a>GetLineFromIndex(0x1400),self.<a class="code" href="classnodemanager_1_1NodeManager.html#f3f718df6b3db1b68aee3c357cc722bd">GetLineFromIndex</a>GetLineFromIndex(0x1600)]
<a name="l00408"></a>00408         <span class="keywordflow">if</span> <span class="keywordtype">None</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> indexlist:
<a name="l00409"></a>00409             self.<a class="code" href="classnodemanager_1_1NodeManager.html#735fa1347836ef9be64a1ed34876f451">ManageEntriesOfCurrent</a>ManageEntriesOfCurrent(indexlist, [])
<a name="l00410"></a>00410 
<a name="l00411"></a>00411     <span class="stringliteral">"""</span>
<a name="l00412"></a><a class="code" href="classnodemanager_1_1NodeManager.html#289765dcb04f19d8aba773c3ce2171c1">00412</a> <span class="stringliteral">    Add a list of entries defined in profile for menu item selected to current node</span>
<a name="l00413"></a>00413 <span class="stringliteral">    """</span>
<a name="l00414"></a>00414     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#289765dcb04f19d8aba773c3ce2171c1">AddSpecificEntryToCurrent</a>(self, menuitem):
<a name="l00415"></a>00415         indexlist = []
<a name="l00416"></a>00416         <span class="keywordflow">for</span> menu, indexes <span class="keywordflow">in</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.GetSpecificMenu():
<a name="l00417"></a>00417             <span class="keywordflow">if</span> menuitem == menu:
<a name="l00418"></a>00418                 <span class="keywordflow">for</span> index <span class="keywordflow">in</span> indexes:
<a name="l00419"></a>00419                     indexlist.append(self.<a class="code" href="classnodemanager_1_1NodeManager.html#f3f718df6b3db1b68aee3c357cc722bd">GetLineFromIndex</a>GetLineFromIndex(index))
<a name="l00420"></a>00420         <span class="keywordflow">if</span> <span class="keywordtype">None</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> indexlist:
<a name="l00421"></a>00421             self.<a class="code" href="classnodemanager_1_1NodeManager.html#735fa1347836ef9be64a1ed34876f451">ManageEntriesOfCurrent</a>ManageEntriesOfCurrent(indexlist, [])
<a name="l00422"></a>00422 
<a name="l00423"></a>00423     <span class="stringliteral">"""</span>
<a name="l00424"></a><a class="code" href="classnodemanager_1_1NodeManager.html#f3f718df6b3db1b68aee3c357cc722bd">00424</a> <span class="stringliteral">    Search the first index available for a pluri entry from base_index</span>
<a name="l00425"></a>00425 <span class="stringliteral">    """</span>
<a name="l00426"></a>00426     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#f3f718df6b3db1b68aee3c357cc722bd">GetLineFromIndex</a>(self, base_index):
<a name="l00427"></a>00427         found = <span class="keyword">False</span>
<a name="l00428"></a>00428         index = base_index
<a name="l00429"></a>00429         infos = self.<a class="code" href="classnodemanager_1_1NodeManager.html#eb864b0df23c119a93ec91836f7dc131">GetEntryInfos</a>GetEntryInfos(base_index)
<a name="l00430"></a>00430         <span class="keywordflow">while</span> index &lt; base_index + infos[<span class="stringliteral">"incr"</span>]*infos[<span class="stringliteral">"nbmax"</span>] <span class="keywordflow">and</span> <span class="keywordflow">not</span> found:
<a name="l00431"></a>00431             <span class="keywordflow">if</span> <span class="keywordflow">not</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.IsEntry(index):
<a name="l00432"></a>00432                 found = <span class="keyword">True</span>
<a name="l00433"></a>00433             <span class="keywordflow">else</span>:
<a name="l00434"></a>00434                 index += infos[<span class="stringliteral">"incr"</span>]
<a name="l00435"></a>00435         <span class="keywordflow">if</span> found:
<a name="l00436"></a>00436             <span class="keywordflow">return</span> index
<a name="l00437"></a>00437         <span class="keywordflow">return</span> <span class="keywordtype">None</span>
<a name="l00438"></a>00438     
<a name="l00439"></a>00439     <span class="stringliteral">"""</span>
<a name="l00440"></a><a class="code" href="classnodemanager_1_1NodeManager.html#735fa1347836ef9be64a1ed34876f451">00440</a> <span class="stringliteral">    Add entries specified in addinglist and remove entries specified in removinglist</span>
<a name="l00441"></a>00441 <span class="stringliteral">    """</span>
<a name="l00442"></a>00442     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#735fa1347836ef9be64a1ed34876f451">ManageEntriesOfCurrent</a>(self, addinglist, removinglist):
<a name="l00443"></a>00443         <span class="comment"># Add all the entries in addinglist</span>
<a name="l00444"></a>00444         <span class="keywordflow">for</span> index <span class="keywordflow">in</span> addinglist:
<a name="l00445"></a>00445             infos = self.<a class="code" href="classnodemanager_1_1NodeManager.html#eb864b0df23c119a93ec91836f7dc131">GetEntryInfos</a>GetEntryInfos(index)
<a name="l00446"></a>00446             <span class="keywordflow">if</span> infos[<span class="stringliteral">"struct"</span>] &amp; OD_MultipleSubindexes:
<a name="l00447"></a>00447                 <span class="comment"># First case entry is a record</span>
<a name="l00448"></a>00448                 <span class="keywordflow">if</span> infos[<span class="stringliteral">"struct"</span>] &amp; OD_IdenticalSubindexes:
<a name="l00449"></a>00449                     subentry_infos = self.<a class="code" href="classnodemanager_1_1NodeManager.html#b305e31c72f62266cfc5e15b056a0e90">GetSubentryInfos</a>GetSubentryInfos(index, 1)
<a name="l00450"></a>00450                     <span class="keywordflow">if</span> <span class="stringliteral">"default"</span> <span class="keywordflow">in</span> subentry_infos:
<a name="l00451"></a>00451                         default = subentry_infos[<span class="stringliteral">"default"</span>]
<a name="l00452"></a>00452                     <span class="keywordflow">else</span>:
<a name="l00453"></a>00453                         default = self.<a class="code" href="classnodemanager_1_1NodeManager.html#b8edb6dc0298dc7d117a327c06a24ab9">GetTypeDefaultValue</a>GetTypeDefaultValue(subentry_infos[<span class="stringliteral">"type"</span>])
<a name="l00454"></a>00454                     self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.AddEntry(index, 1, default)
<a name="l00455"></a>00455                 <span class="comment"># Second case entry is a record</span>
<a name="l00456"></a>00456                 <span class="keywordflow">else</span>:
<a name="l00457"></a>00457                     i = 1
<a name="l00458"></a>00458                     subentry_infos = self.<a class="code" href="classnodemanager_1_1NodeManager.html#b305e31c72f62266cfc5e15b056a0e90">GetSubentryInfos</a>GetSubentryInfos(index, i)
<a name="l00459"></a>00459                     <span class="keywordflow">while</span> subentry_infos:
<a name="l00460"></a>00460                         <span class="keywordflow">if</span> <span class="stringliteral">"default"</span> <span class="keywordflow">in</span> subentry_infos:
<a name="l00461"></a>00461                             default = subentry_infos[<span class="stringliteral">"default"</span>]
<a name="l00462"></a>00462                         <span class="keywordflow">else</span>:
<a name="l00463"></a>00463                             default = self.<a class="code" href="classnodemanager_1_1NodeManager.html#b8edb6dc0298dc7d117a327c06a24ab9">GetTypeDefaultValue</a>GetTypeDefaultValue(subentry_infos[<span class="stringliteral">"type"</span>])
<a name="l00464"></a>00464                         self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.AddEntry(index, i, default)
<a name="l00465"></a>00465                         i += 1
<a name="l00466"></a>00466                         subentry_infos = self.<a class="code" href="classnodemanager_1_1NodeManager.html#b305e31c72f62266cfc5e15b056a0e90">GetSubentryInfos</a>GetSubentryInfos(index, i)
<a name="l00467"></a>00467             <span class="comment"># Third case entry is a record</span>
<a name="l00468"></a>00468             <span class="keywordflow">else</span>:
<a name="l00469"></a>00469                 subentry_infos = self.<a class="code" href="classnodemanager_1_1NodeManager.html#b305e31c72f62266cfc5e15b056a0e90">GetSubentryInfos</a>GetSubentryInfos(index, 0)
<a name="l00470"></a>00470                 <span class="keywordflow">if</span> <span class="stringliteral">"default"</span> <span class="keywordflow">in</span> subentry_infos:
<a name="l00471"></a>00471                     default = subentry_infos[<span class="stringliteral">"default"</span>]
<a name="l00472"></a>00472                 <span class="keywordflow">else</span>:
<a name="l00473"></a>00473                     default = self.<a class="code" href="classnodemanager_1_1NodeManager.html#b8edb6dc0298dc7d117a327c06a24ab9">GetTypeDefaultValue</a>GetTypeDefaultValue(subentry_infos[<span class="stringliteral">"type"</span>])
<a name="l00474"></a>00474                 self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.AddEntry(index, 0, default)
<a name="l00475"></a>00475         <span class="comment"># Remove all the entries in removinglist</span>
<a name="l00476"></a>00476         <span class="keywordflow">for</span> index <span class="keywordflow">in</span> removinglist:
<a name="l00477"></a>00477             self.<a class="code" href="classnodemanager_1_1NodeManager.html#966a6a87de055ade4dc5f6aca08a307f">RemoveCurrentVariable</a>RemoveCurrentVariable(index)
<a name="l00478"></a>00478         self.<a class="code" href="classnodemanager_1_1NodeManager.html#bb79b2acd54ebcac7e97fae36b234b18">BufferCurrentNode</a>BufferCurrentNode()
<a name="l00479"></a>00479 
<a name="l00480"></a>00480 
<a name="l00481"></a>00481     <span class="stringliteral">"""</span>
<a name="l00482"></a>00482 <span class="stringliteral">    Remove an entry from current node. Analize the index to perform the correct</span>
<a name="l00483"></a><a class="code" href="classnodemanager_1_1NodeManager.html#966a6a87de055ade4dc5f6aca08a307f">00483</a> <span class="stringliteral">    method</span>
<a name="l00484"></a>00484 <span class="stringliteral">    """</span>
<a name="l00485"></a>00485     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#966a6a87de055ade4dc5f6aca08a307f">RemoveCurrentVariable</a>(self, index, subIndex = None):
<a name="l00486"></a>00486         Mappings = self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.GetMappings()
<a name="l00487"></a>00487         <span class="keywordflow">if</span> index &lt; 0x1000 <span class="keywordflow">and</span> subIndex == <span class="keywordtype">None</span>:
<a name="l00488"></a>00488             type = self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.GetEntry(index, 1)
<a name="l00489"></a>00489             <span class="keywordflow">for</span> i <span class="keywordflow">in</span> Mappings[-1]:
<a name="l00490"></a>00490                 <span class="keywordflow">for</span> value <span class="keywordflow">in</span> Mappings[-1][i][<span class="stringliteral">"values"</span>]:
<a name="l00491"></a>00491                     <span class="keywordflow">if</span> value[<span class="stringliteral">"type"</span>] == index:
<a name="l00492"></a>00492                         value[<span class="stringliteral">"type"</span>] = type
<a name="l00493"></a>00493             self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.RemoveMappingEntry(index)
<a name="l00494"></a>00494             self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.RemoveEntry(index)
<a name="l00495"></a>00495         <span class="keywordflow">elif</span> index == 0x1200 <span class="keywordflow">and</span> subIndex == <span class="keywordtype">None</span>:
<a name="l00496"></a>00496             self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.RemoveEntry(0x1200)
<a name="l00497"></a>00497         <span class="keywordflow">elif</span> 0x1201 &lt;= index &lt;= 0x127F <span class="keywordflow">and</span> subIndex == <span class="keywordtype">None</span>:
<a name="l00498"></a>00498             self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.RemoveLine(index, 0x127F)
<a name="l00499"></a>00499         <span class="keywordflow">elif</span> 0x1280 &lt;= index &lt;= 0x12FF <span class="keywordflow">and</span> subIndex == <span class="keywordtype">None</span>:
<a name="l00500"></a>00500             self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.RemoveLine(index, 0x12FF)
<a name="l00501"></a>00501         <span class="keywordflow">elif</span> 0x1400 &lt;= index &lt;= 0x15FF <span class="keywordflow">or</span> 0x1600 &lt;= index &lt;= 0x17FF <span class="keywordflow">and</span> subIndex == <span class="keywordtype">None</span>:
<a name="l00502"></a>00502             <span class="keywordflow">if</span> 0x1600 &lt;= index &lt;= 0x17FF <span class="keywordflow">and</span> subIndex == <span class="keywordtype">None</span>:
<a name="l00503"></a>00503                 index -= 0x200
<a name="l00504"></a>00504             self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.RemoveLine(index, 0x15FF)
<a name="l00505"></a>00505             self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.RemoveLine(index + 0x200, 0x17FF)
<a name="l00506"></a>00506         <span class="keywordflow">elif</span> 0x1800 &lt;= index &lt;= 0x19FF <span class="keywordflow">or</span> 0x1A00 &lt;= index &lt;= 0x1BFF <span class="keywordflow">and</span> subIndex == <span class="keywordtype">None</span>:
<a name="l00507"></a>00507             <span class="keywordflow">if</span> 0x1A00 &lt;= index &lt;= 0x1BFF:
<a name="l00508"></a>00508                 index -= 0x200
<a name="l00509"></a>00509             self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.RemoveLine(index, 0x19FF)
<a name="l00510"></a>00510             self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.RemoveLine(index + 0x200, 0x1BFF)
<a name="l00511"></a>00511         <span class="keywordflow">else</span>:
<a name="l00512"></a>00512             found = <span class="keyword">False</span>
<a name="l00513"></a>00513             <span class="keywordflow">for</span> menu,list <span class="keywordflow">in</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.GetSpecificMenu():
<a name="l00514"></a>00514                 <span class="keywordflow">for</span> i <span class="keywordflow">in</span> list:
<a name="l00515"></a>00515                     iinfos = self.<a class="code" href="classnodemanager_1_1NodeManager.html#eb864b0df23c119a93ec91836f7dc131">GetEntryInfos</a>GetEntryInfos(i)
<a name="l00516"></a>00516                     indexes = [i + incr * iinfos[<span class="stringliteral">"incr"</span>] <span class="keywordflow">for</span> incr <span class="keywordflow">in</span> xrange(iinfos[<span class="stringliteral">"nbmax"</span>])] 
<a name="l00517"></a>00517                     <span class="keywordflow">if</span> index <span class="keywordflow">in</span> indexes:
<a name="l00518"></a>00518                         found = <span class="keyword">True</span>
<a name="l00519"></a>00519                         diff = index - i
<a name="l00520"></a>00520                         <span class="keywordflow">for</span> j <span class="keywordflow">in</span> list:
<a name="l00521"></a>00521                             jinfos = self.<a class="code" href="classnodemanager_1_1NodeManager.html#eb864b0df23c119a93ec91836f7dc131">GetEntryInfos</a>GetEntryInfos(j)
<a name="l00522"></a>00522                             self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.RemoveLine(j + diff, j + jinfos[<span class="stringliteral">"incr"</span>]*jinfos[<span class="stringliteral">"nbmax"</span>], jinfos[<span class="stringliteral">"incr"</span>])
<a name="l00523"></a>00523             self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.RemoveMapVariable(index, subIndex)
<a name="l00524"></a>00524             <span class="keywordflow">if</span> <span class="keywordflow">not</span> found:
<a name="l00525"></a>00525                 infos = self.<a class="code" href="classnodemanager_1_1NodeManager.html#eb864b0df23c119a93ec91836f7dc131">GetEntryInfos</a>GetEntryInfos(index)
<a name="l00526"></a>00526                 <span class="keywordflow">if</span> <span class="keywordflow">not</span> infos[<span class="stringliteral">"need"</span>]:
<a name="l00527"></a>00527                     self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.RemoveEntry(index, subIndex)
<a name="l00528"></a>00528             <span class="keywordflow">if</span> index <span class="keywordflow">in</span> Mappings[-1]:
<a name="l00529"></a><a class="code" href="classnodemanager_1_1NodeManager.html#3291a925caac3db1aec97aa8175a487e">00529</a>                 self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.RemoveMappingEntry(index, subIndex)
<a name="l00530"></a>00530 
<a name="l00531"></a>00531     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#3291a925caac3db1aec97aa8175a487e">AddMapVariableToCurrent</a>(self, index, name, struct, number):
<a name="l00532"></a>00532         <span class="keywordflow">if</span> 0x2000 &lt;= index &lt;= 0x5FFF:
<a name="l00533"></a>00533             <span class="keywordflow">if</span> <span class="keywordflow">not</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.IsEntry(index):
<a name="l00534"></a>00534                 self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.AddMappingEntry(index, name = name, struct = struct)
<a name="l00535"></a>00535                 <span class="keywordflow">if</span> struct == var:
<a name="l00536"></a>00536                     values = {<span class="stringliteral">"name"</span> : name, <span class="stringliteral">"type"</span> : 0x05, <span class="stringliteral">"access"</span> : <span class="stringliteral">"rw"</span>, <span class="stringliteral">"pdo"</span> : <span class="keyword">True</span>}
<a name="l00537"></a>00537                     self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.AddMappingEntry(index, 0, values = values)
<a name="l00538"></a>00538                     self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.AddEntry(index, 0, 0)
<a name="l00539"></a>00539                 <span class="keywordflow">else</span>:
<a name="l00540"></a>00540                     values = {<span class="stringliteral">"name"</span> : <span class="stringliteral">"Number of Entries"</span>, <span class="stringliteral">"type"</span> : 0x05, <span class="stringliteral">"access"</span> : <span class="stringliteral">"ro"</span>, <span class="stringliteral">"pdo"</span> : <span class="keyword">False</span>}
<a name="l00541"></a>00541                     self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.AddMappingEntry(index, 0, values = values)
<a name="l00542"></a>00542                     <span class="keywordflow">if</span> struct == rec:
<a name="l00543"></a>00543                         values = {<span class="stringliteral">"name"</span> : name + <span class="stringliteral">" %d[(sub)]"</span>, <span class="stringliteral">"type"</span> : 0x05, <span class="stringliteral">"access"</span> : <span class="stringliteral">"rw"</span>, <span class="stringliteral">"pdo"</span> : <span class="keyword">True</span>, <span class="stringliteral">"nbmax"</span> : 0xFE}
<a name="l00544"></a>00544                         self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.AddMappingEntry(index, 1, values = values)
<a name="l00545"></a>00545                         <span class="keywordflow">for</span> i <span class="keywordflow">in</span> xrange(number):
<a name="l00546"></a>00546                             self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.AddEntry(index, i + 1, 0)
<a name="l00547"></a>00547                     <span class="keywordflow">else</span>:
<a name="l00548"></a>00548                         <span class="keywordflow">for</span> i <span class="keywordflow">in</span> xrange(number):
<a name="l00549"></a>00549                             values = {<span class="stringliteral">"name"</span> : <span class="stringliteral">"Undefined"</span>, <span class="stringliteral">"type"</span> : 0x05, <span class="stringliteral">"access"</span> : <span class="stringliteral">"rw"</span>, <span class="stringliteral">"pdo"</span> : <span class="keyword">True</span>}
<a name="l00550"></a>00550                             self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.AddMappingEntry(index, i + 1, values = values)
<a name="l00551"></a>00551                             self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.AddEntry(index, i + 1, 0)
<a name="l00552"></a>00552                 self.<a class="code" href="classnodemanager_1_1NodeManager.html#bb79b2acd54ebcac7e97fae36b234b18">BufferCurrentNode</a>BufferCurrentNode()
<a name="l00553"></a>00553                 <span class="keywordflow">return</span> <span class="keywordtype">None</span>
<a name="l00554"></a>00554             <span class="keywordflow">else</span>:
<a name="l00555"></a>00555                 <span class="keywordflow">return</span> <span class="stringliteral">"Index 0x%04X already defined!"</span>%index
<a name="l00556"></a>00556         <span class="keywordflow">else</span>:
<a name="l00557"></a><a class="code" href="classnodemanager_1_1NodeManager.html#67c9ed379da322dc8db21b56395d6799">00557</a>             <span class="keywordflow">return</span> <span class="stringliteral">"Index 0x%04X isn't a valid index for Map Variable!"</span>%index
<a name="l00558"></a>00558 
<a name="l00559"></a>00559     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#67c9ed379da322dc8db21b56395d6799">AddUserTypeToCurrent</a>(self, type, min, max, length):
<a name="l00560"></a>00560         index = 0xA0
<a name="l00561"></a>00561         <span class="keywordflow">while</span> index &lt; 0x100 <span class="keywordflow">and</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.IsEntry(index):
<a name="l00562"></a>00562             index += 1
<a name="l00563"></a>00563         <span class="keywordflow">if</span> index &lt; 0x100:
<a name="l00564"></a>00564             customisabletypes = self.<a class="code" href="classnodemanager_1_1NodeManager.html#38953afbd29be22621f6adab28ae3869">GetCustomisableTypes</a>GetCustomisableTypes()
<a name="l00565"></a>00565             name, valuetype = customisabletypes[type]
<a name="l00566"></a>00566             size = self.<a class="code" href="classnodemanager_1_1NodeManager.html#eb864b0df23c119a93ec91836f7dc131">GetEntryInfos</a>GetEntryInfos(type)[<span class="stringliteral">"size"</span>]
<a name="l00567"></a>00567             default = self.<a class="code" href="classnodemanager_1_1NodeManager.html#b8edb6dc0298dc7d117a327c06a24ab9">GetTypeDefaultValue</a>GetTypeDefaultValue(type)
<a name="l00568"></a>00568             <span class="keywordflow">if</span> valuetype == 0:
<a name="l00569"></a>00569                 self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.AddMappingEntry(index, name = <span class="stringliteral">"%s[%d-%d]"</span>%(name, min, max), struct = 3, size = size, default = default)
<a name="l00570"></a>00570                 self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.AddMappingEntry(index, 0, values = {<span class="stringliteral">"name"</span> : <span class="stringliteral">"Number of Entries"</span>, <span class="stringliteral">"type"</span> : 0x05, <span class="stringliteral">"access"</span> : <span class="stringliteral">"ro"</span>, <span class="stringliteral">"pdo"</span> : <span class="keyword">False</span>})
<a name="l00571"></a>00571                 self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.AddMappingEntry(index, 1, values = {<span class="stringliteral">"name"</span> : <span class="stringliteral">"Type"</span>, <span class="stringliteral">"type"</span> : 0x05, <span class="stringliteral">"access"</span> : <span class="stringliteral">"ro"</span>, <span class="stringliteral">"pdo"</span> : <span class="keyword">False</span>})
<a name="l00572"></a>00572                 self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.AddMappingEntry(index, 2, values = {<span class="stringliteral">"name"</span> : <span class="stringliteral">"Minimum Value"</span>, <span class="stringliteral">"type"</span> : type, <span class="stringliteral">"access"</span> : <span class="stringliteral">"ro"</span>, <span class="stringliteral">"pdo"</span> : <span class="keyword">False</span>})
<a name="l00573"></a>00573                 self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.AddMappingEntry(index, 3, values = {<span class="stringliteral">"name"</span> : <span class="stringliteral">"Maximum Value"</span>, <span class="stringliteral">"type"</span> : type, <span class="stringliteral">"access"</span> : <span class="stringliteral">"ro"</span>, <span class="stringliteral">"pdo"</span> : <span class="keyword">False</span>})
<a name="l00574"></a>00574                 self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.AddEntry(index, 1, type)
<a name="l00575"></a>00575                 self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.AddEntry(index, 2, min)
<a name="l00576"></a>00576                 self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.AddEntry(index, 3, max)
<a name="l00577"></a>00577             <span class="keywordflow">elif</span> valuetype == 1:
<a name="l00578"></a>00578                 self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.AddMappingEntry(index, name = <span class="stringliteral">"%s%d"</span>%(name, length), struct = 3, size = length * size, default = default)
<a name="l00579"></a>00579                 self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.AddMappingEntry(index, 0, values = {<span class="stringliteral">"name"</span> : <span class="stringliteral">"Number of Entries"</span>, <span class="stringliteral">"type"</span> : 0x05, <span class="stringliteral">"access"</span> : <span class="stringliteral">"ro"</span>, <span class="stringliteral">"pdo"</span> : <span class="keyword">False</span>})
<a name="l00580"></a>00580                 self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.AddMappingEntry(index, 1, values = {<span class="stringliteral">"name"</span> : <span class="stringliteral">"Type"</span>, <span class="stringliteral">"type"</span> : 0x05, <span class="stringliteral">"access"</span> : <span class="stringliteral">"ro"</span>, <span class="stringliteral">"pdo"</span> : <span class="keyword">False</span>})
<a name="l00581"></a>00581                 self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.AddMappingEntry(index, 2, values = {<span class="stringliteral">"name"</span> : <span class="stringliteral">"Length"</span>, <span class="stringliteral">"type"</span> : 0x05, <span class="stringliteral">"access"</span> : <span class="stringliteral">"ro"</span>, <span class="stringliteral">"pdo"</span> : <span class="keyword">False</span>})
<a name="l00582"></a>00582                 self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.AddEntry(index, 1, type)
<a name="l00583"></a>00583                 self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.AddEntry(index, 2, length)
<a name="l00584"></a>00584             self.<a class="code" href="classnodemanager_1_1NodeManager.html#bb79b2acd54ebcac7e97fae36b234b18">BufferCurrentNode</a>BufferCurrentNode()
<a name="l00585"></a>00585             <span class="keywordflow">return</span> <span class="keywordtype">None</span>
<a name="l00586"></a>00586         <span class="keywordflow">else</span>:
<a name="l00587"></a>00587             <span class="keywordflow">return</span> <span class="stringliteral">"Too many User Types have already been defined!"</span>
<a name="l00588"></a>00588 
<a name="l00589"></a>00589 <span class="comment">#-------------------------------------------------------------------------------</span>
<a name="l00590"></a>00590 <span class="comment">#                      Modify Entry and Mapping Functions</span>
<a name="l00591"></a><a class="code" href="classnodemanager_1_1NodeManager.html#dad0fbfe17b585712c0336ad71ec55d1">00591</a> <span class="comment">#-------------------------------------------------------------------------------</span>
<a name="l00592"></a>00592 
<a name="l00593"></a>00593     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#dad0fbfe17b585712c0336ad71ec55d1">SetCurrentEntryCallbacks</a>(self, index, value):
<a name="l00594"></a>00594         <span class="keywordflow">if</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode <span class="keywordflow">and</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.IsEntry(index):
<a name="l00595"></a>00595             entry_infos = self.<a class="code" href="classnodemanager_1_1NodeManager.html#eb864b0df23c119a93ec91836f7dc131">GetEntryInfos</a>GetEntryInfos(index)
<a name="l00596"></a>00596             <span class="keywordflow">if</span> <span class="stringliteral">"callback"</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> entry_infos:
<a name="l00597"></a>00597                 self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.SetParamsEntry(index, <span class="keywordtype">None</span>, callback = value)
<a name="l00598"></a><a class="code" href="classnodemanager_1_1NodeManager.html#7e9f5eccab23a7d2f7f7cb6f3e8fc92f">00598</a>                 self.<a class="code" href="classnodemanager_1_1NodeManager.html#bb79b2acd54ebcac7e97fae36b234b18">BufferCurrentNode</a>BufferCurrentNode()
<a name="l00599"></a>00599 
<a name="l00600"></a>00600     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#7e9f5eccab23a7d2f7f7cb6f3e8fc92f">SetCurrentEntry</a>(self, index, subIndex, value, name, editor):
<a name="l00601"></a>00601         <span class="keywordflow">if</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode <span class="keywordflow">and</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.IsEntry(index):
<a name="l00602"></a>00602             <span class="keywordflow">if</span> name == <span class="stringliteral">"value"</span>:
<a name="l00603"></a>00603                 <span class="keywordflow">if</span> editor == <span class="stringliteral">"map"</span>:
<a name="l00604"></a>00604                     value = self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.GetMapValue(value)
<a name="l00605"></a>00605                     <span class="keywordflow">if</span> value:
<a name="l00606"></a>00606                         self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.SetEntry(index, subIndex, value)
<a name="l00607"></a>00607                 <span class="keywordflow">elif</span> editor == <span class="stringliteral">"bool"</span>:
<a name="l00608"></a>00608                     value = value == <span class="stringliteral">"True"</span>
<a name="l00609"></a>00609                     self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.SetEntry(index, subIndex, value)
<a name="l00610"></a>00610                 <span class="keywordflow">elif</span> editor == <span class="stringliteral">"time"</span>:
<a name="l00611"></a>00611                     self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.SetEntry(index, subIndex, value)
<a name="l00612"></a>00612                 <span class="keywordflow">elif</span> editor == <span class="stringliteral">"number"</span>:
<a name="l00613"></a>00613                     <span class="keywordflow">try</span>:
<a name="l00614"></a>00614                         self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.SetEntry(index, subIndex, int(value))
<a name="l00615"></a>00615                     <span class="keywordflow">except</span>:
<a name="l00616"></a>00616                         <span class="keywordflow">pass</span>
<a name="l00617"></a>00617                 <span class="keywordflow">elif</span> editor == <span class="stringliteral">"domain"</span>:
<a name="l00618"></a>00618                     <span class="keywordflow">try</span>:
<a name="l00619"></a>00619                         <span class="keywordflow">if</span> len(value) % 2 != 0:
<a name="l00620"></a>00620                             value = <span class="stringliteral">"0"</span> + value
<a name="l00621"></a>00621                         value = value.decode(<span class="stringliteral">'hex_codec'</span>)
<a name="l00622"></a>00622                         self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.SetEntry(index, subIndex, value)
<a name="l00623"></a>00623                     <span class="keywordflow">except</span>:
<a name="l00624"></a>00624                         <span class="keywordflow">pass</span>
<a name="l00625"></a>00625                 <span class="keywordflow">else</span>:
<a name="l00626"></a>00626                     subentry_infos = self.<a class="code" href="classnodemanager_1_1NodeManager.html#b305e31c72f62266cfc5e15b056a0e90">GetSubentryInfos</a>GetSubentryInfos(index, subIndex)
<a name="l00627"></a>00627                     type = subentry_infos[<span class="stringliteral">"type"</span>]
<a name="l00628"></a>00628                     dic = {}
<a name="l00629"></a>00629                     <span class="keywordflow">for</span> typeindex, typevalue <span class="keywordflow">in</span> CustomisableTypes:
<a name="l00630"></a>00630                         dic[typeindex] = typevalue
<a name="l00631"></a>00631                     <span class="keywordflow">if</span> type <span class="keywordflow">not</span> <span class="keywordflow">in</span> dic:
<a name="l00632"></a>00632                         type = self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.GetEntry(type)[1]
<a name="l00633"></a>00633                     <span class="keywordflow">if</span> dic[type] == 0:
<a name="l00634"></a>00634                         <span class="keywordflow">try</span>:
<a name="l00635"></a>00635                             value = int(value, 16)
<a name="l00636"></a>00636                             self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.SetEntry(index, subIndex, value)
<a name="l00637"></a>00637                         <span class="keywordflow">except</span>:
<a name="l00638"></a>00638                             <span class="keywordflow">pass</span>
<a name="l00639"></a>00639                     <span class="keywordflow">else</span>:
<a name="l00640"></a>00640                         self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.SetEntry(index, subIndex, value)
<a name="l00641"></a>00641             <span class="keywordflow">elif</span> name <span class="keywordflow">in</span> [<span class="stringliteral">"comment"</span>, <span class="stringliteral">"save"</span>]:
<a name="l00642"></a>00642                 <span class="keywordflow">if</span> editor == <span class="stringliteral">"option"</span>:
<a name="l00643"></a>00643                     value = value == <span class="stringliteral">"Yes"</span>
<a name="l00644"></a>00644                 <span class="keywordflow">if</span> name == <span class="stringliteral">"save"</span>:
<a name="l00645"></a>00645                     self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.SetParamsEntry(index, subIndex, save = value)
<a name="l00646"></a>00646                 <span class="keywordflow">elif</span> name == <span class="stringliteral">"comment"</span>:
<a name="l00647"></a>00647                     self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.SetParamsEntry(index, subIndex, comment = value)
<a name="l00648"></a>00648             <span class="keywordflow">else</span>:
<a name="l00649"></a>00649                 <span class="keywordflow">if</span> editor == <span class="stringliteral">"type"</span>:
<a name="l00650"></a>00650                     value = self.<a class="code" href="classnodemanager_1_1NodeManager.html#a6660f49630ad17289a6f8c13569aef8">GetTypeIndex</a>GetTypeIndex(value)
<a name="l00651"></a>00651                     size = self.<a class="code" href="classnodemanager_1_1NodeManager.html#eb864b0df23c119a93ec91836f7dc131">GetEntryInfos</a>GetEntryInfos(value)[<span class="stringliteral">"size"</span>]
<a name="l00652"></a>00652                     self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.UpdateMapVariable(index, subIndex, size)
<a name="l00653"></a>00653                 <span class="keywordflow">elif</span> editor <span class="keywordflow">in</span> [<span class="stringliteral">"access"</span>,<span class="stringliteral">"raccess"</span>]:
<a name="l00654"></a>00654                     dic = {}
<a name="l00655"></a>00655                     <span class="keywordflow">for</span> abbrev,access <span class="keywordflow">in</span> AccessType.iteritems():
<a name="l00656"></a>00656                         dic[access] = abbrev
<a name="l00657"></a>00657                     value = dic[value]
<a name="l00658"></a>00658                     <span class="keywordflow">if</span> editor == <span class="stringliteral">"raccess"</span> <span class="keywordflow">and</span> <span class="keywordflow">not</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.IsMappingEntry(index):
<a name="l00659"></a>00659                         entry_infos = self.<a class="code" href="classnodemanager_1_1NodeManager.html#eb864b0df23c119a93ec91836f7dc131">GetEntryInfos</a>GetEntryInfos(index)
<a name="l00660"></a>00660                         self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.AddMappingEntry(index, name = entry_infos[<span class="stringliteral">"name"</span>], struct = 7)
<a name="l00661"></a>00661                         self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.AddMappingEntry(index, 0, values = self.<a class="code" href="classnodemanager_1_1NodeManager.html#b305e31c72f62266cfc5e15b056a0e90">GetSubentryInfos</a>GetSubentryInfos(index, 0, <span class="keyword">False</span>).copy())
<a name="l00662"></a>00662                         self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.AddMappingEntry(index, 1, values = self.<a class="code" href="classnodemanager_1_1NodeManager.html#b305e31c72f62266cfc5e15b056a0e90">GetSubentryInfos</a>GetSubentryInfos(index, 1, <span class="keyword">False</span>).copy())
<a name="l00663"></a>00663                 self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.SetMappingEntry(index, subIndex, values = {name : value})
<a name="l00664"></a><a class="code" href="classnodemanager_1_1NodeManager.html#d0de3995c628b62448fe144651c019bb">00664</a>             self.<a class="code" href="classnodemanager_1_1NodeManager.html#bb79b2acd54ebcac7e97fae36b234b18">BufferCurrentNode</a>BufferCurrentNode()
<a name="l00665"></a>00665 
<a name="l00666"></a>00666     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#d0de3995c628b62448fe144651c019bb">SetCurrentEntryName</a>(self, index, name):
<a name="l00667"></a>00667         self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.SetMappingEntry(index, name=name)
<a name="l00668"></a><a class="code" href="classnodemanager_1_1NodeManager.html#ab2a81a217a4fa5bb8bb79e9991e9db4">00668</a>         self.<a class="code" href="classnodemanager_1_1NodeManager.html#bb79b2acd54ebcac7e97fae36b234b18">BufferCurrentNode</a>BufferCurrentNode()
<a name="l00669"></a>00669 
<a name="l00670"></a>00670     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#ab2a81a217a4fa5bb8bb79e9991e9db4">SetCurrentUserType</a>(self, index, type, min, max, length):
<a name="l00671"></a>00671         customisabletypes = self.<a class="code" href="classnodemanager_1_1NodeManager.html#38953afbd29be22621f6adab28ae3869">GetCustomisableTypes</a>GetCustomisableTypes()
<a name="l00672"></a>00672         values, valuetype = self.<a class="code" href="classnodemanager_1_1NodeManager.html#587b1972ff83655696f30d4bb87894a4">GetCustomisedTypeValues</a>GetCustomisedTypeValues(index)
<a name="l00673"></a>00673         name, new_valuetype = customisabletypes[type]
<a name="l00674"></a>00674         size = self.<a class="code" href="classnodemanager_1_1NodeManager.html#eb864b0df23c119a93ec91836f7dc131">GetEntryInfos</a>GetEntryInfos(type)[<span class="stringliteral">"size"</span>]
<a name="l00675"></a>00675         default = self.<a class="code" href="classnodemanager_1_1NodeManager.html#b8edb6dc0298dc7d117a327c06a24ab9">GetTypeDefaultValue</a>GetTypeDefaultValue(type)
<a name="l00676"></a>00676         <span class="keywordflow">if</span> new_valuetype == 0:
<a name="l00677"></a>00677             self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.SetMappingEntry(index, name = <span class="stringliteral">"%s[%d-%d]"</span>%(name, min, max), struct = 3, size = size, default = default) 
<a name="l00678"></a>00678             <span class="keywordflow">if</span> valuetype == 1:
<a name="l00679"></a>00679                 self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.SetMappingEntry(index, 2, values = {<span class="stringliteral">"name"</span> : <span class="stringliteral">"Minimum Value"</span>, <span class="stringliteral">"type"</span> : type, <span class="stringliteral">"access"</span> : <span class="stringliteral">"ro"</span>, <span class="stringliteral">"pdo"</span> : <span class="keyword">False</span>})
<a name="l00680"></a>00680                 self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.AddMappingEntry(index, 3, values = {<span class="stringliteral">"name"</span> : <span class="stringliteral">"Maximum Value"</span>, <span class="stringliteral">"type"</span> : type, <span class="stringliteral">"access"</span> : <span class="stringliteral">"ro"</span>, <span class="stringliteral">"pdo"</span> : <span class="keyword">False</span>})
<a name="l00681"></a>00681             self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.SetEntry(index, 1, type)
<a name="l00682"></a>00682             self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.SetEntry(index, 2, min)
<a name="l00683"></a>00683             <span class="keywordflow">if</span> valuetype == 1:
<a name="l00684"></a>00684                 self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.AddEntry(index, 3, max)
<a name="l00685"></a>00685             <span class="keywordflow">else</span>:
<a name="l00686"></a>00686                 self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.SetEntry(index, 3, max)
<a name="l00687"></a>00687         <span class="keywordflow">elif</span> new_valuetype == 1:
<a name="l00688"></a>00688             self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.SetMappingEntry(index, name = <span class="stringliteral">"%s%d"</span>%(name, length), struct = 3, size = size, default = default)
<a name="l00689"></a>00689             <span class="keywordflow">if</span> valuetype == 0:
<a name="l00690"></a>00690                 self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.SetMappingEntry(index, 2, values = {<span class="stringliteral">"name"</span> : <span class="stringliteral">"Length"</span>, <span class="stringliteral">"type"</span> : 0x02, <span class="stringliteral">"access"</span> : <span class="stringliteral">"ro"</span>, <span class="stringliteral">"pdo"</span> : <span class="keyword">False</span>})
<a name="l00691"></a>00691                 self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.RemoveMappingEntry(index, 3)
<a name="l00692"></a>00692             self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.SetEntry(index, 1, type)
<a name="l00693"></a>00693             self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.SetEntry(index, 2, length)
<a name="l00694"></a>00694             <span class="keywordflow">if</span> valuetype == 0:
<a name="l00695"></a>00695                 self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.RemoveEntry(index, 3)
<a name="l00696"></a>00696         self.<a class="code" href="classnodemanager_1_1NodeManager.html#bb79b2acd54ebcac7e97fae36b234b18">BufferCurrentNode</a>BufferCurrentNode()
<a name="l00697"></a>00697 
<a name="l00698"></a>00698 <span class="comment">#-------------------------------------------------------------------------------</span>
<a name="l00699"></a>00699 <span class="comment">#                      Current Buffering Management Functions</span>
<a name="l00700"></a><a class="code" href="classnodemanager_1_1NodeManager.html#bb79b2acd54ebcac7e97fae36b234b18">00700</a> <span class="comment">#-------------------------------------------------------------------------------</span>
<a name="l00701"></a>00701 
<a name="l00702"></a>00702     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#bb79b2acd54ebcac7e97fae36b234b18">BufferCurrentNode</a>(self):
<a name="l00703"></a><a class="code" href="classnodemanager_1_1NodeManager.html#df2cf6733f713115af3f75258f756e44">00703</a>         self.<a class="code" href="classnodemanager_1_1NodeManager.html#4e29c7a82ea6540edcbc55a1f98b77ae">UndoBuffers</a>UndoBuffers[self.<a class="code" href="classnodemanager_1_1NodeManager.html#410b10ff94d011c0423028d7d57d0e4d">NodeIndex</a>NodeIndex].Buffering(self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.Copy())
<a name="l00704"></a>00704 
<a name="l00705"></a>00705     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#df2cf6733f713115af3f75258f756e44">CurrentIsSaved</a>(self):
<a name="l00706"></a><a class="code" href="classnodemanager_1_1NodeManager.html#4e09d1ae59275bac43fb3462f945b2b7">00706</a>         <span class="keywordflow">return</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#4e29c7a82ea6540edcbc55a1f98b77ae">UndoBuffers</a>UndoBuffers[self.<a class="code" href="classnodemanager_1_1NodeManager.html#410b10ff94d011c0423028d7d57d0e4d">NodeIndex</a>NodeIndex].IsCurrentSaved()
<a name="l00707"></a>00707 
<a name="l00708"></a>00708     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#4e09d1ae59275bac43fb3462f945b2b7">OneFileHasChanged</a>(self):
<a name="l00709"></a>00709         result = <span class="keyword">False</span>
<a name="l00710"></a>00710         <span class="keywordflow">for</span> buffer <span class="keywordflow">in</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#4e29c7a82ea6540edcbc55a1f98b77ae">UndoBuffers</a>UndoBuffers.values():
<a name="l00711"></a>00711             result |= <span class="keywordflow">not</span> buffer.IsCurrentSaved()
<a name="l00712"></a><a class="code" href="classnodemanager_1_1NodeManager.html#7b29a1052a7fa6ee188b166e3177485f">00712</a>         <span class="keywordflow">return</span> result
<a name="l00713"></a>00713 
<a name="l00714"></a>00714     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#7b29a1052a7fa6ee188b166e3177485f">GetBufferNumber</a>(self):
<a name="l00715"></a><a class="code" href="classnodemanager_1_1NodeManager.html#2f332723fc8da42f3fe9622a3b92356d">00715</a>         <span class="keywordflow">return</span> len(self.<a class="code" href="classnodemanager_1_1NodeManager.html#4e29c7a82ea6540edcbc55a1f98b77ae">UndoBuffers</a>UndoBuffers)
<a name="l00716"></a>00716 
<a name="l00717"></a>00717     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#2f332723fc8da42f3fe9622a3b92356d">LoadCurrentPrevious</a>(self):
<a name="l00718"></a><a class="code" href="classnodemanager_1_1NodeManager.html#9c706ee3cf44203d266c3c40f1145b47">00718</a>         self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode = self.<a class="code" href="classnodemanager_1_1NodeManager.html#4e29c7a82ea6540edcbc55a1f98b77ae">UndoBuffers</a>UndoBuffers[self.<a class="code" href="classnodemanager_1_1NodeManager.html#410b10ff94d011c0423028d7d57d0e4d">NodeIndex</a>NodeIndex].Previous().Copy()
<a name="l00719"></a>00719     
<a name="l00720"></a>00720     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#9c706ee3cf44203d266c3c40f1145b47">LoadCurrentNext</a>(self):
<a name="l00721"></a><a class="code" href="classnodemanager_1_1NodeManager.html#eac2e9ec8e243bb88df764e5fb8d3f27">00721</a>         self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode = self.<a class="code" href="classnodemanager_1_1NodeManager.html#4e29c7a82ea6540edcbc55a1f98b77ae">UndoBuffers</a>UndoBuffers[self.<a class="code" href="classnodemanager_1_1NodeManager.html#410b10ff94d011c0423028d7d57d0e4d">NodeIndex</a>NodeIndex].Next().Copy()
<a name="l00722"></a>00722 
<a name="l00723"></a>00723     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#eac2e9ec8e243bb88df764e5fb8d3f27">AddNodeBuffer</a>(self, currentstate = None, issaved = False):
<a name="l00724"></a>00724         self.<a class="code" href="classnodemanager_1_1NodeManager.html#410b10ff94d011c0423028d7d57d0e4d">NodeIndex</a>NodeIndex = GetNewId()
<a name="l00725"></a>00725         self.<a class="code" href="classnodemanager_1_1NodeManager.html#4e29c7a82ea6540edcbc55a1f98b77ae">UndoBuffers</a>UndoBuffers[self.<a class="code" href="classnodemanager_1_1NodeManager.html#410b10ff94d011c0423028d7d57d0e4d">NodeIndex</a>NodeIndex] = UndoBuffer(currentstate, issaved)
<a name="l00726"></a>00726         self.<a class="code" href="classnodemanager_1_1NodeManager.html#41b876781b15d80c22373f32b7efa3e4">FilePaths</a>FilePaths[self.<a class="code" href="classnodemanager_1_1NodeManager.html#410b10ff94d011c0423028d7d57d0e4d">NodeIndex</a>NodeIndex] = <span class="stringliteral">""</span>
<a name="l00727"></a>00727         self.<a class="code" href="classnodemanager_1_1NodeManager.html#d5be2d321e10ab74d8d163580fae5007">FileNames</a>FileNames[self.<a class="code" href="classnodemanager_1_1NodeManager.html#410b10ff94d011c0423028d7d57d0e4d">NodeIndex</a>NodeIndex] = <span class="stringliteral">""</span>
<a name="l00728"></a><a class="code" href="classnodemanager_1_1NodeManager.html#4ac7001e425a05c907a28218075f175f">00728</a>         <span class="keywordflow">return</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#410b10ff94d011c0423028d7d57d0e4d">NodeIndex</a>NodeIndex
<a name="l00729"></a>00729 
<a name="l00730"></a>00730     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#4ac7001e425a05c907a28218075f175f">ChangeCurrentNode</a>(self, index):
<a name="l00731"></a>00731         <span class="keywordflow">if</span> index <span class="keywordflow">in</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#4e29c7a82ea6540edcbc55a1f98b77ae">UndoBuffers</a>UndoBuffers.keys():
<a name="l00732"></a>00732             self.<a class="code" href="classnodemanager_1_1NodeManager.html#410b10ff94d011c0423028d7d57d0e4d">NodeIndex</a>NodeIndex = index
<a name="l00733"></a><a class="code" href="classnodemanager_1_1NodeManager.html#3ccf1080dcb1e1efc94e5311fcfbf60b">00733</a>             self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode = self.<a class="code" href="classnodemanager_1_1NodeManager.html#4e29c7a82ea6540edcbc55a1f98b77ae">UndoBuffers</a>UndoBuffers[self.<a class="code" href="classnodemanager_1_1NodeManager.html#410b10ff94d011c0423028d7d57d0e4d">NodeIndex</a>NodeIndex].Current().Copy()
<a name="l00734"></a>00734     
<a name="l00735"></a>00735     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#3ccf1080dcb1e1efc94e5311fcfbf60b">RemoveNodeBuffer</a>(self, index):
<a name="l00736"></a>00736         self.<a class="code" href="classnodemanager_1_1NodeManager.html#4e29c7a82ea6540edcbc55a1f98b77ae">UndoBuffers</a>UndoBuffers.pop(index)
<a name="l00737"></a>00737         self.<a class="code" href="classnodemanager_1_1NodeManager.html#41b876781b15d80c22373f32b7efa3e4">FilePaths</a>FilePaths.pop(index)
<a name="l00738"></a><a class="code" href="classnodemanager_1_1NodeManager.html#ec0793f016391c954ceb4654e4130dc3">00738</a>         self.<a class="code" href="classnodemanager_1_1NodeManager.html#d5be2d321e10ab74d8d163580fae5007">FileNames</a>FileNames.pop(index)
<a name="l00739"></a>00739     
<a name="l00740"></a>00740     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#ec0793f016391c954ceb4654e4130dc3">GetCurrentNodeIndex</a>(self):
<a name="l00741"></a><a class="code" href="classnodemanager_1_1NodeManager.html#1dedfc92859eb980e74ea6544233e6ba">00741</a>         <span class="keywordflow">return</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#410b10ff94d011c0423028d7d57d0e4d">NodeIndex</a>NodeIndex
<a name="l00742"></a>00742     
<a name="l00743"></a>00743     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#1dedfc92859eb980e74ea6544233e6ba">GetCurrentFilename</a>(self):
<a name="l00744"></a><a class="code" href="classnodemanager_1_1NodeManager.html#bf87dbbb8a5bbec59ab3b484853e1619">00744</a>         <span class="keywordflow">return</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#f96ff5a9ac497abf8918a7913c676da8">GetFilename</a>GetFilename(self.<a class="code" href="classnodemanager_1_1NodeManager.html#410b10ff94d011c0423028d7d57d0e4d">NodeIndex</a>NodeIndex)
<a name="l00745"></a>00745     
<a name="l00746"></a>00746     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#bf87dbbb8a5bbec59ab3b484853e1619">GetAllFilenames</a>(self):
<a name="l00747"></a>00747         indexes = self.<a class="code" href="classnodemanager_1_1NodeManager.html#4e29c7a82ea6540edcbc55a1f98b77ae">UndoBuffers</a>UndoBuffers.keys()
<a name="l00748"></a>00748         indexes.sort()
<a name="l00749"></a><a class="code" href="classnodemanager_1_1NodeManager.html#f96ff5a9ac497abf8918a7913c676da8">00749</a>         <span class="keywordflow">return</span> [self.<a class="code" href="classnodemanager_1_1NodeManager.html#f96ff5a9ac497abf8918a7913c676da8">GetFilename</a>GetFilename(idx) <span class="keywordflow">for</span> idx <span class="keywordflow">in</span> indexes]
<a name="l00750"></a>00750     
<a name="l00751"></a>00751     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#f96ff5a9ac497abf8918a7913c676da8">GetFilename</a>(self, index):
<a name="l00752"></a>00752         <span class="keywordflow">if</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#4e29c7a82ea6540edcbc55a1f98b77ae">UndoBuffers</a>UndoBuffers[index].IsCurrentSaved():
<a name="l00753"></a>00753             <span class="keywordflow">return</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#d5be2d321e10ab74d8d163580fae5007">FileNames</a>FileNames[index]
<a name="l00754"></a>00754         <span class="keywordflow">else</span>:
<a name="l00755"></a><a class="code" href="classnodemanager_1_1NodeManager.html#e959c5f835af208968908fe5eeb140a6">00755</a>             <span class="keywordflow">return</span> <span class="stringliteral">"~%s~"</span>%self.<a class="code" href="classnodemanager_1_1NodeManager.html#d5be2d321e10ab74d8d163580fae5007">FileNames</a>FileNames[index]
<a name="l00756"></a>00756     
<a name="l00757"></a>00757     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#e959c5f835af208968908fe5eeb140a6">SetCurrentFilePath</a>(self, filepath):
<a name="l00758"></a>00758         self.<a class="code" href="classnodemanager_1_1NodeManager.html#41b876781b15d80c22373f32b7efa3e4">FilePaths</a>FilePaths[self.<a class="code" href="classnodemanager_1_1NodeManager.html#410b10ff94d011c0423028d7d57d0e4d">NodeIndex</a>NodeIndex] = filepath
<a name="l00759"></a>00759         <span class="keywordflow">if</span> filepath == <span class="stringliteral">""</span>:
<a name="l00760"></a>00760             self.<a class="code" href="classnodemanager_1_1NodeManager.html#6f4b2b8bfaad8695971d7b3fbde3d24c">LastNewIndex</a>LastNewIndex += 1
<a name="l00761"></a>00761             self.<a class="code" href="classnodemanager_1_1NodeManager.html#d5be2d321e10ab74d8d163580fae5007">FileNames</a>FileNames[self.<a class="code" href="classnodemanager_1_1NodeManager.html#410b10ff94d011c0423028d7d57d0e4d">NodeIndex</a>NodeIndex] = <span class="stringliteral">"Unnamed%d"</span>%self.<a class="code" href="classnodemanager_1_1NodeManager.html#6f4b2b8bfaad8695971d7b3fbde3d24c">LastNewIndex</a>LastNewIndex
<a name="l00762"></a>00762         <span class="keywordflow">else</span>:
<a name="l00763"></a><a class="code" href="classnodemanager_1_1NodeManager.html#4426800be5bb5a6d88f3d52e5c9758e8">00763</a>             self.<a class="code" href="classnodemanager_1_1NodeManager.html#d5be2d321e10ab74d8d163580fae5007">FileNames</a>FileNames[self.<a class="code" href="classnodemanager_1_1NodeManager.html#410b10ff94d011c0423028d7d57d0e4d">NodeIndex</a>NodeIndex] = os.path.splitext(os.path.basename(filepath))[0]
<a name="l00764"></a>00764                 
<a name="l00765"></a>00765     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#4426800be5bb5a6d88f3d52e5c9758e8">GetCurrentFilePath</a>(self):
<a name="l00766"></a>00766         <span class="keywordflow">if</span> len(self.<a class="code" href="classnodemanager_1_1NodeManager.html#41b876781b15d80c22373f32b7efa3e4">FilePaths</a>FilePaths) &gt; 0:
<a name="l00767"></a>00767             <span class="keywordflow">return</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#41b876781b15d80c22373f32b7efa3e4">FilePaths</a>FilePaths[self.<a class="code" href="classnodemanager_1_1NodeManager.html#410b10ff94d011c0423028d7d57d0e4d">NodeIndex</a>NodeIndex]
<a name="l00768"></a>00768         <span class="keywordflow">else</span>:
<a name="l00769"></a><a class="code" href="classnodemanager_1_1NodeManager.html#cf7deb7b847cb8a6cd7a3af6b8070097">00769</a>             <span class="keywordflow">return</span> <span class="stringliteral">""</span>
<a name="l00770"></a>00770     
<a name="l00771"></a>00771     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#cf7deb7b847cb8a6cd7a3af6b8070097">GetCurrentBufferState</a>(self):
<a name="l00772"></a>00772         first = self.<a class="code" href="classnodemanager_1_1NodeManager.html#4e29c7a82ea6540edcbc55a1f98b77ae">UndoBuffers</a>UndoBuffers[self.<a class="code" href="classnodemanager_1_1NodeManager.html#410b10ff94d011c0423028d7d57d0e4d">NodeIndex</a>NodeIndex].IsFirst()
<a name="l00773"></a>00773         last = self.<a class="code" href="classnodemanager_1_1NodeManager.html#4e29c7a82ea6540edcbc55a1f98b77ae">UndoBuffers</a>UndoBuffers[self.<a class="code" href="classnodemanager_1_1NodeManager.html#410b10ff94d011c0423028d7d57d0e4d">NodeIndex</a>NodeIndex].IsLast()
<a name="l00774"></a>00774         <span class="keywordflow">return</span> <span class="keywordflow">not</span> first, <span class="keywordflow">not</span> last
<a name="l00775"></a>00775 
<a name="l00776"></a>00776 <span class="comment">#-------------------------------------------------------------------------------</span>
<a name="l00777"></a>00777 <span class="comment">#                         Profiles Management Functions</span>
<a name="l00778"></a><a class="code" href="classnodemanager_1_1NodeManager.html#74dfed4678ba786356b8d03873d01cec">00778</a> <span class="comment">#-------------------------------------------------------------------------------</span>
<a name="l00779"></a>00779 
<a name="l00780"></a>00780     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#74dfed4678ba786356b8d03873d01cec">GetCurrentCommunicationLists</a>(self):
<a name="l00781"></a>00781         list = []
<a name="l00782"></a>00782         <span class="keywordflow">for</span> index <span class="keywordflow">in</span> MappingDictionary.iterkeys():
<a name="l00783"></a>00783             <span class="keywordflow">if</span> 0x1000 &lt;= index &lt; 0x1200:
<a name="l00784"></a>00784                 list.append(index)
<a name="l00785"></a><a class="code" href="classnodemanager_1_1NodeManager.html#18ce6167b3340d17fc7962323ae344b6">00785</a>         <span class="keywordflow">return</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#26b88c9b0e6e72934ec591e8b974000c">GetProfileLists</a>GetProfileLists(MappingDictionary, list)
<a name="l00786"></a>00786     
<a name="l00787"></a>00787     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#18ce6167b3340d17fc7962323ae344b6">GetCurrentDS302Lists</a>(self):
<a name="l00788"></a><a class="code" href="classnodemanager_1_1NodeManager.html#b0da4084ac671ac3c8948c42acc55b8c">00788</a>         <span class="keywordflow">return</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#8f418509e43cc26670ef757c6854328b">GetSpecificProfileLists</a>GetSpecificProfileLists(self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.GetDS302Profile())
<a name="l00789"></a>00789     
<a name="l00790"></a>00790     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#b0da4084ac671ac3c8948c42acc55b8c">GetCurrentProfileLists</a>(self):
<a name="l00791"></a><a class="code" href="classnodemanager_1_1NodeManager.html#8f418509e43cc26670ef757c6854328b">00791</a>         <span class="keywordflow">return</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#8f418509e43cc26670ef757c6854328b">GetSpecificProfileLists</a>GetSpecificProfileLists(self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.GetProfile())
<a name="l00792"></a>00792     
<a name="l00793"></a>00793     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#8f418509e43cc26670ef757c6854328b">GetSpecificProfileLists</a>(self, mappingdictionary):
<a name="l00794"></a>00794         validlist = []
<a name="l00795"></a>00795         exclusionlist = []
<a name="l00796"></a>00796         <span class="keywordflow">for</span> name, list <span class="keywordflow">in</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.GetSpecificMenu():
<a name="l00797"></a>00797             exclusionlist.extend(list)
<a name="l00798"></a>00798         <span class="keywordflow">for</span> index <span class="keywordflow">in</span> mappingdictionary.iterkeys():
<a name="l00799"></a>00799             <span class="keywordflow">if</span> index <span class="keywordflow">not</span> <span class="keywordflow">in</span> exclusionlist:
<a name="l00800"></a>00800                 validlist.append(index)
<a name="l00801"></a><a class="code" href="classnodemanager_1_1NodeManager.html#26b88c9b0e6e72934ec591e8b974000c">00801</a>         <span class="keywordflow">return</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#26b88c9b0e6e72934ec591e8b974000c">GetProfileLists</a>GetProfileLists(mappingdictionary, validlist)
<a name="l00802"></a>00802     
<a name="l00803"></a>00803     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#26b88c9b0e6e72934ec591e8b974000c">GetProfileLists</a>(self, mappingdictionary, list):
<a name="l00804"></a>00804         dictionary = {}
<a name="l00805"></a>00805         current = []
<a name="l00806"></a>00806         <span class="keywordflow">for</span> index <span class="keywordflow">in</span> list:
<a name="l00807"></a>00807             dictionary[index] = (mappingdictionary[index][<span class="stringliteral">"name"</span>], mappingdictionary[index][<span class="stringliteral">"need"</span>])
<a name="l00808"></a>00808             <span class="keywordflow">if</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.IsEntry(index):
<a name="l00809"></a>00809                 current.append(index)
<a name="l00810"></a><a class="code" href="classnodemanager_1_1NodeManager.html#2db6aadfa79b0b2a9cfd09e45b71f03c">00810</a>         <span class="keywordflow">return</span> dictionary, current
<a name="l00811"></a>00811 
<a name="l00812"></a>00812     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#2db6aadfa79b0b2a9cfd09e45b71f03c">GetCurrentNextMapIndex</a>(self):
<a name="l00813"></a>00813         <span class="keywordflow">if</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode:
<a name="l00814"></a>00814             index = 0x2000
<a name="l00815"></a>00815             <span class="keywordflow">while</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.IsEntry(index) <span class="keywordflow">and</span> index &lt; 0x5FFF:
<a name="l00816"></a>00816                 index += 1
<a name="l00817"></a>00817             <span class="keywordflow">if</span> index &lt; 0x6000:
<a name="l00818"></a>00818                 <span class="keywordflow">return</span> index
<a name="l00819"></a>00819             <span class="keywordflow">else</span>:
<a name="l00820"></a><a class="code" href="classnodemanager_1_1NodeManager.html#5e8172882f6252e45bdb59f7248c83d6">00820</a>                 <span class="keywordflow">return</span> <span class="keywordtype">None</span>
<a name="l00821"></a>00821 
<a name="l00822"></a>00822     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#5e8172882f6252e45bdb59f7248c83d6">CurrentDS302Defined</a>(self):
<a name="l00823"></a>00823         <span class="keywordflow">if</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode:
<a name="l00824"></a>00824             <span class="keywordflow">return</span> len(self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.GetDS302Profile()) &gt; 0
<a name="l00825"></a>00825         <span class="keywordflow">return</span> <span class="keyword">False</span>
<a name="l00826"></a>00826 
<a name="l00827"></a>00827 <span class="comment">#-------------------------------------------------------------------------------</span>
<a name="l00828"></a>00828 <span class="comment">#                         Node State and Values Functions</span>
<a name="l00829"></a><a class="code" href="classnodemanager_1_1NodeManager.html#e2bbc613898b9926f47be95072c64160">00829</a> <span class="comment">#-------------------------------------------------------------------------------</span>
<a name="l00830"></a>00830     
<a name="l00831"></a>00831     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#e2bbc613898b9926f47be95072c64160">GetCurrentNodeName</a>(self):
<a name="l00832"></a>00832         <span class="keywordflow">if</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode:
<a name="l00833"></a>00833             <span class="keywordflow">return</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.GetNodeName()
<a name="l00834"></a>00834         <span class="keywordflow">else</span>:
<a name="l00835"></a><a class="code" href="classnodemanager_1_1NodeManager.html#72f10793222cbd6d4b621ce748acf141">00835</a>             <span class="keywordflow">return</span> <span class="stringliteral">""</span>
<a name="l00836"></a>00836 
<a name="l00837"></a>00837     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#72f10793222cbd6d4b621ce748acf141">GetCurrentNodeID</a>(self):
<a name="l00838"></a>00838         <span class="keywordflow">if</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode:
<a name="l00839"></a>00839             <span class="keywordflow">return</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.GetNodeID()
<a name="l00840"></a>00840         <span class="keywordflow">else</span>:
<a name="l00841"></a><a class="code" href="classnodemanager_1_1NodeManager.html#9305e3ffee31917d098f2131301ec1a5">00841</a>             <span class="keywordflow">return</span> <span class="keywordtype">None</span>
<a name="l00842"></a>00842 
<a name="l00843"></a>00843     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#9305e3ffee31917d098f2131301ec1a5">GetCurrentNodeInfos</a>(self):
<a name="l00844"></a>00844         name = self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.GetNodeName()
<a name="l00845"></a>00845         id = self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.GetNodeID()
<a name="l00846"></a>00846         type = self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.GetNodeType()
<a name="l00847"></a>00847         description = self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.GetNodeDescription()
<a name="l00848"></a><a class="code" href="classnodemanager_1_1NodeManager.html#300207ada996fc01af2b3a2ab882d799">00848</a>         <span class="keywordflow">return</span> name, id, type, description
<a name="l00849"></a>00849         
<a name="l00850"></a>00850     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#300207ada996fc01af2b3a2ab882d799">SetCurrentNodeInfos</a>(self, name, id, type, description):
<a name="l00851"></a>00851         self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.SetNodeName(name)
<a name="l00852"></a>00852         self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.SetNodeID(id)
<a name="l00853"></a>00853         self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.SetNodeType(type)
<a name="l00854"></a>00854         self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.SetNodeDescription(description)
<a name="l00855"></a><a class="code" href="classnodemanager_1_1NodeManager.html#eee0741327de398df87e8916995ad8f5">00855</a>         self.<a class="code" href="classnodemanager_1_1NodeManager.html#bb79b2acd54ebcac7e97fae36b234b18">BufferCurrentNode</a>BufferCurrentNode()
<a name="l00856"></a>00856 
<a name="l00857"></a>00857     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#eee0741327de398df87e8916995ad8f5">GetCurrentProfileName</a>(self):
<a name="l00858"></a>00858         <span class="keywordflow">if</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode:
<a name="l00859"></a>00859             <span class="keywordflow">return</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.GetProfileName()
<a name="l00860"></a><a class="code" href="classnodemanager_1_1NodeManager.html#97c725e85f609c7b5a17ff95dbb08aea">00860</a>         <span class="keywordflow">return</span> <span class="stringliteral">""</span>
<a name="l00861"></a>00861 
<a name="l00862"></a>00862     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#97c725e85f609c7b5a17ff95dbb08aea">IsCurrentEntry</a>(self, index):
<a name="l00863"></a>00863         <span class="keywordflow">if</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode:
<a name="l00864"></a>00864             <span class="keywordflow">return</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.IsEntry(index)
<a name="l00865"></a><a class="code" href="classnodemanager_1_1NodeManager.html#583794f09cbd29d97ba0cf0c43acfc85">00865</a>         <span class="keywordflow">return</span> <span class="keyword">False</span>
<a name="l00866"></a>00866     
<a name="l00867"></a>00867     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#583794f09cbd29d97ba0cf0c43acfc85">GetCurrentEntry</a>(self, index, subIndex = None):
<a name="l00868"></a>00868         <span class="keywordflow">if</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode:
<a name="l00869"></a>00869             <span class="keywordflow">return</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.GetEntry(index, subIndex)
<a name="l00870"></a><a class="code" href="classnodemanager_1_1NodeManager.html#92f2a252611dc624b8dca4df6b4fe1cb">00870</a>         <span class="keywordflow">return</span> <span class="keywordtype">None</span>
<a name="l00871"></a>00871     
<a name="l00872"></a>00872     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#92f2a252611dc624b8dca4df6b4fe1cb">GetCurrentParamsEntry</a>(self, index, subIndex = None):
<a name="l00873"></a>00873         <span class="keywordflow">if</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode:
<a name="l00874"></a>00874             <span class="keywordflow">return</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.GetParamsEntry(index, subIndex)
<a name="l00875"></a><a class="code" href="classnodemanager_1_1NodeManager.html#d94d7b584774b19dc7837c5a13ad4432">00875</a>         <span class="keywordflow">return</span> <span class="keywordtype">None</span>
<a name="l00876"></a>00876     
<a name="l00877"></a>00877     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#d94d7b584774b19dc7837c5a13ad4432">GetCurrentValidIndexes</a>(self, min, max):
<a name="l00878"></a>00878         validindexes = []
<a name="l00879"></a>00879         <span class="keywordflow">for</span> index <span class="keywordflow">in</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.GetIndexes():
<a name="l00880"></a>00880             <span class="keywordflow">if</span> min &lt;= index &lt;= max:
<a name="l00881"></a>00881                 validindexes.append((self.<a class="code" href="classnodemanager_1_1NodeManager.html#4da3a475cb7e66bf86f42aa8e9915673">GetEntryName</a>GetEntryName(index), index))
<a name="l00882"></a><a class="code" href="classnodemanager_1_1NodeManager.html#0c3c317016818a79581f63b14d16c2da">00882</a>         <span class="keywordflow">return</span> validindexes
<a name="l00883"></a>00883         
<a name="l00884"></a>00884     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#0c3c317016818a79581f63b14d16c2da">GetCurrentValidChoices</a>(self, min, max):
<a name="l00885"></a>00885         validchoices = []
<a name="l00886"></a>00886         exclusionlist = []
<a name="l00887"></a>00887         <span class="keywordflow">for</span> menu, indexes <span class="keywordflow">in</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.GetSpecificMenu():
<a name="l00888"></a>00888             exclusionlist.extend(indexes)
<a name="l00889"></a>00889             good = <span class="keyword">True</span>
<a name="l00890"></a>00890             <span class="keywordflow">for</span> index <span class="keywordflow">in</span> indexes:
<a name="l00891"></a>00891                 good &amp;= min &lt;= index &lt;= max
<a name="l00892"></a>00892             <span class="keywordflow">if</span> good:
<a name="l00893"></a>00893                 validchoices.append((menu, <span class="keywordtype">None</span>))
<a name="l00894"></a>00894         list = [index <span class="keywordflow">for</span> index <span class="keywordflow">in</span> MappingDictionary.keys() <span class="keywordflow">if</span> index &gt;= 0x1000]
<a name="l00895"></a>00895         profiles = self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.GetMappings(<span class="keyword">False</span>)
<a name="l00896"></a>00896         <span class="keywordflow">for</span> profile <span class="keywordflow">in</span> profiles:
<a name="l00897"></a>00897             list.extend(profile.keys())
<a name="l00898"></a>00898         list.sort()
<a name="l00899"></a>00899         <span class="keywordflow">for</span> index <span class="keywordflow">in</span> list:
<a name="l00900"></a>00900             <span class="keywordflow">if</span> min &lt;= index &lt;= max <span class="keywordflow">and</span> <span class="keywordflow">not</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.IsEntry(index) <span class="keywordflow">and</span> index <span class="keywordflow">not</span> <span class="keywordflow">in</span> exclusionlist:
<a name="l00901"></a>00901                 validchoices.append((self.<a class="code" href="classnodemanager_1_1NodeManager.html#4da3a475cb7e66bf86f42aa8e9915673">GetEntryName</a>GetEntryName(index), index))
<a name="l00902"></a><a class="code" href="classnodemanager_1_1NodeManager.html#e1be8def7949033e446a646dc67647c6">00902</a>         <span class="keywordflow">return</span> validchoices
<a name="l00903"></a>00903     
<a name="l00904"></a>00904     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#e1be8def7949033e446a646dc67647c6">HasCurrentEntryCallbacks</a>(self, index):
<a name="l00905"></a>00905         <span class="keywordflow">if</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode <span class="keywordflow">and</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.IsEntry(index):
<a name="l00906"></a>00906             entry_infos = self.<a class="code" href="classnodemanager_1_1NodeManager.html#eb864b0df23c119a93ec91836f7dc131">GetEntryInfos</a>GetEntryInfos(index)
<a name="l00907"></a>00907             <span class="keywordflow">if</span> <span class="stringliteral">"callback"</span> <span class="keywordflow">in</span> entry_infos:
<a name="l00908"></a>00908                 <span class="keywordflow">return</span> entry_infos[<span class="stringliteral">"callback"</span>]
<a name="l00909"></a>00909             <span class="keywordflow">return</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.HasEntryCallbacks(index)
<a name="l00910"></a><a class="code" href="classnodemanager_1_1NodeManager.html#ea668e18d26d0b47fbbed4f6eb920100">00910</a>         <span class="keywordflow">return</span> <span class="keyword">False</span>
<a name="l00911"></a>00911     
<a name="l00912"></a>00912     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#ea668e18d26d0b47fbbed4f6eb920100">GetCurrentEntryValues</a>(self, index):
<a name="l00913"></a>00913         <span class="keywordflow">if</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode:
<a name="l00914"></a><a class="code" href="classnodemanager_1_1NodeManager.html#70a4ab2beffa0508c94e2e5c29807d18">00914</a>             <span class="keywordflow">return</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#70a4ab2beffa0508c94e2e5c29807d18">GetNodeEntryValues</a>GetNodeEntryValues(self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode, index)
<a name="l00915"></a>00915     
<a name="l00916"></a>00916     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#70a4ab2beffa0508c94e2e5c29807d18">GetNodeEntryValues</a>(self, node, index):
<a name="l00917"></a>00917         <span class="keywordflow">if</span> node <span class="keywordflow">and</span> node.IsEntry(index):
<a name="l00918"></a>00918             entry_infos = node.GetEntryInfos(index)
<a name="l00919"></a>00919             data = []
<a name="l00920"></a>00920             editors = []
<a name="l00921"></a>00921             values = node.GetEntry(index)
<a name="l00922"></a>00922             params = node.GetParamsEntry(index)
<a name="l00923"></a>00923             <span class="keywordflow">if</span> type(values) == ListType:
<a name="l00924"></a>00924                 <span class="keywordflow">for</span> i, value <span class="keywordflow">in</span> enumerate(values):
<a name="l00925"></a>00925                     data.append({<span class="stringliteral">"value"</span> : value})
<a name="l00926"></a>00926                     data[-1].update(params[i])      
<a name="l00927"></a>00927             <span class="keywordflow">else</span>:
<a name="l00928"></a>00928                 data.append({<span class="stringliteral">"value"</span> : values})
<a name="l00929"></a>00929                 data[-1].update(params)
<a name="l00930"></a>00930             <span class="keywordflow">for</span> i, dic <span class="keywordflow">in</span> enumerate(data):
<a name="l00931"></a>00931                 infos = node.GetSubentryInfos(index, i)
<a name="l00932"></a>00932                 dic[<span class="stringliteral">"subindex"</span>] = <span class="stringliteral">"0x%02X"</span>%i
<a name="l00933"></a>00933                 dic[<span class="stringliteral">"name"</span>] = infos[<span class="stringliteral">"name"</span>]
<a name="l00934"></a>00934                 dic[<span class="stringliteral">"type"</span>] = node.GetTypeName(infos[<span class="stringliteral">"type"</span>])
<a name="l00935"></a>00935                 dic[<span class="stringliteral">"access"</span>] = AccessType[infos[<span class="stringliteral">"access"</span>]]
<a name="l00936"></a>00936                 dic[<span class="stringliteral">"save"</span>] = OptionType[dic[<span class="stringliteral">"save"</span>]]
<a name="l00937"></a>00937                 editor = {<span class="stringliteral">"subindex"</span> : <span class="keywordtype">None</span>, <span class="stringliteral">"save"</span> : <span class="stringliteral">"option"</span>, <span class="stringliteral">"callback"</span> : <span class="stringliteral">"option"</span>, <span class="stringliteral">"comment"</span> : <span class="stringliteral">"string"</span>}
<a name="l00938"></a>00938                 <span class="keywordflow">if</span> type(values) == ListType <span class="keywordflow">and</span> i == 0:
<a name="l00939"></a>00939                     editor[<span class="stringliteral">"name"</span>] = <span class="keywordtype">None</span>
<a name="l00940"></a>00940                     editor[<span class="stringliteral">"type"</span>] = <span class="keywordtype">None</span>
<a name="l00941"></a>00941                     <span class="keywordflow">if</span> 0x1600 &lt;= index &lt;= 0x17FF <span class="keywordflow">or</span> 0x1A00 &lt;= index &lt;= 0x1C00:
<a name="l00942"></a>00942                         editor[<span class="stringliteral">"access"</span>] = <span class="stringliteral">"raccess"</span>
<a name="l00943"></a>00943                     <span class="keywordflow">else</span>:
<a name="l00944"></a>00944                         editor[<span class="stringliteral">"access"</span>] = <span class="keywordtype">None</span>
<a name="l00945"></a>00945                     editor[<span class="stringliteral">"value"</span>] = <span class="keywordtype">None</span>
<a name="l00946"></a>00946                 <span class="keywordflow">else</span>:
<a name="l00947"></a>00947                     <span class="keywordflow">if</span> infos[<span class="stringliteral">"user_defined"</span>]:
<a name="l00948"></a>00948                         <span class="keywordflow">if</span> entry_infos[<span class="stringliteral">"struct"</span>] &amp; OD_IdenticalSubindexes:
<a name="l00949"></a>00949                             editor[<span class="stringliteral">"name"</span>] = <span class="keywordtype">None</span>
<a name="l00950"></a>00950                             <span class="keywordflow">if</span> i &gt; 1:
<a name="l00951"></a>00951                                 editor[<span class="stringliteral">"type"</span>] = <span class="keywordtype">None</span>
<a name="l00952"></a>00952                                 editor[<span class="stringliteral">"access"</span>] = <span class="keywordtype">None</span>
<a name="l00953"></a>00953                             <span class="keywordflow">else</span>:
<a name="l00954"></a>00954                                 editor[<span class="stringliteral">"type"</span>] = <span class="stringliteral">"type"</span>
<a name="l00955"></a>00955                                 editor[<span class="stringliteral">"access"</span>] = <span class="stringliteral">"access"</span>
<a name="l00956"></a>00956                         <span class="keywordflow">else</span>:
<a name="l00957"></a>00957                             <span class="keywordflow">if</span> entry_infos[<span class="stringliteral">"struct"</span>] &amp; OD_MultipleSubindexes:
<a name="l00958"></a>00958                                 editor[<span class="stringliteral">"name"</span>] = <span class="stringliteral">"string"</span>
<a name="l00959"></a>00959                             <span class="keywordflow">else</span>:
<a name="l00960"></a>00960                                 editor[<span class="stringliteral">"name"</span>] = <span class="keywordtype">None</span>
<a name="l00961"></a>00961                             editor[<span class="stringliteral">"type"</span>] = <span class="stringliteral">"type"</span>
<a name="l00962"></a>00962                             editor[<span class="stringliteral">"access"</span>] = <span class="stringliteral">"access"</span>
<a name="l00963"></a>00963                     <span class="keywordflow">else</span>:
<a name="l00964"></a>00964                         editor[<span class="stringliteral">"name"</span>] = <span class="keywordtype">None</span>
<a name="l00965"></a>00965                         editor[<span class="stringliteral">"type"</span>] = <span class="keywordtype">None</span>
<a name="l00966"></a>00966                         editor[<span class="stringliteral">"access"</span>] = <span class="keywordtype">None</span>
<a name="l00967"></a>00967                     <span class="keywordflow">if</span> index &lt; 0x260:
<a name="l00968"></a>00968                         editor[<span class="stringliteral">"value"</span>] = <span class="keywordtype">None</span>
<a name="l00969"></a>00969                         <span class="keywordflow">if</span> i == 1:
<a name="l00970"></a>00970                             dic[<span class="stringliteral">"value"</span>] = node.GetTypeName(dic[<span class="stringliteral">"value"</span>])
<a name="l00971"></a>00971                     <span class="keywordflow">elif</span> 0x1600 &lt;= index &lt;= 0x17FF <span class="keywordflow">or</span> 0x1A00 &lt;= index &lt;= 0x1C00:
<a name="l00972"></a>00972                         editor[<span class="stringliteral">"value"</span>] = <span class="stringliteral">"map"</span>
<a name="l00973"></a>00973                         dic[<span class="stringliteral">"value"</span>] = node.GetMapName(dic[<span class="stringliteral">"value"</span>])
<a name="l00974"></a>00974                     <span class="keywordflow">else</span>:
<a name="l00975"></a>00975                         <span class="keywordflow">if</span> dic[<span class="stringliteral">"type"</span>].startswith(<span class="stringliteral">"VISIBLE_STRING"</span>):
<a name="l00976"></a>00976                             editor[<span class="stringliteral">"value"</span>] = <span class="stringliteral">"string"</span>
<a name="l00977"></a>00977                         <span class="keywordflow">elif</span> dic[<span class="stringliteral">"type"</span>] <span class="keywordflow">in</span> [<span class="stringliteral">"TIME_OF_DAY"</span>,<span class="stringliteral">"TIME_DIFFERENCE"</span>]:
<a name="l00978"></a>00978                             editor[<span class="stringliteral">"value"</span>] = <span class="stringliteral">"time"</span>
<a name="l00979"></a>00979                         <span class="keywordflow">elif</span> dic[<span class="stringliteral">"type"</span>] == <span class="stringliteral">"DOMAIN"</span>:
<a name="l00980"></a>00980                             editor[<span class="stringliteral">"value"</span>] = <span class="stringliteral">"domain"</span>
<a name="l00981"></a>00981                             dic[<span class="stringliteral">"value"</span>] = dic[<span class="stringliteral">"value"</span>].encode(<span class="stringliteral">'hex_codec'</span>)
<a name="l00982"></a>00982                         <span class="keywordflow">elif</span> dic[<span class="stringliteral">"type"</span>] == <span class="stringliteral">"BOOLEAN"</span>:
<a name="l00983"></a>00983                             editor[<span class="stringliteral">"value"</span>] = <span class="stringliteral">"bool"</span>
<a name="l00984"></a>00984                             dic[<span class="stringliteral">"value"</span>] = BoolType[dic[<span class="stringliteral">"value"</span>]]
<a name="l00985"></a>00985                         result = type_model.match(dic[<span class="stringliteral">"type"</span>])
<a name="l00986"></a>00986                         <span class="keywordflow">if</span> result:
<a name="l00987"></a>00987                             values = result.groups()
<a name="l00988"></a>00988                             <span class="keywordflow">if</span> values[0] == <span class="stringliteral">"UNSIGNED"</span>:
<a name="l00989"></a>00989                                 format = <span class="stringliteral">"0x%0"</span> + str(int(values[1])/4) + <span class="stringliteral">"X"</span>
<a name="l00990"></a>00990                                 dic[<span class="stringliteral">"value"</span>] = format%dic[<span class="stringliteral">"value"</span>]
<a name="l00991"></a>00991                                 editor[<span class="stringliteral">"value"</span>] = <span class="stringliteral">"string"</span>
<a name="l00992"></a>00992                             <span class="keywordflow">if</span> values[0] == <span class="stringliteral">"INTEGER"</span>:
<a name="l00993"></a>00993                                 editor[<span class="stringliteral">"value"</span>] = <span class="stringliteral">"number"</span>
<a name="l00994"></a>00994                             <span class="keywordflow">elif</span> values[0] == <span class="stringliteral">"REAL"</span>:
<a name="l00995"></a>00995                                 editor[<span class="stringliteral">"value"</span>] = <span class="stringliteral">"float"</span>
<a name="l00996"></a>00996                             <span class="keywordflow">elif</span> values[0] == <span class="stringliteral">"VISIBLE_STRING"</span>:
<a name="l00997"></a>00997                                 editor[<span class="stringliteral">"length"</span>] = values[0]
<a name="l00998"></a>00998                         result = range_model.match(dic[<span class="stringliteral">"type"</span>])
<a name="l00999"></a>00999                         <span class="keywordflow">if</span> result:
<a name="l01000"></a>01000                             values = result.groups()
<a name="l01001"></a>01001                             <span class="keywordflow">if</span> values[0] <span class="keywordflow">in</span> [<span class="stringliteral">"UNSIGNED"</span>, <span class="stringliteral">"INTEGER"</span>, <span class="stringliteral">"REAL"</span>]:
<a name="l01002"></a>01002                                 editor[<span class="stringliteral">"min"</span>] = values[2]
<a name="l01003"></a>01003                                 editor[<span class="stringliteral">"max"</span>] = values[3]
<a name="l01004"></a>01004                 editors.append(editor)
<a name="l01005"></a>01005             <span class="keywordflow">return</span> data, editors
<a name="l01006"></a>01006         <span class="keywordflow">else</span>:
<a name="l01007"></a>01007             <span class="keywordflow">return</span> <span class="keywordtype">None</span>
<a name="l01008"></a>01008 
<a name="l01009"></a>01009 <span class="comment">#-------------------------------------------------------------------------------</span>
<a name="l01010"></a>01010 <span class="comment">#                         Node Informations Functions</span>
<a name="l01011"></a><a class="code" href="classnodemanager_1_1NodeManager.html#587b1972ff83655696f30d4bb87894a4">01011</a> <span class="comment">#-------------------------------------------------------------------------------</span>
<a name="l01012"></a>01012 
<a name="l01013"></a>01013     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#587b1972ff83655696f30d4bb87894a4">GetCustomisedTypeValues</a>(self, index):
<a name="l01014"></a>01014         <span class="keywordflow">if</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode:
<a name="l01015"></a>01015             values = self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.GetEntry(index)
<a name="l01016"></a>01016             customisabletypes = self.<a class="code" href="classnodemanager_1_1NodeManager.html#38953afbd29be22621f6adab28ae3869">GetCustomisableTypes</a>GetCustomisableTypes()
<a name="l01017"></a>01017             <span class="keywordflow">return</span> values, customisabletypes[values[1]][1]
<a name="l01018"></a>01018         <span class="keywordflow">else</span>:
<a name="l01019"></a><a class="code" href="classnodemanager_1_1NodeManager.html#4da3a475cb7e66bf86f42aa8e9915673">01019</a>             <span class="keywordflow">return</span> <span class="keywordtype">None</span>, <span class="keywordtype">None</span>
<a name="l01020"></a>01020 
<a name="l01021"></a>01021     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#4da3a475cb7e66bf86f42aa8e9915673">GetEntryName</a>(self, index):
<a name="l01022"></a>01022         <span class="keywordflow">if</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode:
<a name="l01023"></a>01023             <span class="keywordflow">return</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.GetEntryName(index)
<a name="l01024"></a>01024         <span class="keywordflow">else</span>:
<a name="l01025"></a><a class="code" href="classnodemanager_1_1NodeManager.html#eb864b0df23c119a93ec91836f7dc131">01025</a>             <span class="keywordflow">return</span> FindEntryName(index, MappingDictionary)
<a name="l01026"></a>01026     
<a name="l01027"></a>01027     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#eb864b0df23c119a93ec91836f7dc131">GetEntryInfos</a>(self, index):
<a name="l01028"></a>01028         <span class="keywordflow">if</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode:
<a name="l01029"></a>01029             <span class="keywordflow">return</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.GetEntryInfos(index)
<a name="l01030"></a>01030         <span class="keywordflow">else</span>:
<a name="l01031"></a><a class="code" href="classnodemanager_1_1NodeManager.html#b305e31c72f62266cfc5e15b056a0e90">01031</a>             <span class="keywordflow">return</span> FindEntryInfos(index, MappingDictionary)
<a name="l01032"></a>01032     
<a name="l01033"></a>01033     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#b305e31c72f62266cfc5e15b056a0e90">GetSubentryInfos</a>(self, index, subindex):
<a name="l01034"></a>01034         <span class="keywordflow">if</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode:
<a name="l01035"></a>01035             <span class="keywordflow">return</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.GetSubentryInfos(index, subindex)
<a name="l01036"></a>01036         <span class="keywordflow">else</span>:
<a name="l01037"></a>01037             result = FindSubentryInfos(index, subindex, MappingDictionary)
<a name="l01038"></a>01038             <span class="keywordflow">if</span> result:
<a name="l01039"></a>01039                 result[<span class="stringliteral">"user_defined"</span>] = <span class="keyword">False</span>
<a name="l01040"></a><a class="code" href="classnodemanager_1_1NodeManager.html#a6660f49630ad17289a6f8c13569aef8">01040</a>             <span class="keywordflow">return</span> result
<a name="l01041"></a>01041     
<a name="l01042"></a>01042     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#a6660f49630ad17289a6f8c13569aef8">GetTypeIndex</a>(self, typename):
<a name="l01043"></a>01043         <span class="keywordflow">if</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode:
<a name="l01044"></a>01044             <span class="keywordflow">return</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.GetTypeIndex(typename)
<a name="l01045"></a>01045         <span class="keywordflow">else</span>:
<a name="l01046"></a><a class="code" href="classnodemanager_1_1NodeManager.html#02618960ca94cf1e287758a4cd8e1891">01046</a>             <span class="keywordflow">return</span> FindTypeIndex(typename, MappingDictionary)
<a name="l01047"></a>01047     
<a name="l01048"></a>01048     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#02618960ca94cf1e287758a4cd8e1891">GetTypeName</a>(self, typeindex):
<a name="l01049"></a>01049         <span class="keywordflow">if</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode:
<a name="l01050"></a>01050             <span class="keywordflow">return</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.GetTypeName(typeindex)
<a name="l01051"></a>01051         <span class="keywordflow">else</span>:
<a name="l01052"></a><a class="code" href="classnodemanager_1_1NodeManager.html#b8edb6dc0298dc7d117a327c06a24ab9">01052</a>             <span class="keywordflow">return</span> FindTypeName(typeindex, MappingDictionary)
<a name="l01053"></a>01053     
<a name="l01054"></a>01054     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#b8edb6dc0298dc7d117a327c06a24ab9">GetTypeDefaultValue</a>(self, typeindex):
<a name="l01055"></a>01055         <span class="keywordflow">if</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode:
<a name="l01056"></a>01056             <span class="keywordflow">return</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.GetTypeDefaultValue(typeindex)
<a name="l01057"></a>01057         <span class="keywordflow">else</span>:
<a name="l01058"></a><a class="code" href="classnodemanager_1_1NodeManager.html#7b93c95ade6272d2c7e79e0b26b3bbe3">01058</a>             <span class="keywordflow">return</span> FindTypeDefaultValue(typeindex, MappingDictionary)
<a name="l01059"></a>01059     
<a name="l01060"></a>01060     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#7b93c95ade6272d2c7e79e0b26b3bbe3">GetMapVariableList</a>(self):
<a name="l01061"></a>01061         <span class="keywordflow">if</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode:
<a name="l01062"></a>01062             <span class="keywordflow">return</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.GetMapVariableList()
<a name="l01063"></a>01063         <span class="keywordflow">else</span>:
<a name="l01064"></a><a class="code" href="classnodemanager_1_1NodeManager.html#fa0ae7296e271effdd28a3f2fbb94778">01064</a>             <span class="keywordflow">return</span> []
<a name="l01065"></a>01065 
<a name="l01066"></a>01066     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#fa0ae7296e271effdd28a3f2fbb94778">GetMandatoryIndexes</a>(self, node = None):
<a name="l01067"></a>01067         <span class="keywordflow">if</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode:
<a name="l01068"></a>01068             <span class="keywordflow">return</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.GetMapVariableList()
<a name="l01069"></a>01069         <span class="keywordflow">else</span>:
<a name="l01070"></a><a class="code" href="classnodemanager_1_1NodeManager.html#38953afbd29be22621f6adab28ae3869">01070</a>             <span class="keywordflow">return</span> FindMandatoryIndexes(MappingDictionary)
<a name="l01071"></a>01071     
<a name="l01072"></a>01072     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#38953afbd29be22621f6adab28ae3869">GetCustomisableTypes</a>(self):
<a name="l01073"></a>01073         dic = {}
<a name="l01074"></a>01074         <span class="keywordflow">for</span> index, valuetype <span class="keywordflow">in</span> CustomisableTypes:
<a name="l01075"></a>01075             name = self.<a class="code" href="classnodemanager_1_1NodeManager.html#02618960ca94cf1e287758a4cd8e1891">GetTypeName</a>GetTypeName(index)
<a name="l01076"></a>01076             dic[index] = [name, valuetype]
<a name="l01077"></a><a class="code" href="classnodemanager_1_1NodeManager.html#9f8b78c75172bf420dcc8d9867b595a5">01077</a>         <span class="keywordflow">return</span> dic
<a name="l01078"></a>01078     
<a name="l01079"></a>01079     <span class="keyword">def </span><a class="code" href="classnodemanager_1_1NodeManager.html#9f8b78c75172bf420dcc8d9867b595a5">GetCurrentSpecificMenu</a>(self):
<a name="l01080"></a>01080         <span class="keywordflow">if</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode:
<a name="l01081"></a>01081             <span class="keywordflow">return</span> self.<a class="code" href="classnodemanager_1_1NodeManager.html#c63d9db3d9564ad4c110fddf4532c0ba">CurrentNode</a>CurrentNode.GetSpecificMenu()
<a name="l01082"></a>01082         <span class="keywordflow">return</span> []
<a name="l01083"></a>01083 
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Mon Jun 4 16:29:06 2007 for CanFestival by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1 </small></address>
</body>
</html>

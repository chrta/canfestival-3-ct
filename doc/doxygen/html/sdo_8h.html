<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>CanFestival: /home/epimerde/documents/tc11/CanFestival-3/include/sdo.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<h1>/home/epimerde/documents/tc11/CanFestival-3/include/sdo.h File Reference</h1><code>#include &quot;<a class="el" href="timer_8h-source.html">timer.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="data_8h-source.html">data.h</a>&quot;</code><br>

<p>
<a href="sdo_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstruct__s__transfer.html">struct_s_transfer</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBODY.html">BODY</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstruct__s__SDO.html">struct_s_SDO</a></td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef void(*)&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdo_8h.html#606eccfef67e572723e1efba3f0d87ba">SDOCallback_t</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d, UNS8 nodeId)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="structstruct__s__transfer.html">struct_s_transfer</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdo_8h.html#0c41985ac8cf4546cbce64eb0f2ac897">s_transfer</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="structstruct__s__SDO.html">struct_s_SDO</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdo_8h.html#f9e5cbdc9fba242ca4060f6bffa6d7c8">s_SDO</a></td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdo_8h.html#9309025e29b59e09026abcd3b45a5b61">SDOTimeoutAlarm</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d, UNS32 id)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdo_8h.html#1f4f07eccc4890a11ccf4f632da7740b">resetSDO</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">UNS32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdo_8h.html#2eb5309dca3a7363da5e5e7230b85d58">SDOlineToObjdict</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d, UNS8 line)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">UNS32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdo_8h.html#29427a80fd1aeabff30bf0602fbc220f">objdictToSDOline</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d, UNS8 line)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">UNS8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdo_8h.html#ad6eb8be03b832ebba4dfb87aaba4065">lineToSDO</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d, UNS8 line, UNS8 nbBytes, UNS8 *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">UNS8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdo_8h.html#18b6f7e9c9441640a88ffef1e8720694">SDOtoLine</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d, UNS8 line, UNS8 nbBytes, UNS8 *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">UNS8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdo_8h.html#2019db2a4d17e6d29c055cbae173e2b9">failedSDO</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d, UNS8 nodeId, UNS8 whoami, UNS16 index, UNS8 subIndex, UNS32 abortCode)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdo_8h.html#42d33be015d4c4c83c73f1f0e588f481">resetSDOline</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d, UNS8 line)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">UNS8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdo_8h.html#b9c873a15f55b29112b5527a6cc6898d">initSDOline</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d, UNS8 line, UNS8 nodeId, UNS16 index, UNS8 subIndex, UNS8 state)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">UNS8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdo_8h.html#58d1f9691977617601beb9e5b4123252">getSDOfreeLine</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d, UNS8 whoami, UNS8 *line)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">UNS8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdo_8h.html#bb0c376b048ab2c6e0524b135b62376f">getSDOlineOnUse</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d, UNS8 nodeId, UNS8 whoami, UNS8 *line)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">UNS8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdo_8h.html#555a772d3a88a29c495f33513f8b2d58">closeSDOtransfer</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d, UNS8 nodeId, UNS8 whoami)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">UNS8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdo_8h.html#acceb714c6e457e98deb9ba164ba2a2f">getSDOlineRestBytes</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d, UNS8 line, UNS8 *nbBytes)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">UNS8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdo_8h.html#601a837ecb5f21bf4c66b058c5ae7810">setSDOlineRestBytes</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d, UNS8 line, UNS8 nbBytes)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">UNS8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdo_8h.html#c6b5d7d1439d537da992a96644a1ca5d">sendSDO</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d, UNS8 whoami, <a class="el" href="structstruct__s__SDO.html">s_SDO</a> sdo)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">UNS8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdo_8h.html#b26c3f2fb63d81055809d6ccaa785b7c">sendSDOabort</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d, UNS8 whoami, UNS16 index, UNS8 subIndex, UNS32 abortCode)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">UNS8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdo_8h.html#2a93a7c780472b1d8666d89aa270f661">proceedSDO</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d, <a class="el" href="structMessage.html">Message</a> *m)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">UNS8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdo_8h.html#bc20ed246e00053dcf71faa8f45ee39c">writeNetworkDict</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d, UNS8 nodeId, UNS16 index, UNS8 subIndex, UNS8 count, UNS8 dataType, void *data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">UNS8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdo_8h.html#f4ec05293fb8971a1b282994498ed4f5">writeNetworkDictCallBack</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d, UNS8 nodeId, UNS16 index, UNS8 subIndex, UNS8 count, UNS8 dataType, void *data, <a class="el" href="sdo_8h.html#606eccfef67e572723e1efba3f0d87ba">SDOCallback_t</a> Callback)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">UNS8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdo_8h.html#0e102a0835e4115920cd406e80a8d135">readNetworkDict</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d, UNS8 nodeId, UNS16 index, UNS8 subIndex, UNS8 dataType)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">UNS8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdo_8h.html#542a5cdd20c00aa130a39fe68295e769">readNetworkDictCallback</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d, UNS8 nodeId, UNS16 index, UNS8 subIndex, UNS8 dataType, <a class="el" href="sdo_8h.html#606eccfef67e572723e1efba3f0d87ba">SDOCallback_t</a> Callback)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">UNS8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdo_8h.html#05b0c8eee1faee3c7a2f6e2ba3a16533">getReadResultNetworkDict</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d, UNS8 nodeId, void *data, UNS8 *size, UNS32 *abortCode)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">UNS8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="sdo_8h.html#8671e306873f19362c60bb50ab930d1d">getWriteResultNetworkDict</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d, UNS8 nodeId, UNS32 *abortCode)</td></tr>

</table>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="f9e5cbdc9fba242ca4060f6bffa6d7c8"></a><!-- doxytag: member="sdo.h::s_SDO" ref="f9e5cbdc9fba242ca4060f6bffa6d7c8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structstruct__s__SDO.html">struct_s_SDO</a> <a class="el" href="structstruct__s__SDO.html">s_SDO</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="sdo_8h-source.html#l00086">86</a> of file <a class="el" href="sdo_8h-source.html">sdo.h</a>.
</div>
</div><p>
<a class="anchor" name="0c41985ac8cf4546cbce64eb0f2ac897"></a><!-- doxytag: member="sdo.h::s_transfer" ref="0c41985ac8cf4546cbce64eb0f2ac897" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structstruct__s__transfer.html">struct_s_transfer</a> <a class="el" href="structstruct__s__transfer.html">s_transfer</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="sdo_8h-source.html#l00069">69</a> of file <a class="el" href="sdo_8h-source.html">sdo.h</a>.
</div>
</div><p>
<a class="anchor" name="606eccfef67e572723e1efba3f0d87ba"></a><!-- doxytag: member="sdo.h::SDOCallback_t" ref="606eccfef67e572723e1efba3f0d87ba" args="(CO_Data *d, UNS8 nodeId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(*) <a class="el" href="sdo_8h.html#606eccfef67e572723e1efba3f0d87ba">SDOCallback_t</a>(<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d, UNS8 nodeId)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="sdo_8h-source.html#l00030">30</a> of file <a class="el" href="sdo_8h-source.html">sdo.h</a>.
</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="555a772d3a88a29c495f33513f8b2d58"></a><!-- doxytag: member="sdo.h::closeSDOtransfer" ref="555a772d3a88a29c495f33513f8b2d58" args="(CO_Data *d, UNS8 nodeId, UNS8 whoami)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNS8 closeSDOtransfer           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstruct__CO__Data.html">CO_Data</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>nodeId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>whoami</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Close a transmission. nodeId : Node id of the server if both server or client whoami : Line opened as SDO_CLIENT or SDO_SERVER 
<p>
Definition at line <a class="el" href="sdo_8c-source.html#l00318">318</a> of file <a class="el" href="sdo_8c-source.html">sdo.c</a>.
<p>
References <a class="el" href="timer_8h-source.html#l00045">struct_s_timer_entry::d</a>, <a class="el" href="sdo_8c-source.html#l00301">getSDOlineOnUse()</a>, <a class="el" href="hcs12_2applicfg_8h-source.html#l00190">MSG_WAR</a>, <a class="el" href="sdo_8c-source.html#l00253">resetSDOline()</a>, and <a class="el" href="hcs12_2applicfg_8h-source.html#l00139">UNS8</a>.
</div>
</div><p>
<a class="anchor" name="2019db2a4d17e6d29c055cbae173e2b9"></a><!-- doxytag: member="sdo.h::failedSDO" ref="2019db2a4d17e6d29c055cbae173e2b9" args="(CO_Data *d, UNS8 nodeId, UNS8 whoami, UNS16 index, UNS8 subIndex, UNS32 abortCode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNS8 failedSDO           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstruct__CO__Data.html">CO_Data</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>nodeId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>whoami</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS16&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>subIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS32&nbsp;</td>
          <td class="paramname"> <em>abortCode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Called when an internal SDO abort occurs. Release the line * Only if server * If client, the line must be released manually in the core application. The reason of that is to permit the program to read the transfers[][] structure before its reset, because many informations are stored on it : index, subindex, data received or trasmited, ... In all cases, sends a SDO abort. Returns 0 
<p>
Definition at line <a class="el" href="sdo_8c-source.html#l00227">227</a> of file <a class="el" href="sdo_8c-source.html">sdo.c</a>.
<p>
References <a class="el" href="timer_8h-source.html#l00045">struct_s_timer_entry::d</a>, <a class="el" href="sdo_8c-source.html#l00301">getSDOlineOnUse()</a>, <a class="el" href="hcs12_2applicfg_8h-source.html#l00190">MSG_WAR</a>, <a class="el" href="sdo_8c-source.html#l00253">resetSDOline()</a>, <a class="el" href="def_8h-source.html#l00073">SDO_ABORTED_INTERNAL</a>, <a class="el" href="def_8h-source.html#l00079">SDO_CLIENT</a>, <a class="el" href="def_8h-source.html#l00078">SDO_SERVER</a>, <a class="el" href="sdo_8c-source.html#l00424">sendSDOabort()</a>, <a class="el" href="sdo_8h-source.html#l00042">struct_s_transfer::state</a>, <a class="el" href="sdo_8c-source.html#l00116">StopSDO_TIMER</a>, <a class="el" href="data_8h-source.html#l00057">struct_CO_Data::transfers</a>, and <a class="el" href="hcs12_2applicfg_8h-source.html#l00139">UNS8</a>.
</div>
</div><p>
<a class="anchor" name="05b0c8eee1faee3c7a2f6e2ba3a16533"></a><!-- doxytag: member="sdo.h::getReadResultNetworkDict" ref="05b0c8eee1faee3c7a2f6e2ba3a16533" args="(CO_Data *d, UNS8 nodeId, void *data, UNS8 *size, UNS32 *abortCode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNS8 getReadResultNetworkDict           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstruct__CO__Data.html">CO_Data</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>nodeId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8 *&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS32 *&nbsp;</td>
          <td class="paramname"> <em>abortCode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Use this function after a readNetworkDict to get the result. Returns : SDO_FINISHED // data is available SDO_ABORTED_RCV // Transfert failed. (abort SDO received) SDO_ABORTED_INTERNAL // Transfert failed. Internal abort. SDO_UPLOAD_IN_PROGRESS // Data not yet available SDO_DOWNLOAD_IN_PROGRESS // Should not arrive !<p>
dataType (defined in <a class="el" href="objdictdef_8h.html">objdictdef.h</a>) : type expected. put "visible_string" for strings, 0 for integers or reals. abortCode : 0 = not available. Else : SDO abort code. (received if return SDO_ABORTED_RCV) example : UNS32 data; UNS8 size; readNetworkDict(0, 0x05, 0x1016, 1, 0) // get the data index 1016 subindex 1 of node 5 while (getReadResultNetworkDict (0, 0x05, &amp;data, &amp;size) != SDO_UPLOAD_IN_PROGRESS); 
<p>
Definition at line <a class="el" href="sdo_8c-source.html#l01295">1295</a> of file <a class="el" href="sdo_8c-source.html">sdo.c</a>.
<p>
References <a class="el" href="hcs12_2applicfg_8h-source.html#l00055">CANOPEN_BIG_ENDIAN</a>, <a class="el" href="sdo_8h-source.html#l00049">struct_s_transfer::count</a>, <a class="el" href="timer_8h-source.html#l00045">struct_s_timer_entry::d</a>, <a class="el" href="sdo_8h-source.html#l00056">struct_s_transfer::data</a>, <a class="el" href="sdo_8h-source.html#l00057">struct_s_transfer::dataType</a>, <a class="el" href="sdo_8c-source.html#l00301">getSDOlineOnUse()</a>, <a class="el" href="hcs12_2applicfg_8h-source.html#l00177">MSG_ERR</a>, <a class="el" href="def_8h-source.html#l00073">SDO_ABORTED_INTERNAL</a>, <a class="el" href="def_8h-source.html#l00079">SDO_CLIENT</a>, <a class="el" href="def_8h-source.html#l00071">SDO_FINISHED</a>, <a class="el" href="sdo_8h-source.html#l00042">struct_s_transfer::state</a>, <a class="el" href="data_8h-source.html#l00057">struct_CO_Data::transfers</a>, <a class="el" href="hcs12_2applicfg_8h-source.html#l00139">UNS8</a>, and <a class="el" href="objdictdef_8h-source.html#l00040">visible_string</a>.
</div>
</div><p>
<a class="anchor" name="58d1f9691977617601beb9e5b4123252"></a><!-- doxytag: member="sdo.h::getSDOfreeLine" ref="58d1f9691977617601beb9e5b4123252" args="(CO_Data *d, UNS8 whoami, UNS8 *line)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNS8 getSDOfreeLine           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstruct__CO__Data.html">CO_Data</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>whoami</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8 *&nbsp;</td>
          <td class="paramname"> <em>line</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Search for an unused line in the transfers array to store a new SDO. ie a line which value of the field "state" is "SDO_RESET" An unused line have the field "state" at the value SDO_RESET bus_id is hardware dependant whoami : create the line for a SDO_SERVER or SDO_CLIENT. return 0xFF if all the lines are on use. Else, return 0 
<p>
Definition at line <a class="el" href="sdo_8c-source.html#l00284">284</a> of file <a class="el" href="sdo_8c-source.html">sdo.c</a>.
<p>
References <a class="el" href="timer_8h-source.html#l00045">struct_s_timer_entry::d</a>, <a class="el" href="config_8h-source.html#l00029">SDO_MAX_SIMULTANEOUS_TRANSFERTS</a>, <a class="el" href="def_8h-source.html#l00070">SDO_RESET</a>, <a class="el" href="sdo_8h-source.html#l00042">struct_s_transfer::state</a>, <a class="el" href="data_8h-source.html#l00057">struct_CO_Data::transfers</a>, <a class="el" href="hcs12_2applicfg_8h-source.html#l00139">UNS8</a>, and <a class="el" href="sdo_8h-source.html#l00041">struct_s_transfer::whoami</a>.
</div>
</div><p>
<a class="anchor" name="bb0c376b048ab2c6e0524b135b62376f"></a><!-- doxytag: member="sdo.h::getSDOlineOnUse" ref="bb0c376b048ab2c6e0524b135b62376f" args="(CO_Data *d, UNS8 nodeId, UNS8 whoami, UNS8 *line)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNS8 getSDOlineOnUse           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstruct__CO__Data.html">CO_Data</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>nodeId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>whoami</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8 *&nbsp;</td>
          <td class="paramname"> <em>line</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Search for the line, in the transfers array, which contains the beginning of the reception of a fragmented SDO whoami takes 2 values : look for a line opened as SDO_CLIENT or SDO_SERVER bus_id is hardware dependant nodeId correspond to the message node-id return 0xFF if error. Else, return 0 
<p>
Definition at line <a class="el" href="sdo_8c-source.html#l00301">301</a> of file <a class="el" href="sdo_8c-source.html">sdo.c</a>.
<p>
References <a class="el" href="timer_8h-source.html#l00045">struct_s_timer_entry::d</a>, <a class="el" href="sdo_8h-source.html#l00039">struct_s_transfer::nodeId</a>, <a class="el" href="config_8h-source.html#l00029">SDO_MAX_SIMULTANEOUS_TRANSFERTS</a>, <a class="el" href="def_8h-source.html#l00070">SDO_RESET</a>, <a class="el" href="sdo_8h-source.html#l00042">struct_s_transfer::state</a>, <a class="el" href="data_8h-source.html#l00057">struct_CO_Data::transfers</a>, <a class="el" href="hcs12_2applicfg_8h-source.html#l00139">UNS8</a>, and <a class="el" href="sdo_8h-source.html#l00041">struct_s_transfer::whoami</a>.
</div>
</div><p>
<a class="anchor" name="acceb714c6e457e98deb9ba164ba2a2f"></a><!-- doxytag: member="sdo.h::getSDOlineRestBytes" ref="acceb714c6e457e98deb9ba164ba2a2f" args="(CO_Data *d, UNS8 line, UNS8 *nbBytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNS8 getSDOlineRestBytes           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstruct__CO__Data.html">CO_Data</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8 *&nbsp;</td>
          <td class="paramname"> <em>nbBytes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Bytes in the line structure which must be transmited (or received) bus_id is hardware dependant. return 0. 
<p>
Definition at line <a class="el" href="sdo_8c-source.html#l00332">332</a> of file <a class="el" href="sdo_8c-source.html">sdo.c</a>.
<p>
References <a class="el" href="sdo_8h-source.html#l00049">struct_s_transfer::count</a>, <a class="el" href="timer_8h-source.html#l00045">struct_s_timer_entry::d</a>, <a class="el" href="sdo_8h-source.html#l00050">struct_s_transfer::offset</a>, <a class="el" href="data_8h-source.html#l00057">struct_CO_Data::transfers</a>, and <a class="el" href="hcs12_2applicfg_8h-source.html#l00139">UNS8</a>.
</div>
</div><p>
<a class="anchor" name="8671e306873f19362c60bb50ab930d1d"></a><!-- doxytag: member="sdo.h::getWriteResultNetworkDict" ref="8671e306873f19362c60bb50ab930d1d" args="(CO_Data *d, UNS8 nodeId, UNS32 *abortCode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNS8 getWriteResultNetworkDict           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstruct__CO__Data.html">CO_Data</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>nodeId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS32 *&nbsp;</td>
          <td class="paramname"> <em>abortCode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Use this function after a writeNetworkDict to get the result of the write It is mandatory to call this function because it is releasing the line used for the transfer. Returns : SDO_FINISHED // data is available SDO_ABORTED_RCV // Transfert failed. (abort SDO received) SDO_ABORTED_INTERNAL // Transfert failed. Internal abort. SDO_DOWNLOAD_IN_PROGRESS // Data not yet available SDO_UPLOAD_IN_PROGRESS // Should not arrive ! abortCode : 0 = not available. Else : SDO abort code. (received if return SDO_ABORTED_RCV) example : UNS32 data = 0x50; UNS8 size; UNS32 abortCode; writeNetworkDict(0, 0x05, 0x1016, 1, size, &amp;data) // write the data index 1016 subindex 1 of node 5 while ( getWriteResultNetworkDict (0, 0x05, &amp;abortCode) != SDO_DOWNLOAD_IN_PROGRESS); 
<p>
Definition at line <a class="el" href="sdo_8c-source.html#l01329">1329</a> of file <a class="el" href="sdo_8c-source.html">sdo.c</a>.
<p>
References <a class="el" href="sdo_8h-source.html#l00044">struct_s_transfer::abortCode</a>, <a class="el" href="timer_8h-source.html#l00045">struct_s_timer_entry::d</a>, <a class="el" href="sdo_8c-source.html#l00301">getSDOlineOnUse()</a>, <a class="el" href="hcs12_2applicfg_8h-source.html#l00177">MSG_ERR</a>, <a class="el" href="def_8h-source.html#l00073">SDO_ABORTED_INTERNAL</a>, <a class="el" href="def_8h-source.html#l00079">SDO_CLIENT</a>, <a class="el" href="sdo_8h-source.html#l00042">struct_s_transfer::state</a>, <a class="el" href="data_8h-source.html#l00057">struct_CO_Data::transfers</a>, and <a class="el" href="hcs12_2applicfg_8h-source.html#l00139">UNS8</a>.
</div>
</div><p>
<a class="anchor" name="b9c873a15f55b29112b5527a6cc6898d"></a><!-- doxytag: member="sdo.h::initSDOline" ref="b9c873a15f55b29112b5527a6cc6898d" args="(CO_Data *d, UNS8 line, UNS8 nodeId, UNS16 index, UNS8 subIndex, UNS8 state)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNS8 initSDOline           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstruct__CO__Data.html">CO_Data</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>nodeId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS16&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>subIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>state</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize some fields of the structure. Returns 0 
<p>
Definition at line <a class="el" href="sdo_8c-source.html#l00263">263</a> of file <a class="el" href="sdo_8c-source.html">sdo.c</a>.
<p>
References <a class="el" href="sdo_8h-source.html#l00067">struct_s_transfer::Callback</a>, <a class="el" href="sdo_8h-source.html#l00049">struct_s_transfer::count</a>, <a class="el" href="timer_8h-source.html#l00045">struct_s_timer_entry::d</a>, <a class="el" href="sdo_8h-source.html#l00057">struct_s_transfer::dataType</a>, <a class="el" href="sdo_8h-source.html#l00047">struct_s_transfer::index</a>, <a class="el" href="hcs12_2applicfg_8h-source.html#l00190">MSG_WAR</a>, <a class="el" href="sdo_8h-source.html#l00039">struct_s_transfer::nodeId</a>, <a class="el" href="sdo_8h-source.html#l00050">struct_s_transfer::offset</a>, <a class="el" href="def_8h-source.html#l00074">SDO_DOWNLOAD_IN_PROGRESS</a>, <a class="el" href="def_8h-source.html#l00075">SDO_UPLOAD_IN_PROGRESS</a>, <a class="el" href="sdo_8c-source.html#l00120">StartSDO_TIMER</a>, <a class="el" href="sdo_8h-source.html#l00042">struct_s_transfer::state</a>, <a class="el" href="sdo_8c-source.html#l00116">StopSDO_TIMER</a>, <a class="el" href="sdo_8h-source.html#l00048">struct_s_transfer::subIndex</a>, <a class="el" href="sdo_8h-source.html#l00043">struct_s_transfer::toggle</a>, and <a class="el" href="data_8h-source.html#l00057">struct_CO_Data::transfers</a>.
</div>
</div><p>
<a class="anchor" name="ad6eb8be03b832ebba4dfb87aaba4065"></a><!-- doxytag: member="sdo.h::lineToSDO" ref="ad6eb8be03b832ebba4dfb87aaba4065" args="(CO_Data *d, UNS8 line, UNS8 nbBytes, UNS8 *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNS8 lineToSDO           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstruct__CO__Data.html">CO_Data</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>nbBytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8 *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
copy data from an existant line in the argument "* data" Returns 0xFF if error. Else, returns 0; 
<p>
Definition at line <a class="el" href="sdo_8c-source.html#l00189">189</a> of file <a class="el" href="sdo_8c-source.html">sdo.c</a>.
<p>
References <a class="el" href="sdo_8h-source.html#l00049">struct_s_transfer::count</a>, <a class="el" href="timer_8h-source.html#l00045">struct_s_timer_entry::d</a>, <a class="el" href="sdo_8h-source.html#l00056">struct_s_transfer::data</a>, <a class="el" href="hcs12_2applicfg_8h-source.html#l00177">MSG_ERR</a>, <a class="el" href="sdo_8h-source.html#l00050">struct_s_transfer::offset</a>, <a class="el" href="config_8h-source.html#l00028">SDO_MAX_LENGTH_TRANSFERT</a>, <a class="el" href="data_8h-source.html#l00057">struct_CO_Data::transfers</a>, and <a class="el" href="hcs12_2applicfg_8h-source.html#l00139">UNS8</a>.
</div>
</div><p>
<a class="anchor" name="29427a80fd1aeabff30bf0602fbc220f"></a><!-- doxytag: member="sdo.h::objdictToSDOline" ref="29427a80fd1aeabff30bf0602fbc220f" args="(CO_Data *d, UNS8 line)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNS32 objdictToSDOline           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstruct__CO__Data.html">CO_Data</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>line</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Copy the data from the object dictionary to the SDO line for a network transfert. Returns SDO error code if error. Else, returns 0; 
<p>
Definition at line <a class="el" href="sdo_8c-source.html#l00157">157</a> of file <a class="el" href="sdo_8c-source.html">sdo.c</a>.
<p>
References <a class="el" href="sdo_8h-source.html#l00049">struct_s_transfer::count</a>, <a class="el" href="timer_8h-source.html#l00045">struct_s_timer_entry::d</a>, <a class="el" href="sdo_8h-source.html#l00056">struct_s_transfer::data</a>, <a class="el" href="objacces_8c-source.html#l00145">getODentry()</a>, <a class="el" href="sdo_8h-source.html#l00047">struct_s_transfer::index</a>, <a class="el" href="hcs12_2applicfg_8h-source.html#l00190">MSG_WAR</a>, <a class="el" href="def_8h-source.html#l00031">OD_SUCCESSFUL</a>, <a class="el" href="sdo_8h-source.html#l00050">struct_s_transfer::offset</a>, <a class="el" href="sdo_8h-source.html#l00048">struct_s_transfer::subIndex</a>, <a class="el" href="data_8h-source.html#l00057">struct_CO_Data::transfers</a>, <a class="el" href="hcs12_2applicfg_8h-source.html#l00141">UNS32</a>, and <a class="el" href="hcs12_2applicfg_8h-source.html#l00139">UNS8</a>.
</div>
</div><p>
<a class="anchor" name="2a93a7c780472b1d8666d89aa270f661"></a><!-- doxytag: member="sdo.h::proceedSDO" ref="2a93a7c780472b1d8666d89aa270f661" args="(CO_Data *d, Message *m)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNS8 proceedSDO           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstruct__CO__Data.html">CO_Data</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structMessage.html">Message</a> *&nbsp;</td>
          <td class="paramname"> <em>m</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Treat a SDO frame reception bus_id is hardware dependant call the function sendSDO return 0xFF if error 0x80 if transfert aborted by the server 0x0 ok 
<p>
Definition at line <a class="el" href="sdo_8c-source.html#l00447">447</a> of file <a class="el" href="sdo_8c-source.html">sdo.c</a>.
<p>
References <a class="el" href="sdo_8h-source.html#l00044">struct_s_transfer::abortCode</a>, <a class="el" href="data_8h-source.html#l00047">struct_CO_Data::bDeviceNodeId</a>, <a class="el" href="sdo_8h-source.html#l00082">struct_s_SDO::body</a>, <a class="el" href="objdictdef_8h-source.html#l00108">td_indextable::bSubCount</a>, <a class="el" href="sdo_8h-source.html#l00067">struct_s_transfer::Callback</a>, <a class="el" href="sdo_8h-source.html#l00049">struct_s_transfer::count</a>, <a class="el" href="timer_8h-source.html#l00045">struct_s_timer_entry::d</a>, <a class="el" href="sdo_8h-source.html#l00076">BODY::data</a>, <a class="el" href="can_8h-source.html#l00046">Message::data</a>, <a class="el" href="sdo_8c-source.html#l00227">failedSDO()</a>, <a class="el" href="data_8h-source.html#l00050">struct_CO_Data::firstIndex</a>, <a class="el" href="sdo_8c-source.html#l00075">getSDOc</a>, <a class="el" href="sdo_8c-source.html#l00055">getSDOcs</a>, <a class="el" href="sdo_8c-source.html#l00067">getSDOe</a>, <a class="el" href="sdo_8c-source.html#l00284">getSDOfreeLine()</a>, <a class="el" href="sdo_8c-source.html#l00083">getSDOindex</a>, <a class="el" href="sdo_8c-source.html#l00301">getSDOlineOnUse()</a>, <a class="el" href="sdo_8c-source.html#l00332">getSDOlineRestBytes()</a>, <a class="el" href="sdo_8c-source.html#l00059">getSDOn2</a>, <a class="el" href="sdo_8c-source.html#l00063">getSDOn3</a>, <a class="el" href="sdo_8c-source.html#l00071">getSDOs</a>, <a class="el" href="sdo_8c-source.html#l00088">getSDOsubIndex</a>, <a class="el" href="sdo_8c-source.html#l00079">getSDOt</a>, <a class="el" href="sdo_8h-source.html#l00047">struct_s_transfer::index</a>, <a class="el" href="sdo_8c-source.html#l00263">initSDOline()</a>, <a class="el" href="data_8h-source.html#l00051">struct_CO_Data::lastIndex</a>, <a class="el" href="sdo_8c-source.html#l00189">lineToSDO()</a>, <a class="el" href="hcs12_2applicfg_8h-source.html#l00177">MSG_ERR</a>, <a class="el" href="hcs12_2applicfg_8h-source.html#l00190">MSG_WAR</a>, <a class="el" href="sdo_8h-source.html#l00081">struct_s_SDO::nodeId</a>, <a class="el" href="data_8h-source.html#l00048">struct_CO_Data::objdict</a>, <a class="el" href="sdo_8c-source.html#l00157">objdictToSDOline()</a>, <a class="el" href="objdictdef_8h-source.html#l00100">td_subindex::pObject</a>, <a class="el" href="objdictdef_8h-source.html#l00107">td_indextable::pSubindex</a>, <a class="el" href="sdo_8c-source.html#l00253">resetSDOline()</a>, <a class="el" href="sdo_8c-source.html#l00124">RestartSDO_TIMER</a>, <a class="el" href="def_8h-source.html#l00072">SDO_ABORTED_RCV</a>, <a class="el" href="def_8h-source.html#l00079">SDO_CLIENT</a>, <a class="el" href="objdictdef_8h-source.html#l00117">s_quick_index::SDO_CLT</a>, <a class="el" href="def_8h-source.html#l00074">SDO_DOWNLOAD_IN_PROGRESS</a>, <a class="el" href="def_8h-source.html#l00071">SDO_FINISHED</a>, <a class="el" href="def_8h-source.html#l00078">SDO_SERVER</a>, <a class="el" href="objdictdef_8h-source.html#l00116">s_quick_index::SDO_SVR</a>, <a class="el" href="def_8h-source.html#l00080">SDO_UNKNOWN</a>, <a class="el" href="def_8h-source.html#l00075">SDO_UPLOAD_IN_PROGRESS</a>, <a class="el" href="def_8h-source.html#l00045">SDOABT_GENERAL_ERROR</a>, <a class="el" href="def_8h-source.html#l00046">SDOABT_LOCAL_CTRL_ERROR</a>, <a class="el" href="def_8h-source.html#l00042">SDOABT_TOGGLE_NOT_ALTERNED</a>, <a class="el" href="sdo_8c-source.html#l00141">SDOlineToObjdict()</a>, <a class="el" href="sdo_8c-source.html#l00210">SDOtoLine()</a>, <a class="el" href="sdo_8c-source.html#l00354">sendSDO()</a>, <a class="el" href="sdo_8c-source.html#l00342">setSDOlineRestBytes()</a>, <a class="el" href="sdo_8h-source.html#l00042">struct_s_transfer::state</a>, <a class="el" href="sdo_8c-source.html#l00116">StopSDO_TIMER</a>, <a class="el" href="sdo_8h-source.html#l00048">struct_s_transfer::subIndex</a>, <a class="el" href="sdo_8h-source.html#l00043">struct_s_transfer::toggle</a>, <a class="el" href="data_8h-source.html#l00057">struct_CO_Data::transfers</a>, <a class="el" href="hcs12_2applicfg_8h-source.html#l00140">UNS16</a>, <a class="el" href="hcs12_2applicfg_8h-source.html#l00141">UNS32</a>, and <a class="el" href="hcs12_2applicfg_8h-source.html#l00139">UNS8</a>.
</div>
</div><p>
<a class="anchor" name="0e102a0835e4115920cd406e80a8d135"></a><!-- doxytag: member="sdo.h::readNetworkDict" ref="0e102a0835e4115920cd406e80a8d135" args="(CO_Data *d, UNS8 nodeId, UNS16 index, UNS8 subIndex, UNS8 dataType)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNS8 readNetworkDict           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstruct__CO__Data.html">CO_Data</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>nodeId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS16&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>subIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>dataType</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Used by the application to send a SDO request frame to read in the dictionary of a server node whose node_id is ID at the index and subIndex indicated bus_id is hardware dependant datatype (defined in <a class="el" href="objdictdef_8h.html">objdictdef.h</a>) : put "visible_string" for strings, 0 for integers or reals or other value. return 0xFF if error, else return 0 
<p>
Definition at line <a class="el" href="sdo_8c-source.html#l01282">1282</a> of file <a class="el" href="sdo_8c-source.html">sdo.c</a>.
<p>
References <a class="el" href="sdo_8c-source.html#l01198">_readNetworkDict()</a>, and <a class="el" href="timer_8h-source.html#l00045">struct_s_timer_entry::d</a>.
</div>
</div><p>
<a class="anchor" name="542a5cdd20c00aa130a39fe68295e769"></a><!-- doxytag: member="sdo.h::readNetworkDictCallback" ref="542a5cdd20c00aa130a39fe68295e769" args="(CO_Data *d, UNS8 nodeId, UNS16 index, UNS8 subIndex, UNS8 dataType, SDOCallback_t Callback)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNS8 readNetworkDictCallback           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstruct__CO__Data.html">CO_Data</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>nodeId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS16&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>subIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>dataType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sdo_8h.html#606eccfef67e572723e1efba3f0d87ba">SDOCallback_t</a>&nbsp;</td>
          <td class="paramname"> <em>Callback</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Used to send a SDO request frame to read in a distant node dictionnary. The function Callback which must be defined in the user code is called at the end of the exchange. (on succes or abort). 
<p>
Definition at line <a class="el" href="sdo_8c-source.html#l01288">1288</a> of file <a class="el" href="sdo_8c-source.html">sdo.c</a>.
<p>
References <a class="el" href="sdo_8c-source.html#l01198">_readNetworkDict()</a>, and <a class="el" href="timer_8h-source.html#l00045">struct_s_timer_entry::d</a>.
</div>
</div><p>
<a class="anchor" name="1f4f07eccc4890a11ccf4f632da7740b"></a><!-- doxytag: member="sdo.h::resetSDO" ref="1f4f07eccc4890a11ccf4f632da7740b" args="(CO_Data *d)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void resetSDO           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstruct__CO__Data.html">CO_Data</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reset all sdo buffers 
<p>
Definition at line <a class="el" href="sdo_8c-source.html#l00131">131</a> of file <a class="el" href="sdo_8c-source.html">sdo.c</a>.
<p>
References <a class="el" href="timer_8h-source.html#l00045">struct_s_timer_entry::d</a>, <a class="el" href="sdo_8c-source.html#l00253">resetSDOline()</a>, <a class="el" href="config_8h-source.html#l00029">SDO_MAX_SIMULTANEOUS_TRANSFERTS</a>, and <a class="el" href="hcs12_2applicfg_8h-source.html#l00139">UNS8</a>.
</div>
</div><p>
<a class="anchor" name="42d33be015d4c4c83c73f1f0e588f481"></a><!-- doxytag: member="sdo.h::resetSDOline" ref="42d33be015d4c4c83c73f1f0e588f481" args="(CO_Data *d, UNS8 line)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void resetSDOline           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstruct__CO__Data.html">CO_Data</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>line</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reset an unused line. 
<p>
Definition at line <a class="el" href="sdo_8c-source.html#l00253">253</a> of file <a class="el" href="sdo_8c-source.html">sdo.c</a>.
<p>
References <a class="el" href="timer_8h-source.html#l00045">struct_s_timer_entry::d</a>, <a class="el" href="sdo_8h-source.html#l00056">struct_s_transfer::data</a>, <a class="el" href="sdo_8c-source.html#l00263">initSDOline()</a>, <a class="el" href="hcs12_2applicfg_8h-source.html#l00190">MSG_WAR</a>, <a class="el" href="config_8h-source.html#l00028">SDO_MAX_LENGTH_TRANSFERT</a>, <a class="el" href="def_8h-source.html#l00070">SDO_RESET</a>, <a class="el" href="data_8h-source.html#l00057">struct_CO_Data::transfers</a>, and <a class="el" href="hcs12_2applicfg_8h-source.html#l00139">UNS8</a>.
</div>
</div><p>
<a class="anchor" name="2eb5309dca3a7363da5e5e7230b85d58"></a><!-- doxytag: member="sdo.h::SDOlineToObjdict" ref="2eb5309dca3a7363da5e5e7230b85d58" args="(CO_Data *d, UNS8 line)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNS32 SDOlineToObjdict           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstruct__CO__Data.html">CO_Data</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>line</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Copy the data received from the SDO line transfert to the object dictionary Returns SDO error code if error. Else, returns 0; 
<p>
Definition at line <a class="el" href="sdo_8c-source.html#l00141">141</a> of file <a class="el" href="sdo_8c-source.html">sdo.c</a>.
<p>
References <a class="el" href="sdo_8h-source.html#l00049">struct_s_transfer::count</a>, <a class="el" href="timer_8h-source.html#l00045">struct_s_timer_entry::d</a>, <a class="el" href="sdo_8h-source.html#l00056">struct_s_transfer::data</a>, <a class="el" href="sdo_8h-source.html#l00047">struct_s_transfer::index</a>, <a class="el" href="hcs12_2applicfg_8h-source.html#l00190">MSG_WAR</a>, <a class="el" href="def_8h-source.html#l00031">OD_SUCCESSFUL</a>, <a class="el" href="objacces_8c-source.html#l00257">setODentry()</a>, <a class="el" href="sdo_8h-source.html#l00048">struct_s_transfer::subIndex</a>, <a class="el" href="data_8h-source.html#l00057">struct_CO_Data::transfers</a>, <a class="el" href="hcs12_2applicfg_8h-source.html#l00141">UNS32</a>, and <a class="el" href="hcs12_2applicfg_8h-source.html#l00139">UNS8</a>.
</div>
</div><p>
<a class="anchor" name="9309025e29b59e09026abcd3b45a5b61"></a><!-- doxytag: member="sdo.h::SDOTimeoutAlarm" ref="9309025e29b59e09026abcd3b45a5b61" args="(CO_Data *d, UNS32 id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SDOTimeoutAlarm           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstruct__CO__Data.html">CO_Data</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS32&nbsp;</td>
          <td class="paramname"> <em>id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reset of a SDO exchange on timeout. Send a SDO abort 
<p>
Definition at line <a class="el" href="sdo_8c-source.html#l00093">93</a> of file <a class="el" href="sdo_8c-source.html">sdo.c</a>.
<p>
References <a class="el" href="sdo_8h-source.html#l00044">struct_s_transfer::abortCode</a>, <a class="el" href="sdo_8h-source.html#l00067">struct_s_transfer::Callback</a>, <a class="el" href="timer_8h-source.html#l00045">struct_s_timer_entry::d</a>, <a class="el" href="sdo_8h-source.html#l00047">struct_s_transfer::index</a>, <a class="el" href="hcs12_2applicfg_8h-source.html#l00177">MSG_ERR</a>, <a class="el" href="hcs12_2applicfg_8h-source.html#l00190">MSG_WAR</a>, <a class="el" href="sdo_8h-source.html#l00039">struct_s_transfer::nodeId</a>, <a class="el" href="sdo_8c-source.html#l00253">resetSDOline()</a>, <a class="el" href="def_8h-source.html#l00073">SDO_ABORTED_INTERNAL</a>, <a class="el" href="def_8h-source.html#l00078">SDO_SERVER</a>, <a class="el" href="def_8h-source.html#l00043">SDOABT_TIMED_OUT</a>, <a class="el" href="sdo_8c-source.html#l00424">sendSDOabort()</a>, <a class="el" href="sdo_8h-source.html#l00042">struct_s_transfer::state</a>, <a class="el" href="sdo_8h-source.html#l00048">struct_s_transfer::subIndex</a>, <a class="el" href="sdo_8h-source.html#l00061">struct_s_transfer::timer</a>, <a class="el" href="data_8h-source.html#l00057">struct_CO_Data::transfers</a>, <a class="el" href="hcs12_2applicfg_8h-source.html#l00139">UNS8</a>, and <a class="el" href="sdo_8h-source.html#l00041">struct_s_transfer::whoami</a>.
</div>
</div><p>
<a class="anchor" name="18b6f7e9c9441640a88ffef1e8720694"></a><!-- doxytag: member="sdo.h::SDOtoLine" ref="18b6f7e9c9441640a88ffef1e8720694" args="(CO_Data *d, UNS8 line, UNS8 nbBytes, UNS8 *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNS8 SDOtoLine           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstruct__CO__Data.html">CO_Data</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>nbBytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8 *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add data to an existant line Returns 0xFF if error. Else, returns 0; 
<p>
Definition at line <a class="el" href="sdo_8c-source.html#l00210">210</a> of file <a class="el" href="sdo_8c-source.html">sdo.c</a>.
<p>
References <a class="el" href="timer_8h-source.html#l00045">struct_s_timer_entry::d</a>, <a class="el" href="sdo_8h-source.html#l00056">struct_s_transfer::data</a>, <a class="el" href="hcs12_2applicfg_8h-source.html#l00177">MSG_ERR</a>, <a class="el" href="sdo_8h-source.html#l00050">struct_s_transfer::offset</a>, <a class="el" href="config_8h-source.html#l00028">SDO_MAX_LENGTH_TRANSFERT</a>, <a class="el" href="data_8h-source.html#l00057">struct_CO_Data::transfers</a>, and <a class="el" href="hcs12_2applicfg_8h-source.html#l00139">UNS8</a>.
</div>
</div><p>
<a class="anchor" name="c6b5d7d1439d537da992a96644a1ca5d"></a><!-- doxytag: member="sdo.h::sendSDO" ref="c6b5d7d1439d537da992a96644a1ca5d" args="(CO_Data *d, UNS8 whoami, s_SDO sdo)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNS8 sendSDO           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstruct__CO__Data.html">CO_Data</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>whoami</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structstruct__s__SDO.html">s_SDO</a>&nbsp;</td>
          <td class="paramname"> <em>sdo</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Transmit a SDO frame on the bus bus_id sdo is a structure which contains the sdo to transmit bus_id is hardware dependant whoami takes 2 values : SDO_CLIENT or SDO_SERVER return canSend(bus_id,&amp;m) or 0xFF if error 
<p>
Definition at line <a class="el" href="sdo_8c-source.html#l00354">354</a> of file <a class="el" href="sdo_8c-source.html">sdo.c</a>.
<p>
References <a class="el" href="sdo_8h-source.html#l00082">struct_s_SDO::body</a>, <a class="el" href="objdictdef_8h-source.html#l00108">td_indextable::bSubCount</a>, <a class="el" href="data_8h-source.html#l00090">struct_CO_Data::canHandle</a>, <a class="el" href="canOpenDriver_8c-source.html#l00505">canSend()</a>, <a class="el" href="can_8h-source.html#l00042">Message::cob_id</a>, <a class="el" href="timer_8h-source.html#l00045">struct_s_timer_entry::d</a>, <a class="el" href="sdo_8h-source.html#l00076">BODY::data</a>, <a class="el" href="can_8h-source.html#l00046">Message::data</a>, <a class="el" href="data_8h-source.html#l00050">struct_CO_Data::firstIndex</a>, <a class="el" href="data_8h-source.html#l00051">struct_CO_Data::lastIndex</a>, <a class="el" href="can_8h-source.html#l00045">Message::len</a>, <a class="el" href="hcs12_2applicfg_8h-source.html#l00177">MSG_ERR</a>, <a class="el" href="hcs12_2applicfg_8h-source.html#l00190">MSG_WAR</a>, <a class="el" href="sdo_8h-source.html#l00081">struct_s_SDO::nodeId</a>, <a class="el" href="data_8h-source.html#l00061">struct_CO_Data::nodeState</a>, <a class="el" href="def_8h-source.html#l00055">NOT_A_REQUEST</a>, <a class="el" href="data_8h-source.html#l00048">struct_CO_Data::objdict</a>, <a class="el" href="states_8h.html#3136d2815abe9d284f985e0a7ec68646a80594b1522cb686b981f56bbec45124">Operational</a>, <a class="el" href="objdictdef_8h-source.html#l00100">td_subindex::pObject</a>, <a class="el" href="states_8h.html#3136d2815abe9d284f985e0a7ec68646c747c16a9c4d7dec65cdab6e38df99b7">Pre_operational</a>, <a class="el" href="objdictdef_8h-source.html#l00107">td_indextable::pSubindex</a>, <a class="el" href="can_8h-source.html#l00043">Message::rtr</a>, <a class="el" href="objdictdef_8h-source.html#l00117">s_quick_index::SDO_CLT</a>, <a class="el" href="def_8h-source.html#l00078">SDO_SERVER</a>, <a class="el" href="objdictdef_8h-source.html#l00116">s_quick_index::SDO_SVR</a>, <a class="el" href="hcs12_2applicfg_8h-source.html#l00140">UNS16</a>, <a class="el" href="hcs12_2applicfg_8h-source.html#l00141">UNS32</a>, <a class="el" href="hcs12_2applicfg_8h-source.html#l00139">UNS8</a>, and <a class="el" href="can_8h-source.html#l00036">SHORT_CAN::w</a>.
</div>
</div><p>
<a class="anchor" name="b26c3f2fb63d81055809d6ccaa785b7c"></a><!-- doxytag: member="sdo.h::sendSDOabort" ref="b26c3f2fb63d81055809d6ccaa785b7c" args="(CO_Data *d, UNS8 whoami, UNS16 index, UNS8 subIndex, UNS32 abortCode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNS8 sendSDOabort           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstruct__CO__Data.html">CO_Data</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>whoami</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS16&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>subIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS32&nbsp;</td>
          <td class="paramname"> <em>abortCode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Transmit a SDO error to the client. The reasons may be : Read/Write to a undefined object Read/Write to a undefined subindex Read/write a not valid length object Write a read only object whoami takes 2 values : SDO_CLIENT or SDO_SERVER 
<p>
Definition at line <a class="el" href="sdo_8c-source.html#l00424">424</a> of file <a class="el" href="sdo_8c-source.html">sdo.c</a>.
<p>
References <a class="el" href="data_8h-source.html#l00047">struct_CO_Data::bDeviceNodeId</a>, <a class="el" href="sdo_8h-source.html#l00082">struct_s_SDO::body</a>, <a class="el" href="timer_8h-source.html#l00045">struct_s_timer_entry::d</a>, <a class="el" href="sdo_8h-source.html#l00076">BODY::data</a>, <a class="el" href="hcs12_2applicfg_8h-source.html#l00190">MSG_WAR</a>, <a class="el" href="sdo_8h-source.html#l00081">struct_s_SDO::nodeId</a>, <a class="el" href="sdo_8c-source.html#l00354">sendSDO()</a>, and <a class="el" href="hcs12_2applicfg_8h-source.html#l00139">UNS8</a>.
</div>
</div><p>
<a class="anchor" name="601a837ecb5f21bf4c66b058c5ae7810"></a><!-- doxytag: member="sdo.h::setSDOlineRestBytes" ref="601a837ecb5f21bf4c66b058c5ae7810" args="(CO_Data *d, UNS8 line, UNS8 nbBytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNS8 setSDOlineRestBytes           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstruct__CO__Data.html">CO_Data</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>nbBytes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Store in the line structure the nb of bytes which must be transmited (or received) bus_id is hardware dependant. return 0 if success, 0xFF if error. 
<p>
Definition at line <a class="el" href="sdo_8c-source.html#l00342">342</a> of file <a class="el" href="sdo_8c-source.html">sdo.c</a>.
<p>
References <a class="el" href="sdo_8h-source.html#l00049">struct_s_transfer::count</a>, <a class="el" href="timer_8h-source.html#l00045">struct_s_timer_entry::d</a>, <a class="el" href="hcs12_2applicfg_8h-source.html#l00177">MSG_ERR</a>, <a class="el" href="config_8h-source.html#l00028">SDO_MAX_LENGTH_TRANSFERT</a>, and <a class="el" href="data_8h-source.html#l00057">struct_CO_Data::transfers</a>.
</div>
</div><p>
<a class="anchor" name="bc20ed246e00053dcf71faa8f45ee39c"></a><!-- doxytag: member="sdo.h::writeNetworkDict" ref="bc20ed246e00053dcf71faa8f45ee39c" args="(CO_Data *d, UNS8 nodeId, UNS16 index, UNS8 subIndex, UNS8 count, UNS8 dataType, void *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNS8 writeNetworkDict           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstruct__CO__Data.html">CO_Data</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>nodeId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS16&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>subIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>dataType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Used by the application to send a SDO request frame to write the data *data at the index and subIndex indicated in the dictionary of the slave whose node_id is nodeId Count : nb of bytes to write in the dictionnary. datatype (defined in <a class="el" href="objdictdef_8h.html">objdictdef.h</a>) : put "visible_string" for strings, 0 for integers or reals or other value. bus_id is hardware dependant return 0xFF if error, else return 0 
<p>
Definition at line <a class="el" href="sdo_8c-source.html#l01182">1182</a> of file <a class="el" href="sdo_8c-source.html">sdo.c</a>.
<p>
References <a class="el" href="sdo_8c-source.html#l01072">_writeNetworkDict()</a>, and <a class="el" href="timer_8h-source.html#l00045">struct_s_timer_entry::d</a>.
</div>
</div><p>
<a class="anchor" name="f4ec05293fb8971a1b282994498ed4f5"></a><!-- doxytag: member="sdo.h::writeNetworkDictCallBack" ref="f4ec05293fb8971a1b282994498ed4f5" args="(CO_Data *d, UNS8 nodeId, UNS16 index, UNS8 subIndex, UNS8 count, UNS8 dataType, void *data, SDOCallback_t Callback)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNS8 writeNetworkDictCallBack           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstruct__CO__Data.html">CO_Data</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>nodeId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS16&nbsp;</td>
          <td class="paramname"> <em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>subIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>dataType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sdo_8h.html#606eccfef67e572723e1efba3f0d87ba">SDOCallback_t</a>&nbsp;</td>
          <td class="paramname"> <em>Callback</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Used to send a SDO request frame to write in a distant node dictionnary. The function Callback which must be defined in the user code is called at the end of the exchange. (on succes or abort). 
<p>
Definition at line <a class="el" href="sdo_8c-source.html#l01190">1190</a> of file <a class="el" href="sdo_8c-source.html">sdo.c</a>.
<p>
References <a class="el" href="sdo_8c-source.html#l01072">_writeNetworkDict()</a>, and <a class="el" href="timer_8h-source.html#l00045">struct_s_timer_entry::d</a>.
</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on Mon Jun 4 16:29:07 2007 for CanFestival by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1 </small></address>
</body>
</html>

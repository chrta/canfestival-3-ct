<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>CanFestival: src/states.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="dir_c0a169d39c08973f879fd54f07b9e9f7.html">src</a></div>
<h1>states.c File Reference</h1><code>#include &quot;<a class="el" href="states_8h-source.html">states.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="def_8h-source.html">def.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="dcf_8h-source.html">dcf.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="nmtSlave_8h-source.html">nmtSlave.h</a>&quot;</code><br>

<p>
Include dependency graph for states.c:<p><center><img src="states_8c__incl.png" border="0" usemap="#src/states.c_map" alt=""></center>
<map name="src/states.c_map">
<area href="states_8h.html" shape="rect" coords="164,419,239,443" alt="">
<area href="def_8h.html" shape="rect" coords="575,639,631,663" alt="">
<area href="dcf_8h.html" shape="rect" coords="175,739,228,763" alt="">
<area href="nmtSlave_8h.html" shape="rect" coords="152,371,251,395" alt="">
<area href="win32_2applicfg_8h.html" shape="rect" coords="691,392,779,416" alt="">
<area href="data_8h.html" shape="rect" coords="300,419,364,443" alt="">
<area href="can_8h.html" shape="rect" coords="574,392,632,416" alt="">
<area href="objdictdef_8h.html" shape="rect" coords="416,197,518,221" alt="">
<area href="objacces_8h.html" shape="rect" coords="420,443,514,467" alt="">
<area href="sdo_8h.html" shape="rect" coords="438,491,496,515" alt="">
<area href="pdo_8h.html" shape="rect" coords="438,589,496,613" alt="">
<area href="lifegrd_8h.html" shape="rect" coords="428,149,506,173" alt="">
<area href="sync_8h.html" shape="rect" coords="434,245,500,269" alt="">
<area href="nmtMaster_8h.html" shape="rect" coords="414,293,520,317" alt="">
<area href="config_8h.html" shape="rect" coords="698,639,772,663" alt="">
<area href="timer_8h.html" shape="rect" coords="568,491,638,515" alt="">
<area href="win32_2timerscfg_8h.html" shape="rect" coords="686,484,784,508" alt="">
</map>

<p>
<a href="states_8c-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="states_8c.html#3a7cf0c586b1e467e6215396e9a439ae">StartOrStop</a>(CommType, FuncStart, FuncStop)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="states_8c.html#f4e8bc2d192090ff502229b33c24a389">None</a></td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="states_8c.html#915991eebf7c2ac6c929c6c9cfbd7d03">switchCommunicationState</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d, <a class="el" href="structs__state__communication.html">s_state_communication</a> *newCommunicationState)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="states_8h.html#5891f63a4c9243179838389a93d084e2">e_nodeState</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="states_8c.html#95d835785ba564bf6d92e3224c5e3848">getState</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="states_8c.html#3f8975650604cc23582f19a43fd4e518">canDispatch</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d, <a class="el" href="structMessage.html">Message</a> *m)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">UNS8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="states_8c.html#0a5004efd1dedbee82a4f21ec5c44fb5">setState</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d, <a class="el" href="states_8h.html#5891f63a4c9243179838389a93d084e2">e_nodeState</a> newState)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">UNS8&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="states_8c.html#3020f2e5762f6e389a21382ec827b6a6">getNodeId</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="states_8c.html#d47a53979b9311a374d029f7923abbe1">setNodeId</a> (<a class="el" href="structstruct__CO__Data.html">CO_Data</a> *d, UNS8 nodeId)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="states_8c.html#1ee4d5c3d5dc6f39607d414b7bf9bcc9">_initialisation</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="states_8c.html#00113c22ed3366ee552f77862241d317">_preOperational</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="states_8c.html#4c917142acca702f7e04e919a0b958b4">_operational</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="states_8c.html#244e9269c323e14509bea947c2729a13">_stopped</a> ()</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Edouard TISSERANT and Francis DUPIN </dd></dl>
<dl class="date" compact><dt><b>Date:</b></dt><dd>Tue Jun 5 09:32:32 2007 </dd></dl>

<p>
Definition in file <a class="el" href="states_8c-source.html">states.c</a>.<hr><h2>Define Documentation</h2>
<a class="anchor" name="f4e8bc2d192090ff502229b33c24a389"></a><!-- doxytag: member="states.c::None" ref="f4e8bc2d192090ff502229b33c24a389" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define None          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="states_8c-source.html#l00112">112</a> of file <a class="el" href="states_8c-source.html">states.c</a>.
<p>
Referenced by <a class="el" href="states_8c-source.html#l00120">switchCommunicationState()</a>.
</div>
</div><p>
<a class="anchor" name="3a7cf0c586b1e467e6215396e9a439ae"></a><!-- doxytag: member="states.c::StartOrStop" ref="3a7cf0c586b1e467e6215396e9a439ae" args="(CommType, FuncStart, FuncStop)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define StartOrStop          </td>
          <td>(</td>
          <td class="paramtype">CommType,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FuncStart,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FuncStop&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keywordflow">if</span>(newCommunicationState-&gt;CommType &amp;&amp; !<a class="code" href="structstruct__s__timer__entry.html#c08f4de0f4a517ce2bb72f18251cd13c">d</a>-&gt;<a class="code" href="structstruct__CO__Data.html#ab01aa22a1af1044224220cd45e5796d">CurrentCommunicationState</a>.CommType){\
                <a class="code" href="hcs12_2applicfg_8h.html#5f4e5133c4c3113931684d3aba518bba">MSG_WAR</a>(0x9999,#FuncStart, 9999);\
                <a class="code" href="structstruct__s__timer__entry.html#c08f4de0f4a517ce2bb72f18251cd13c">d</a>-&gt;<a class="code" href="structstruct__CO__Data.html#ab01aa22a1af1044224220cd45e5796d">CurrentCommunicationState</a>.CommType = 1;\
                FuncStart;\
        }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(!newCommunicationState-&gt;CommType &amp;&amp; <a class="code" href="structstruct__s__timer__entry.html#c08f4de0f4a517ce2bb72f18251cd13c">d</a>-&gt;<a class="code" href="structstruct__CO__Data.html#ab01aa22a1af1044224220cd45e5796d">CurrentCommunicationState</a>.CommType){\
                <a class="code" href="hcs12_2applicfg_8h.html#5f4e5133c4c3113931684d3aba518bba">MSG_WAR</a>(0x9999,#FuncStop, 9999);\
                <a class="code" href="structstruct__s__timer__entry.html#c08f4de0f4a517ce2bb72f18251cd13c">d</a>-&gt;<a class="code" href="structstruct__CO__Data.html#ab01aa22a1af1044224220cd45e5796d">CurrentCommunicationState</a>.CommType = 0;\
                FuncStop;\
        }
</pre></div>
<p>
Definition at line <a class="el" href="states_8c-source.html#l00102">102</a> of file <a class="el" href="states_8c-source.html">states.c</a>.
<p>
Referenced by <a class="el" href="states_8c-source.html#l00120">switchCommunicationState()</a>.
</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="1ee4d5c3d5dc6f39607d414b7bf9bcc9"></a><!-- doxytag: member="states.c::_initialisation" ref="1ee4d5c3d5dc6f39607d414b7bf9bcc9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _initialisation           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="states_8c-source.html#l00285">285</a> of file <a class="el" href="states_8c-source.html">states.c</a>.
</div>
</div><p>
<a class="anchor" name="4c917142acca702f7e04e919a0b958b4"></a><!-- doxytag: member="states.c::_operational" ref="4c917142acca702f7e04e919a0b958b4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _operational           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="states_8c-source.html#l00287">287</a> of file <a class="el" href="states_8c-source.html">states.c</a>.
</div>
</div><p>
<a class="anchor" name="00113c22ed3366ee552f77862241d317"></a><!-- doxytag: member="states.c::_preOperational" ref="00113c22ed3366ee552f77862241d317" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _preOperational           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="states_8c-source.html#l00286">286</a> of file <a class="el" href="states_8c-source.html">states.c</a>.
</div>
</div><p>
<a class="anchor" name="244e9269c323e14509bea947c2729a13"></a><!-- doxytag: member="states.c::_stopped" ref="244e9269c323e14509bea947c2729a13" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _stopped           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="states_8c-source.html#l00288">288</a> of file <a class="el" href="states_8c-source.html">states.c</a>.
</div>
</div><p>
<a class="anchor" name="3f8975650604cc23582f19a43fd4e518"></a><!-- doxytag: member="states.c::canDispatch" ref="3f8975650604cc23582f19a43fd4e518" args="(CO_Data *d, Message *m)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void canDispatch           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstruct__CO__Data.html">CO_Data</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structMessage.html">Message</a> *&nbsp;</td>
          <td class="paramname"> <em>m</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>d</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>m</em>&nbsp;</td><td></td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="states_8c-source.html#l00065">65</a> of file <a class="el" href="states_8c-source.html">states.c</a>.
<p>
References <a class="el" href="can_8h-source.html#l00042">Message::cob_id</a>, <a class="el" href="states_8h-source.html#l00054">s_state_communication::csHeartbeat</a>, <a class="el" href="states_8h-source.html#l00055">s_state_communication::csPDO</a>, <a class="el" href="states_8h-source.html#l00051">s_state_communication::csSDO</a>, <a class="el" href="states_8h-source.html#l00053">s_state_communication::csSYNC</a>, <a class="el" href="data_8h-source.html#l00062">struct_CO_Data::CurrentCommunicationState</a>, <a class="el" href="timer_8h-source.html#l00045">struct_s_timer_entry::d</a>, <a class="el" href="data_8h-source.html#l00053">struct_CO_Data::iam_a_slave</a>, <a class="el" href="def_8h-source.html#l00086">NMT</a>, <a class="el" href="def_8h-source.html#l00099">NODE_GUARD</a>, <a class="el" href="def_8h-source.html#l00090">PDO1rx</a>, <a class="el" href="def_8h-source.html#l00089">PDO1tx</a>, <a class="el" href="def_8h-source.html#l00092">PDO2rx</a>, <a class="el" href="def_8h-source.html#l00091">PDO2tx</a>, <a class="el" href="def_8h-source.html#l00094">PDO3rx</a>, <a class="el" href="def_8h-source.html#l00093">PDO3tx</a>, <a class="el" href="def_8h-source.html#l00096">PDO4rx</a>, <a class="el" href="def_8h-source.html#l00095">PDO4tx</a>, <a class="el" href="nmtSlave_8c-source.html#l00043">proceedNMTstateChange()</a>, <a class="el" href="lifegrd_8c-source.html#l00081">proceedNODE_GUARD()</a>, <a class="el" href="pdo_8c-source.html#l00221">proceedPDO()</a>, <a class="el" href="sdo_8c-source.html#l00608">proceedSDO()</a>, <a class="el" href="sync_8c-source.html#l00141">proceedSYNC()</a>, <a class="el" href="def_8h-source.html#l00098">SDOrx</a>, <a class="el" href="def_8h-source.html#l00097">SDOtx</a>, <a class="el" href="def_8h-source.html#l00087">SYNC</a>, and <a class="el" href="can_8h-source.html#l00036">SHORT_CAN::w</a>.
<p>
Referenced by <a class="el" href="unix_8c-source.html#l00132">canReceiveLoop()</a>, and <a class="el" href="appli_8c-source.html#l00383">main()</a>.
<p>
Here is the call graph for this function:<p><center><img src="states_8c_3f8975650604cc23582f19a43fd4e518_cgraph.png" border="0" usemap="#states_8c_3f8975650604cc23582f19a43fd4e518_cgraph_map" alt=""></center>
<map name="states_8c_3f8975650604cc23582f19a43fd4e518_cgraph_map">
<area href="nmtSlave_8c.html#97d175ea168c149c99b01dcde0989743" shape="rect" coords="162,153,351,177" alt="">
<area href="lifegrd_8c.html#b3248945e06e8b05518beddf665f174d" shape="rect" coords="171,736,342,760" alt="">
<area href="pdo_8c.html#ae7d661cd3ef7adf93a0d08fdb15b7f2" shape="rect" coords="446,688,550,712" alt="">
<area href="sdo_8c.html#2a93a7c780472b1d8666d89aa270f661" shape="rect" coords="203,349,310,373" alt="">
<area href="sync_8c.html#80cadcba23dc859db8a8d3f52789d6d1" shape="rect" coords="442,880,554,904" alt="">
<area href="states_8c.html#0a5004efd1dedbee82a4f21ec5c44fb5" shape="rect" coords="459,5,536,29" alt="">
<area href="canOpenDriver_8c.html#b57b4b3c000e9f61135175495e874977" shape="rect" coords="675,543,755,567" alt="">
<area href="lifegrd_8c.html#e3cd4656f5b2a37d4b8d364293538198" shape="rect" coords="402,736,594,760" alt="">
<area href="timer_8c.html#991b3cfaac2f201b14d5530f75985c21" shape="rect" coords="456,784,539,808" alt="">
<area href="timer_8c.html#11c2616d78f06ed9144ef662f757b128" shape="rect" coords="456,832,539,856" alt="">
<area href="pdo_8c.html#e468510c9f77f502207d961d26389918" shape="rect" coords="675,760,755,784" alt="">
<area href="objacces_8c.html#39c263a4bc5d2d824fefe22fdb4c2dac" shape="rect" coords="666,688,764,712" alt="">
<area href="pdo_8c.html#298b8291fa35cca22264cf8a70bf138a" shape="rect" coords="674,856,756,880" alt="">
<area href="objacces_8c.html#17e598cc1b2e60380e2e4e75afe9b3b0" shape="rect" coords="666,591,764,615" alt="">
<area href="sdo_8c.html#2019db2a4d17e6d29c055cbae173e2b9" shape="rect" coords="454,251,542,275" alt="">
<area href="sdo_8c.html#bb0c376b048ab2c6e0524b135b62376f" shape="rect" coords="644,276,786,300" alt="">
<area href="sdo_8c.html#42d33be015d4c4c83c73f1f0e588f481" shape="rect" coords="660,201,770,225" alt="">
<area href="sdo_8c.html#b9c873a15f55b29112b5527a6cc6898d" shape="rect" coords="836,176,932,200" alt="">
<area href="sdo_8c.html#58d1f9691977617601beb9e5b4123252" shape="rect" coords="434,397,562,421" alt="">
<area href="sdo_8c.html#acceb714c6e457e98deb9ba164ba2a2f" shape="rect" coords="415,445,580,469" alt="">
<area href="sdo_8c.html#ad6eb8be03b832ebba4dfb87aaba4065" shape="rect" coords="452,493,543,517" alt="">
<area href="sdo_8c.html#29427a80fd1aeabff30bf0602fbc220f" shape="rect" coords="430,640,566,664" alt="">
<area href="sdo_8c.html#2eb5309dca3a7363da5e5e7230b85d58" shape="rect" coords="428,541,567,565" alt="">
<area href="sdo_8c.html#18b6f7e9c9441640a88ffef1e8720694" shape="rect" coords="451,53,544,77" alt="">
<area href="sdo_8c.html#c6b5d7d1439d537da992a96644a1ca5d" shape="rect" coords="456,349,539,373" alt="">
<area href="sdo_8c.html#601a837ecb5f21bf4c66b058c5ae7810" shape="rect" coords="416,101,579,125" alt="">
</map>

</div>
</div><p>
<a class="anchor" name="3020f2e5762f6e389a21382ec827b6a6"></a><!-- doxytag: member="states.c::getNodeId" ref="3020f2e5762f6e389a21382ec827b6a6" args="(CO_Data *d)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNS8 getNodeId           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstruct__CO__Data.html">CO_Data</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>d</em>&nbsp;</td><td></td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd></dd></dl>

<p>
Definition at line <a class="el" href="states_8c-source.html#l00224">224</a> of file <a class="el" href="states_8c-source.html">states.c</a>.
<p>
References <a class="el" href="data_8h-source.html#l00047">struct_CO_Data::bDeviceNodeId</a>, and <a class="el" href="timer_8h-source.html#l00045">struct_s_timer_entry::d</a>.
<p>
Referenced by <a class="el" href="appli_8c-source.html#l00170">initSensor()</a>.
</div>
</div><p>
<a class="anchor" name="95d835785ba564bf6d92e3224c5e3848"></a><!-- doxytag: member="states.c::getState" ref="95d835785ba564bf6d92e3224c5e3848" args="(CO_Data *d)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="states_8h.html#5891f63a4c9243179838389a93d084e2">e_nodeState</a> getState           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstruct__CO__Data.html">CO_Data</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>d</em>&nbsp;</td><td></td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd></dd></dl>

<p>
Definition at line <a class="el" href="states_8c-source.html#l00054">54</a> of file <a class="el" href="states_8c-source.html">states.c</a>.
<p>
References <a class="el" href="timer_8h-source.html#l00045">struct_s_timer_entry::d</a>, and <a class="el" href="data_8h-source.html#l00061">struct_CO_Data::nodeState</a>.
</div>
</div><p>
<a class="anchor" name="d47a53979b9311a374d029f7923abbe1"></a><!-- doxytag: member="states.c::setNodeId" ref="d47a53979b9311a374d029f7923abbe1" args="(CO_Data *d, UNS8 nodeId)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setNodeId           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstruct__CO__Data.html">CO_Data</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UNS8&nbsp;</td>
          <td class="paramname"> <em>nodeId</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>d</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nodeId</em>&nbsp;</td><td></td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="states_8c-source.html#l00235">235</a> of file <a class="el" href="states_8c-source.html">states.c</a>.
<p>
References <a class="el" href="data_8h-source.html#l00047">struct_CO_Data::bDeviceNodeId</a>, <a class="el" href="timer_8h-source.html#l00045">struct_s_timer_entry::d</a>, <a class="el" href="data_8h-source.html#l00050">struct_CO_Data::firstIndex</a>, <a class="el" href="data_8h-source.html#l00051">struct_CO_Data::lastIndex</a>, <a class="el" href="data_8h-source.html#l00048">struct_CO_Data::objdict</a>, <a class="el" href="objdictdef_8h-source.html#l00118">s_quick_index::PDO_RCV</a>, <a class="el" href="objdictdef_8h-source.html#l00120">s_quick_index::PDO_TRS</a>, <a class="el" href="objdictdef_8h-source.html#l00100">td_subindex::pObject</a>, <a class="el" href="objdictdef_8h-source.html#l00107">td_indextable::pSubindex</a>, <a class="el" href="objdictdef_8h-source.html#l00116">s_quick_index::SDO_SVR</a>, <a class="el" href="hcs12_2applicfg_8h-source.html#l00140">UNS16</a>, <a class="el" href="hcs12_2applicfg_8h-source.html#l00141">UNS32</a>, and <a class="el" href="hcs12_2applicfg_8h-source.html#l00139">UNS8</a>.
<p>
Referenced by <a class="el" href="TestMasterMicroMod_8c-source.html#l00382">InitNodes()</a>, <a class="el" href="appli_8c-source.html#l00170">initSensor()</a>, and <a class="el" href="main_8c-source.html#l00079">main()</a>.
</div>
</div><p>
<a class="anchor" name="0a5004efd1dedbee82a4f21ec5c44fb5"></a><!-- doxytag: member="states.c::setState" ref="0a5004efd1dedbee82a4f21ec5c44fb5" args="(CO_Data *d, e_nodeState newState)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">UNS8 setState           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstruct__CO__Data.html">CO_Data</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="states_8h.html#5891f63a4c9243179838389a93d084e2">e_nodeState</a>&nbsp;</td>
          <td class="paramname"> <em>newState</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>d</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>newState</em>&nbsp;</td><td></td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd></dd></dl>

<p>
Definition at line <a class="el" href="states_8c-source.html#l00138">138</a> of file <a class="el" href="states_8c-source.html">states.c</a>.
<p>
References <a class="el" href="timer_8h-source.html#l00045">struct_s_timer_entry::d</a>, <a class="el" href="dcf_8c-source.html#l00075">decompo_dcf()</a>, <a class="el" href="data_8h-source.html#l00053">struct_CO_Data::iam_a_slave</a>, <a class="el" href="states_8h.html#3136d2815abe9d284f985e0a7ec68646eb3ae26d7a1629aa0fc6c83f46306cf5">Initialisation</a>, <a class="el" href="data_8h-source.html#l00063">struct_CO_Data::initialisation</a>, <a class="el" href="data_8h-source.html#l00061">struct_CO_Data::nodeState</a>, <a class="el" href="def_8h-source.html#l00031">OD_SUCCESSFUL</a>, <a class="el" href="states_8h.html#3136d2815abe9d284f985e0a7ec68646a80594b1522cb686b981f56bbec45124">Operational</a>, <a class="el" href="data_8h-source.html#l00065">struct_CO_Data::operational</a>, <a class="el" href="states_8h.html#3136d2815abe9d284f985e0a7ec68646c747c16a9c4d7dec65cdab6e38df99b7">Pre_operational</a>, <a class="el" href="data_8h-source.html#l00064">struct_CO_Data::preOperational</a>, <a class="el" href="dcf_8c-source.html#l00045">ptrTable</a>, <a class="el" href="data_8h-source.html#l00091">struct_CO_Data::scanIndexOD</a>, <a class="el" href="states_8h.html#3136d2815abe9d284f985e0a7ec686464d049c6d45e08a294523df186ad77a75">Stopped</a>, <a class="el" href="data_8h-source.html#l00066">struct_CO_Data::stopped</a>, <a class="el" href="states_8c-source.html#l00120">switchCommunicationState()</a>, <a class="el" href="hcs12_2applicfg_8h-source.html#l00140">UNS16</a>, and <a class="el" href="hcs12_2applicfg_8h-source.html#l00141">UNS32</a>.
<p>
Referenced by <a class="el" href="TestMasterMicroMod_8c-source.html#l00382">InitNodes()</a>, <a class="el" href="appli_8c-source.html#l00383">main()</a>, and <a class="el" href="nmtSlave_8c-source.html#l00043">proceedNMTstateChange()</a>.
<p>
Here is the call graph for this function:<p><center><img src="states_8c_0a5004efd1dedbee82a4f21ec5c44fb5_cgraph.png" border="0" usemap="#states_8c_0a5004efd1dedbee82a4f21ec5c44fb5_cgraph_map" alt=""></center>
<map name="states_8c_0a5004efd1dedbee82a4f21ec5c44fb5_cgraph_map">
<area href="dcf_8c.html#8452e163e7649968ad6dae1601a5fb0d" shape="rect" coords="181,226,293,250" alt="">
<area href="states_8c.html#915991eebf7c2ac6c929c6c9cfbd7d03" shape="rect" coords="135,347,340,371" alt="">
<area href="dcf_8c.html#3c07605ffe3ea197aa36e583ef87a20a" shape="rect" coords="389,152,536,176" alt="">
<area href="sdo_8c.html#58d1f9691977617601beb9e5b4123252" shape="rect" coords="629,104,757,128" alt="">
<area href="sdo_8c.html#bb0c376b048ab2c6e0524b135b62376f" shape="rect" coords="623,6,764,30" alt="">
<area href="sdo_8c.html#b9c873a15f55b29112b5527a6cc6898d" shape="rect" coords="863,128,959,152" alt="">
<area href="sdo_8c.html#42d33be015d4c4c83c73f1f0e588f481" shape="rect" coords="639,200,748,224" alt="">
<area href="sdo_8c.html#c6b5d7d1439d537da992a96644a1ca5d" shape="rect" coords="652,152,735,176" alt="">
<area href="canOpenDriver_8c.html#b57b4b3c000e9f61135175495e874977" shape="rect" coords="871,250,951,274" alt="">
<area href="lifegrd_8c.html#8896f6846e4d020390f6953f3d98aa21" shape="rect" coords="408,539,517,563" alt="">
<area href="lifegrd_8c.html#1b73047269c2a02065e12af18c6053c7" shape="rect" coords="852,659,969,683" alt="">
<area href="sdo_8c.html#1f4f07eccc4890a11ccf4f632da7740b" shape="rect" coords="420,200,505,224" alt="">
<area href="nmtSlave_8c.html#aced28a97b2c256320dfde3c4b36a7d5" shape="rect" coords="392,274,533,298" alt="">
<area href="sync_8c.html#2e0bf669f5b40dfbdda0f12a5ae3631a" shape="rect" coords="419,347,507,371" alt="">
<area href="sync_8c.html#41c47dbd59d22bf9bab6cd288cf27164" shape="rect" coords="649,395,737,419" alt="">
<area href="lifegrd_8c.html#e3cd4656f5b2a37d4b8d364293538198" shape="rect" coords="597,587,789,611" alt="">
<area href="lifegrd_8c.html#098c81fb9326fb2c7b43e88a55ce1368" shape="rect" coords="585,635,801,659" alt="">
<area href="lifegrd_8c.html#626b7d9e527a898682d9122f91454de9" shape="rect" coords="601,539,785,563" alt="">
<area href="objacces_8c.html#514e7b9c13835a86446b1cd38fa34049" shape="rect" coords="587,491,800,515" alt="">
<area href="timer_8c.html#11c2616d78f06ed9144ef662f757b128" shape="rect" coords="652,443,735,467" alt="">
<area href="sync_8c.html#82595787f641ab85980d83522f1158b0" shape="rect" coords="604,299,783,323" alt="">
<area href="sync_8c.html#bbcce7b549414c7bc1aa72fa66258b45" shape="rect" coords="647,347,740,371" alt="">
</map>

</div>
</div><p>
<a class="anchor" name="915991eebf7c2ac6c929c6c9cfbd7d03"></a><!-- doxytag: member="states.c::switchCommunicationState" ref="915991eebf7c2ac6c929c6c9cfbd7d03" args="(CO_Data *d, s_state_communication *newCommunicationState)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void switchCommunicationState           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstruct__CO__Data.html">CO_Data</a> *&nbsp;</td>
          <td class="paramname"> <em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structs__state__communication.html">s_state_communication</a> *&nbsp;</td>
          <td class="paramname"> <em>newCommunicationState</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>d</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>newCommunicationState</em>&nbsp;</td><td></td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="states_8c-source.html#l00120">120</a> of file <a class="el" href="states_8c-source.html">states.c</a>.
<p>
References <a class="el" href="timer_8h-source.html#l00045">struct_s_timer_entry::d</a>, <a class="el" href="lifegrd_8c-source.html#l00206">heartbeatInit()</a>, <a class="el" href="lifegrd_8c-source.html#l00236">heartbeatStop()</a>, <a class="el" href="states_8c-source.html#l00112">None</a>, <a class="el" href="sdo_8c-source.html#l00169">resetSDO()</a>, <a class="el" href="nmtSlave_8c-source.html#l00097">slaveSendBootUp()</a>, <a class="el" href="states_8c-source.html#l00102">StartOrStop</a>, <a class="el" href="sync_8c-source.html#l00080">startSYNC()</a>, and <a class="el" href="sync_8c-source.html#l00105">stopSYNC()</a>.
<p>
Referenced by <a class="el" href="states_8c-source.html#l00138">setState()</a>.
<p>
Here is the call graph for this function:<p><center><img src="states_8c_915991eebf7c2ac6c929c6c9cfbd7d03_cgraph.png" border="0" usemap="#states_8c_915991eebf7c2ac6c929c6c9cfbd7d03_cgraph_map" alt=""></center>
<map name="states_8c_915991eebf7c2ac6c929c6c9cfbd7d03_cgraph_map">
<area href="lifegrd_8c.html#8896f6846e4d020390f6953f3d98aa21" shape="rect" coords="278,203,387,227" alt="">
<area href="lifegrd_8c.html#1b73047269c2a02065e12af18c6053c7" shape="rect" coords="719,57,836,81" alt="">
<area href="sdo_8c.html#1f4f07eccc4890a11ccf4f632da7740b" shape="rect" coords="290,479,375,503" alt="">
<area href="nmtSlave_8c.html#aced28a97b2c256320dfde3c4b36a7d5" shape="rect" coords="262,105,403,129" alt="">
<area href="sync_8c.html#2e0bf669f5b40dfbdda0f12a5ae3631a" shape="rect" coords="288,347,376,371" alt="">
<area href="sync_8c.html#41c47dbd59d22bf9bab6cd288cf27164" shape="rect" coords="516,443,604,467" alt="">
<area href="lifegrd_8c.html#e3cd4656f5b2a37d4b8d364293538198" shape="rect" coords="464,155,656,179" alt="">
<area href="lifegrd_8c.html#098c81fb9326fb2c7b43e88a55ce1368" shape="rect" coords="452,107,668,131" alt="">
<area href="lifegrd_8c.html#626b7d9e527a898682d9122f91454de9" shape="rect" coords="468,203,652,227" alt="">
<area href="objacces_8c.html#514e7b9c13835a86446b1cd38fa34049" shape="rect" coords="454,299,667,323" alt="">
<area href="timer_8c.html#11c2616d78f06ed9144ef662f757b128" shape="rect" coords="519,251,602,275" alt="">
<area href="canOpenDriver_8c.html#b57b4b3c000e9f61135175495e874977" shape="rect" coords="738,129,818,153" alt="">
<area href="sdo_8c.html#42d33be015d4c4c83c73f1f0e588f481" shape="rect" coords="506,491,615,515" alt="">
<area href="sync_8c.html#82595787f641ab85980d83522f1158b0" shape="rect" coords="471,395,650,419" alt="">
<area href="sync_8c.html#bbcce7b549414c7bc1aa72fa66258b45" shape="rect" coords="514,347,607,371" alt="">
</map>

</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on Fri Jun 8 08:52:15 2007 for CanFestival by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1 </small></address>
</body>
</html>

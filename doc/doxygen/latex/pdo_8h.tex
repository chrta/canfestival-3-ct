\hypertarget{pdo_8h}{
\section{/home/epimerde/documents/tc11/Can\-Festival-3/include/pdo.h File Reference}
\label{pdo_8h}\index{/home/epimerde/documents/tc11/CanFestival-3/include/pdo.h@{/home/epimerde/documents/tc11/CanFestival-3/include/pdo.h}}
}
{\tt \#include $<$applicfg.h$>$}\par
{\tt \#include $<$def.h$>$}\par
{\tt \#include \char`\"{}data.h\char`\"{}}\par
\subsection*{Data Structures}
\begin{CompactItemize}
\item 
struct \hyperlink{structstruct__s__process__var}{struct\_\-s\_\-process\_\-var}
\item 
struct \hyperlink{structstruct__s__PDO}{struct\_\-s\_\-PDO}
\end{CompactItemize}
\subsection*{Typedefs}
\begin{CompactItemize}
\item 
typedef \hyperlink{structstruct__s__process__var}{struct\_\-s\_\-process\_\-var} \hyperlink{pdo_8h_cebb3b4d895da8e726cc7eddb6035e6f}{s\_\-process\_\-var}
\item 
typedef \hyperlink{structstruct__s__PDO}{struct\_\-s\_\-PDO} \hyperlink{pdo_8h_7f9085f960c6632e8c79537abac9a9ff}{s\_\-PDO}
\end{CompactItemize}
\subsection*{Functions}
\begin{CompactItemize}
\item 
UNS8 \hyperlink{pdo_8h_a6774c219dc64c1cec4b4721ba23e15a}{send\-PDO} (\hyperlink{structstruct__CO__Data}{CO\_\-Data} $\ast$d, \hyperlink{structstruct__s__PDO}{s\_\-PDO} pdo, UNS8 request)
\item 
UNS8 \hyperlink{pdo_8h_298b8291fa35cca22264cf8a70bf138a}{PDOm\-GR} (\hyperlink{structstruct__CO__Data}{CO\_\-Data} $\ast$d, UNS32 cob\-Id)
\item 
UNS8 \hyperlink{pdo_8h_b9c82d949045cb7f52ed40d0ee8c7bf1}{build\-PDO} (\hyperlink{structstruct__CO__Data}{CO\_\-Data} $\ast$d, UNS16 index)
\item 
UNS8 \hyperlink{pdo_8h_cc08547009d3d2755d2291999941694c}{send\-PDOrequest} (\hyperlink{structstruct__CO__Data}{CO\_\-Data} $\ast$d, UNS32 cob\-Id)
\item 
UNS8 \hyperlink{pdo_8h_ae7d661cd3ef7adf93a0d08fdb15b7f2}{proceed\-PDO} (\hyperlink{structstruct__CO__Data}{CO\_\-Data} $\ast$d, \hyperlink{structMessage}{Message} $\ast$m)
\item 
UNS8 \hyperlink{pdo_8h_07ff33d0d2e6b1070bf3c27578006e8d}{send\-PDOevent} (\hyperlink{structstruct__CO__Data}{CO\_\-Data} $\ast$d, void $\ast$variable)
\item 
void \hyperlink{pdo_8h_e468510c9f77f502207d961d26389918}{Copy\-Bits} (UNS8 Nb\-Bits, UNS8 $\ast$Src\-Byte\-Index, UNS8 Src\-Bit\-Index, UNS8 Src\-Big\-Endian, UNS8 $\ast$Dest\-Byte\-Index, UNS8 Dest\-Bit\-Index, UNS8 Dest\-Big\-Endian)
\end{CompactItemize}


\subsection{Typedef Documentation}
\hypertarget{pdo_8h_7f9085f960c6632e8c79537abac9a9ff}{
\index{pdo.h@{pdo.h}!s_PDO@{s\_\-PDO}}
\index{s_PDO@{s\_\-PDO}!pdo.h@{pdo.h}}
\subsubsection[s\_\-PDO]{\setlength{\rightskip}{0pt plus 5cm}typedef struct \hyperlink{structstruct__s__PDO}{struct\_\-s\_\-PDO} \hyperlink{structstruct__s__PDO}{s\_\-PDO}}}
\label{pdo_8h_7f9085f960c6632e8c79537abac9a9ff}


The PDO structure \hypertarget{pdo_8h_cebb3b4d895da8e726cc7eddb6035e6f}{
\index{pdo.h@{pdo.h}!s_process_var@{s\_\-process\_\-var}}
\index{s_process_var@{s\_\-process\_\-var}!pdo.h@{pdo.h}}
\subsubsection[s\_\-process\_\-var]{\setlength{\rightskip}{0pt plus 5cm}typedef struct \hyperlink{structstruct__s__process__var}{struct\_\-s\_\-process\_\-var} \hyperlink{structstruct__s__process__var}{s\_\-process\_\-var}}}
\label{pdo_8h_cebb3b4d895da8e726cc7eddb6035e6f}




\subsection{Function Documentation}
\hypertarget{pdo_8h_b9c82d949045cb7f52ed40d0ee8c7bf1}{
\index{pdo.h@{pdo.h}!buildPDO@{buildPDO}}
\index{buildPDO@{buildPDO}!pdo.h@{pdo.h}}
\subsubsection[buildPDO]{\setlength{\rightskip}{0pt plus 5cm}UNS8 build\-PDO (\hyperlink{structstruct__CO__Data}{CO\_\-Data} $\ast$ {\em d}, UNS16 {\em index})}}
\label{pdo_8h_b9c82d949045cb7f52ed40d0ee8c7bf1}


Prepare the PDO defined at index to be sent by PDOm\-GR Copy all the data to transmit in process\_\-var $\ast$pw\-Cob\-Id : returns the value of the cobid. (subindex 1) Return 0 or 0x\-FF if error. \hypertarget{pdo_8h_e468510c9f77f502207d961d26389918}{
\index{pdo.h@{pdo.h}!CopyBits@{CopyBits}}
\index{CopyBits@{CopyBits}!pdo.h@{pdo.h}}
\subsubsection[CopyBits]{\setlength{\rightskip}{0pt plus 5cm}void Copy\-Bits (UNS8 {\em Nb\-Bits}, UNS8 $\ast$ {\em Src\-Byte\-Index}, UNS8 {\em Src\-Bit\-Index}, UNS8 {\em Src\-Big\-Endian}, UNS8 $\ast$ {\em Dest\-Byte\-Index}, UNS8 {\em Dest\-Bit\-Index}, UNS8 {\em Dest\-Big\-Endian})}}
\label{pdo_8h_e468510c9f77f502207d961d26389918}




Definition at line 376 of file pdo.c.

References INTEGER8, and UNS8.\hypertarget{pdo_8h_298b8291fa35cca22264cf8a70bf138a}{
\index{pdo.h@{pdo.h}!PDOmGR@{PDOmGR}}
\index{PDOmGR@{PDOmGR}!pdo.h@{pdo.h}}
\subsubsection[PDOmGR]{\setlength{\rightskip}{0pt plus 5cm}UNS8 PDOm\-GR (\hyperlink{structstruct__CO__Data}{CO\_\-Data} $\ast$ {\em d}, UNS32 {\em cob\-Id})}}
\label{pdo_8h_298b8291fa35cca22264cf8a70bf138a}


Prepare a PDO frame transmission, whose different parameters are stored in process\_\-var table, to the slave. bus\_\-id is hardware dependant call the function send\-PDO return the result of the function send\-PDO or 0x\-FF if error 

Definition at line 61 of file pdo.c.

References struct\_\-s\_\-PDO::cob\-Id, struct\_\-s\_\-process\_\-var::count, struct\_\-s\_\-timer\_\-entry::d, struct\_\-s\_\-process\_\-var::data, struct\_\-s\_\-PDO::data, struct\_\-s\_\-PDO::len, MSG\_\-WAR, NOT\_\-A\_\-REQUEST, struct\_\-CO\_\-Data::process\_\-var, send\-PDO(), and UNS8.\hypertarget{pdo_8h_ae7d661cd3ef7adf93a0d08fdb15b7f2}{
\index{pdo.h@{pdo.h}!proceedPDO@{proceedPDO}}
\index{proceedPDO@{proceedPDO}!pdo.h@{pdo.h}}
\subsubsection[proceedPDO]{\setlength{\rightskip}{0pt plus 5cm}UNS8 proceed\-PDO (\hyperlink{structstruct__CO__Data}{CO\_\-Data} $\ast$ {\em d}, \hyperlink{structMessage}{Message} $\ast$ {\em m})}}
\label{pdo_8h_ae7d661cd3ef7adf93a0d08fdb15b7f2}


Compute a PDO frame reception bus\_\-id is hardware dependant return 0x\-FF if error, else return 0 

Definition at line 187 of file pdo.c.

References Message::cob\_\-id, Copy\-Bits(), struct\_\-s\_\-process\_\-var::count, struct\_\-s\_\-timer\_\-entry::d, Message::data, struct\_\-s\_\-process\_\-var::data, struct\_\-CO\_\-Data::first\-Index, get\-ODentry(), struct\_\-CO\_\-Data::last\-Index, Message::len, MSG\_\-ERR, MSG\_\-WAR, NOT\_\-A\_\-REQUEST, struct\_\-CO\_\-Data::objdict, OD\_\-SUCCESSFUL, s\_\-quick\_\-index::PDO\_\-RCV, s\_\-quick\_\-index::PDO\_\-RCV\_\-MAP, s\_\-quick\_\-index::PDO\_\-TRS, s\_\-quick\_\-index::PDO\_\-TRS\_\-MAP, PDOm\-GR(), td\_\-subindex::p\-Object, struct\_\-CO\_\-Data::process\_\-var, td\_\-indextable::p\-Subindex, REQUEST, set\-ODentry(), state1, state2, state4, state5, TRANS\_\-EVENT, TRANS\_\-RTR, TRANS\_\-RTR\_\-SYNC, UNS16, UNS32, UNS8, and SHORT\_\-CAN::w.\hypertarget{pdo_8h_a6774c219dc64c1cec4b4721ba23e15a}{
\index{pdo.h@{pdo.h}!sendPDO@{sendPDO}}
\index{sendPDO@{sendPDO}!pdo.h@{pdo.h}}
\subsubsection[sendPDO]{\setlength{\rightskip}{0pt plus 5cm}UNS8 send\-PDO (\hyperlink{structstruct__CO__Data}{CO\_\-Data} $\ast$ {\em d}, \hyperlink{structstruct__s__PDO}{s\_\-PDO} {\em pdo}, UNS8 {\em request})}}
\label{pdo_8h_a6774c219dc64c1cec4b4721ba23e15a}


Transmit a PDO data frame on the bus bus\_\-id pdo is a structure which contains the pdo to transmit bus\_\-id is hardware dependant return can\-Send(bus\_\-id,\&m) or 0x\-FF if error request can take the value REQUEST or NOT\_\-A\_\-REQUEST 

Definition at line 27 of file pdo.c.

References struct\_\-CO\_\-Data::can\-Handle, can\-Send(), Message::cob\_\-id, struct\_\-s\_\-PDO::cob\-Id, struct\_\-s\_\-timer\_\-entry::d, struct\_\-s\_\-PDO::data, Message::data, struct\_\-s\_\-PDO::len, Message::len, MSG\_\-WAR, struct\_\-CO\_\-Data::node\-State, NOT\_\-A\_\-REQUEST, Operational, REQUEST, Message::rtr, UNS8, and SHORT\_\-CAN::w.\hypertarget{pdo_8h_07ff33d0d2e6b1070bf3c27578006e8d}{
\index{pdo.h@{pdo.h}!sendPDOevent@{sendPDOevent}}
\index{sendPDOevent@{sendPDOevent}!pdo.h@{pdo.h}}
\subsubsection[sendPDOevent]{\setlength{\rightskip}{0pt plus 5cm}UNS8 send\-PDOevent (\hyperlink{structstruct__CO__Data}{CO\_\-Data} $\ast$ {\em d}, void $\ast$ {\em variable})}}
\label{pdo_8h_07ff33d0d2e6b1070bf3c27578006e8d}


\hypertarget{pdo_8h_cc08547009d3d2755d2291999941694c}{
\index{pdo.h@{pdo.h}!sendPDOrequest@{sendPDOrequest}}
\index{sendPDOrequest@{sendPDOrequest}!pdo.h@{pdo.h}}
\subsubsection[sendPDOrequest]{\setlength{\rightskip}{0pt plus 5cm}UNS8 send\-PDOrequest (\hyperlink{structstruct__CO__Data}{CO\_\-Data} $\ast$ {\em d}, UNS32 {\em cob\-Id})}}
\label{pdo_8h_cc08547009d3d2755d2291999941694c}


Transmit a PDO request frame on the bus bus\_\-id to the slave. bus\_\-id is hardware dependant Returns 0x\-FF if error, other in success. 

Definition at line 154 of file pdo.c.

References struct\_\-s\_\-PDO::cob\-Id, struct\_\-s\_\-timer\_\-entry::d, struct\_\-CO\_\-Data::first\-Index, struct\_\-CO\_\-Data::last\-Index, struct\_\-s\_\-PDO::len, MSG\_\-WAR, struct\_\-CO\_\-Data::objdict, s\_\-quick\_\-index::PDO\_\-RCV, td\_\-subindex::p\-Object, td\_\-indextable::p\-Subindex, REQUEST, send\-PDO(), UNS16, UNS32, and UNS8.